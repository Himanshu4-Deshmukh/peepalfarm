"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8896],{7430:function(e,t){t.Z={src:"/_next/static/media/dog-in-box-empty.5aea9089.png",height:240,width:240,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAA5klEQVR42h2PoU7DUBRAz329XTdADBL4BZJqDA6DRGJwGNT4BRweSfgHzCTfgECwkSwhgSzZgBVIVrZ0fX29NMsxRxxzZDp5GQApYBjiIllbCF6AoS6zcUrwtJKOuDhhvizAkK2dXWqzVL+eHgwXy9v0m+fXDx7v+5xdXnB83sOaQuezTDRWkmrF9W2fPeB0VYAoThF1Tog0ph2X3N1ccXB4RLe7TTBBqHEiWCh+8fmETa3ptB3eL8hnYyx40/2TnpSLnOx9xM+fpwoQ1SXa2iDSRORzOho0b6mBOaFBADGzWkJVDf8B+g9k9c2qoAsAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},73508:function(e,t,n){n.d(t,{u:function(){return o}});var i=n(52322);n(2784);var a=n(13980),r=n.n(a),l=n(23687);let o=e=>{let{links:t,logoUrl:n,logoSrText:a,name:r}=e,o=(0,i.jsx)(l.EG,{name:r}),u=(0,i.jsx)(l.Yy,{links:t}),d=(0,i.jsx)(l.wP,{links:t});return(0,i.jsx)(l.UP,{logoUrl:n,logoSrText:a,rightSegment:o,centerSegment:d,leftSegment:u,variant:"white"})};l.EG.displayName="LoggedInMenuLink",l.EG.propTypes={name:r().string.isRequired},o.displayName="AccountHeader",o.propTypes={links:r().array.isRequired,logoUrl:r().string.isRequired,logoSrText:r().string.isRequired,name:r().string.isRequired}},85469:function(e,t,n){n.d(t,{w:function(){return P}});var i=n(52322),a=n(2784),r=n(13980),l=n.n(r),o=n(6130),u=n(57522),d=n(54826),c=n(94165),s=n(72697);let h=s.ZP.div.withConfig({componentId:"sc-8d78f9d6-0"})(["padding:",";max-width:960px;margin:auto;text-align:center;@media ","{padding:",";}"],e=>e.theme.spacing(6,0),e=>e.theme.tablet,e=>e.theme.spacing(12,0)),p=s.ZP.h1.withConfig({componentId:"sc-8d78f9d6-1"})(["",";margin-bottom:",";margin-top:",";@media ","{",";}"],e=>e.theme.typography.heading1,e=>e.theme.spacing(8),e=>e.theme.spacing(3),e=>e.theme.tablet,e=>e.theme.typography.heading1),f=s.ZP.h6.withConfig({componentId:"sc-8d78f9d6-2"})(["",";font-weight:normal;"],e=>e.theme.typography.heading6),g=s.ZP.div.withConfig({componentId:"sc-8d78f9d6-3"})(["margin:0;max-width:210px;@media ","{max-width:336px;}margin-left:auto;margin-right:auto;"],e=>e.theme.tablet),v=s.ZP.p.withConfig({componentId:"sc-8d78f9d6-4"})(["",";margin:"," 0;@media ","{",";}"],e=>e.theme.typography.body,e=>e.theme.spacing(8),e=>e.theme.tablet,e=>e.theme.typography.body),m=s.ZP.span.withConfig({componentId:"sc-8d78f9d6-5"})(["display:block;font-weight:bold;"]),y=s.ZP.span.withConfig({componentId:"sc-8d78f9d6-6"})(["text-transform:capitalize;font-weight:bold;"]),E=s.ZP.div.withConfig({componentId:"sc-8d78f9d6-7"})(["gap:",";margin-top:",";min-width:300px;"," "," @media ","{min-width:400px;}"],e=>e.theme.spacing(5),e=>e.theme.spacing(6),e=>{let{top:t}=e;return t&&(0,s.iv)(["margin-top:",";"],e=>e.theme.spacing(10))},e=>{let{column:t}=e;return t&&(0,s.iv)(["flex-direction:column;display:inline-flex;"])},e=>e.theme.tablet),S=s.ZP.div.withConfig({componentId:"sc-8d78f9d6-8"})(["padding:0 ",";width:100%;"],e=>e.theme.spacing(2)),w=()=>({type:"No Recipes Available Screen Loaded"}),x=()=>({type:"No Recipes Available Screen Allergies Edited"}),b=()=>({type:"Extra dog with no recipes removed"}),R=()=>({type:"Extra dog with no recipes available"}),P=e=>{let{headline:t,subheadline:n,buttonText:r,onClick:l,secondaryButtonText:s,onSecondaryButtonClick:P,onClickDeletePet:_,messagePreText:A,messagePostText:O,allergies:D,image:C}=e,T=(0,c.Av)();(0,a.useEffect)(()=>{T.tag(w())},[T]),(0,a.useEffect)(()=>{_&&T.tag(R())},[T,_]);let I=()=>{T.tag(b()),_()};return(0,i.jsxs)(h,{children:[(0,i.jsx)(g,{children:(0,i.jsx)(u.t,{src:C.src,alt:C.alt,width:240,height:240})}),(0,i.jsxs)(S,{children:[(0,i.jsx)(p,{children:t}),(0,i.jsx)(f,{children:n}),(0,i.jsxs)(v,{children:[(0,i.jsx)(m,{children:"".concat(A," ")}),D.map((e,t)=>{let n=t===D.length-1;return(0,i.jsxs)("span",{children:[0!==t&&(0,i.jsxs)("span",{children:[", ",n&&"or "]}),(0,i.jsx)(y,{children:e.label})]},e.label)})]}),(0,i.jsx)(f,{children:O})]}),(0,i.jsxs)(E,{top:!0,column:!0,children:[(0,i.jsx)(o.zx,{onClick:()=>{T.tag(x()),l()},children:r}),(null==s?void 0:s.length)&&P&&(0,i.jsx)(o.zx,{onClick:P,variant:"secondary",children:s})]}),_&&(0,i.jsx)(E,{children:(0,i.jsx)(d.Z,{onClick:()=>I(),children:"Remove this pup, and return to checkout"})})]})};P.displayName="NoRecipesFound",P.propTypes={headline:l().string.isRequired,subheadline:l().string.isRequired,buttonText:l().string.isRequired,onClick:l().func.isRequired,secondaryButtonText:l().string,onSecondaryButtonClick:l().func,messagePreText:l().string.isRequired,messagePostText:l().string.isRequired,image:l().shape({src:l().string.isRequired,alt:l().string.isRequired}).isRequired,allergies:l().array.isRequired,onClickDeletePet:l().func}},41669:function(e,t,n){n.d(t,{rM:function(){return b},Aj:function(){return m},oZ:function(){return E},rB:function(){return y},yi:function(){return v}});var i=n(2784),a=n(43649),r=n(94233),l=n(58997),o=n(12225),u=n(29824),d=n(39825),c=n(32675),s=n(50701),h=n(76898);let p="/api/v3/orders/",f=(e,t,n)=>e?"/api/v3/customers/".concat(e,"/order-history/?page=").concat(t,"&limit=").concat(n):null;class g extends s.bQ{constructor(...e){super(...e),this.get=e=>this.client.get("".concat(p).concat(e,"/")),this.list=()=>this.client.get(p)}}let v=()=>{let{data:e,error:t}=(0,s.yh)(p);return{orders:null==e?void 0:e.data,error:t,isLoading:!e&&!t}},m=e=>{let{data:t,error:n}=(0,s.yh)(e?"".concat(p).concat(e,"/"):null);return{order:t,isLoading:!!e&&!n&&!t,error:n}},y=e=>{let t=(0,s.G2)(g),{mutate:n}=(0,a.kY)(),{data:i,error:r}=(0,l.N)(null==e?void 0:e.map(e=>"".concat(p).concat(e,"/")));return{orders:i,isLoading:!r&&!i,listOrders:async()=>{let e=await t.list(),i=e.data.data.map(e=>e.id),a=(await Promise.all(i.map(e=>t.get(e)))).map(e=>e.data);for(let t of(n(p,e.data,!1),a))t.id&&n("".concat(p).concat(t.id,"/"),t,!1);return a},error:r}},E=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,{customer:t,isLoading:n}=(0,h.Vq)(),{data:i,size:a,setSize:l,isLoading:o,isValidating:u,error:d}=(0,r.ZP)((i,a)=>(i+=1,n||a&&!(null==a?void 0:a.data.length))?null:f(null==t?void 0:t.id,i,e)),c=null==i?void 0:i.flatMap(e=>e.data),s=(null==i?void 0:i.length)?i[i.length-1].next_page:null;return{orderCount:(null==i?void 0:i.length)?i[0].count:0,nextPage:s,orders:c,size:a,setSize:l,isLoading:o||n,isValidating:u,error:d}},S=e=>null==e?void 0:e[0],w=e=>null==e?void 0:e[e.length-1],x=(e,t,n)=>e&&t&&n?(0,o.Z)({start:t,end:n}).filter(t=>!e.includes((0,u.default)(t,"yyyy-MM-dd"))).map(e=>(0,d.default)(e)):[],b=e=>{var t;let{customerId:n,zipCode:r,transitOption:l,startDate:o,commercial:u}=e,{data:d,error:s,mutate:h}=(0,a.ZP)(n&&r?"".concat(p,"delivery_dates/?customer=").concat(n,"&zip_code=").concat(r).concat(l?"&transit_option=".concat(l):"").concat(o?"&start_date=".concat(o):"").concat(void 0!==u?"&commercial=".concat(u):""):null),f=null==d?void 0:null===(t=d.available_dates)||void 0===t?void 0:t.map(e=>e.delivery_date),g=S(f),v=w(f),m=(0,i.useMemo)(()=>g?(0,c.default)(g):null,[g]),y=(0,i.useMemo)(()=>v?(0,c.default)(v):null,[v]),E=(0,i.useMemo)(()=>x(f,m,y),[y,m,f]);return{isLoading:!s&&!d,isError:s,deliveryDates:f,disabledDates:E,minDate:m,maxDate:y,updateDeliveryDates:h}}},3184:function(e,t,n){n.d(t,{B9:function(){return d},FW:function(){return u},PD:function(){return a},Rt:function(){return o},Ru:function(){return i},bO:function(){return c},kv:function(){return h},l8:function(){return r},vj:function(){return l},xO:function(){return s}});let i="/api/v3/pets/",a=3,r=180,l="Ollie is currently available only to pups between ".concat(a," and ").concat(r," pounds"),o="Please use a whole number for pup weight",u={breeds:[],allergies:[],name:"",id:null,birth_date:null},d={SUBJECT:"Subject",OBJECT:"Object",POSSESSIVE_ADJECTIVE:"Possessive Adjective",POSSESSIVE_PRONOUNS:"Possessive Pronouns",REFLEXIVE:"Reflexive"},c={[d.SUBJECT]:"i",[d.OBJECT]:"me",[d.POSSESSIVE_ADJECTIVE]:"my",[d.POSSESSIVE_PRONOUNS]:"mine",[d.REFLEXIVE]:"myself"},s={[d.SUBJECT]:"you",[d.OBJECT]:"you",[d.POSSESSIVE_ADJECTIVE]:"your",[d.POSSESSIVE_PRONOUNS]:"yours",[d.REFLEXIVE]:"yourself"},h={Female:{[d.SUBJECT]:"she",[d.OBJECT]:"her",[d.POSSESSIVE_ADJECTIVE]:"her",[d.POSSESSIVE_PRONOUNS]:"hers",[d.REFLEXIVE]:"herself"},Male:{[d.SUBJECT]:"he",[d.OBJECT]:"him",[d.POSSESSIVE_ADJECTIVE]:"his",[d.POSSESSIVE_PRONOUNS]:"his",[d.REFLEXIVE]:"himself"},NoGender:{[d.SUBJECT]:"your pup",[d.OBJECT]:"their",[d.POSSESSIVE_ADJECTIVE]:"their",[d.POSSESSIVE_PRONOUNS]:"theirs",[d.REFLEXIVE]:"theirself"}}},9575:function(e,t,n){n.d(t,{Ay:function(){return S},K3:function(){return b},Pz:function(){return w},V4:function(){return D},a0:function(){return x},eF:function(){return E},f9:function(){return A},fe:function(){return T},gp:function(){return y},wH:function(){return C}});var i=n(32675),a=n(59450),r=n(79964),l=n(5356),o=n(45237),u=n(28455),d=n(77759),c=n(7793),s=n(29824),h=n(48963),p=n(12225),f=n(37394),g=n(3184);let v={none:"has no allergies",one:"is allergic to ",many:"is allergic to "},m={Low:"more mellow",Moderate:"more active",High:"highly active"},y=e=>{var t;let n=null!==(t=null==e?void 0:e.map(e=>e.name))&&void 0!==t?t:[];return n.length?n.length>1?n.join("/"):n[0]:"Unknown Adorable Mix"},E=function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v;n={...v,...n};let i=null!==(t=null==e?void 0:e.map(e=>e.name))&&void 0!==t?t:[];return i.length?i.length>1?n.many.concat((0,f.i)(i)):n.one.concat(i[0]):n.none},S=e=>{"string"==typeof e&&(e=(0,i.default)(e));let t=(0,a.Z)(Date.now(),e),n=(0,r.Z)(Date.now(),e);return t<12?"".concat(t," months old"):12===t?"1 year old":t%12==0?"".concat(t/12," years old"):"".concat(n," ").concat(n>1?"years":"year"," and ").concat(t%12," months old")},w=e=>{"string"==typeof e&&(e=(0,i.default)(e));let t=(0,a.Z)(Date.now(),e),n=(0,r.Z)(Date.now(),e);return t<12?"".concat(t," month old"):12===t?"1 year old":t%12==0?"".concat(t/12," year old"):"".concat(n," year and ").concat(t%12," month old")},x=(e,t)=>{let n="Female"===e?"spayed":"neutered";return t?"is ".concat(n):"isn't ".concat(n)},b=e=>m[e],R=()=>{throw Error("Value is not valid Gender. Must be Female, Male, or NoGender (default)")},P=()=>{throw Error("Value is not valid perspective. Must be number between 1 & 3")},_=e=>{throw Error("Type of value '".concat(e,"' is not valid"))},A=function(e){var t,n,i;let{type:a=null,perspective:r=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(e||a||r||P(),e||(e="NoGender"),a||(a=g.B9.POSSESSIVE_ADJECTIVE),r||(r=1),["Female","Male","NoGender"].includes(e)||R(),1===r)?null!==(t=g.bO[a])&&void 0!==t?t:_(a):2===r?null!==(n=g.xO[a])&&void 0!==n?n:_(a):3===r?null!==(i=g.kv[e][a])&&void 0!==i?i:_(a):void P()},O=e=>e.sort(function(e,t){return t.value-e.value}),D=()=>{let e=new Date;return O((0,l.Z)({start:(0,o.default)(e,25),end:e}).map(e=>({value:(0,u.default)(e).toString(),label:(0,u.default)(e).toString()})))},C=e=>{if(e<=0)return[];let t=(0,u.default)(new Date),n=(0,d.default)("".concat(e,"-1-1"),"yyyy-MM-dd",new Date),i=Number(t)===Number(e)?new Date:(0,d.default)("".concat(e,"-12-1"),"yyyy-MM-dd",new Date);return(0,c.Z)({start:n,end:i}).map(e=>({value:(0,s.default)(e,"MM"),label:(0,s.default)(e,"MMMM")}))},T=(e,t,n)=>{if(t<=0||t>12)return[];let i=(0,d.default)("".concat(e,"-").concat(t,"-1"),"yyyy-MM-dd",new Date),a=(0,h.default)(i);return[{label:n,value:""},...(0,p.Z)({start:i,end:a}).map(e=>({value:(0,s.default)(e,"dd"),label:(0,s.default)(e,"dd")}))]}},16395:function(e,t,n){n.d(t,{FW:function(){return o.FW},B9:function(){return o.B9},Vc:function(){return u},K3:function(){return v.K3},Ay:function(){return v.Ay},Pz:function(){return v.Pz},eF:function(){return v.eF},gp:function(){return v.gp},f9:function(){return v.f9},kB:function(){return d},Dc:function(){return g},yE:function(){return h},tI:function(){return p},pT:function(){return s}});var i=n(2784),a=n(43649),r=n(50701),l=n(21121),o=n(3184);let u=e=>({name:e.name,gender:e.gender,breeds:e.breeds.map(e=>{let{value:t}=e;return t}),allergies:e.allergies.map(e=>{let{value:t}=e;return t}),weight:e.weight,ideal_weight:e.idealWeight,activity_level:e.activity,is_neutered:e.spayedStatus,birth_date:"".concat(e.year,"-").concat(e.month,"-").concat(e.day||"01"),recommendation_version:e.recommendationVersion}),d=e=>{var t,n,i,a,r,l;let[o,u,d]=null!==(a=null===(t=e.birth_date)||void 0===t?void 0:t.split("-"))&&void 0!==a?a:["","",""];return{name:e.name,gender:e.gender,weight:e.weight,idealWeight:e.ideal_weight,activity:e.activity_level,spayedStatus:"".concat(e.is_neutered),year:o,month:u,day:d,breeds:null!==(r=null===(n=e.breeds)||void 0===n?void 0:n.map(e=>({value:e.id,label:e.name})))&&void 0!==r?r:[],allergies:null!==(l=null===(i=e.allergies)||void 0===i?void 0:i.map(e=>{let{id:t,name:n}=e;return{name:n,label:n,value:t}}))&&void 0!==l?l:[]}};class c extends r.bQ{constructor(...e){super(...e),this.list=()=>this.client.get("".concat(o.Ru)),this.create=async e=>await this.client.post(o.Ru,e),this.update=(e,t)=>this.client.patch("".concat(o.Ru).concat(e,"/"),t),this.delete=e=>this.client.delete("".concat(o.Ru).concat(e,"/"))}}let s=function(){var e;let{hasSubscription:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{mutate:n,cache:l}=(0,a.kY)(),{service:u}=(0,r.kP)(),d=(0,r.G2)(c),{data:s,error:h,mutate:p}=(0,r.yh)(o.Ru),f=async e=>{var t;let n=await d.create(e);return p({...s,results:[...null!==(t=null==s?void 0:s.results)&&void 0!==t?t:[],n.data]},!1),n},g=(0,i.useMemo)(()=>null==s?void 0:s.results.filter(e=>null==t||(!t||!!e.subscription_id)&&(!!t||!e.subscription_id)),[null==s?void 0:s.results,t]),v=async(e,t)=>{var i;let a=await d.update(e,t);for(let t of(p({...s,results:null!==(i=null==s?void 0:s.results.map(t=>t.id===e?a.data:t))&&void 0!==i?i:[a.data]},!1),l.keys()))t.includes("product")&&n(t,null,!0);return a},m=async e=>{var t;let n=await d.delete(e);return p({...s,results:null!==(t=null==s?void 0:s.results.filter(t=>t.id!==e))&&void 0!==t?t:[]},!0),n},y=async()=>{let e=await d.list();for(let t of(p(e.data,!1),e.data.results))t.id&&n("".concat(o.Ru).concat(t.id,"/"),t,!1);return e};return{pets:(null===(e=u.user)||void 0===e?void 0:e.id)?g:[],isLoading:!h&&!s,error:h,refreshPets:p,createPet:f,updatePet:v,deletePet:m,listPets:y}},h=e=>{let t=(0,r.G2)(c),{mutate:n,cache:l}=(0,a.kY)(),{pets:u}=s(),{data:d,error:h,mutate:p}=(0,r.yh)(e?"".concat(o.Ru).concat(e,"/"):null),f=async e=>{let i=await t.create(e);return n("".concat(o.Ru).concat(i.data.id,"/"),i.data,!1),n("".concat(o.Ru),{results:u},!0),i},g=async e=>{let i=await t.update(d.id,e);for(let e of(p(i.data,!1),n("".concat(o.Ru),{results:u},!0),l.keys()))e.includes("product")&&n(e);return i},v=async e=>(null==d?void 0:d.id)?g(e):f(e),m=async()=>t.delete(d.id);return{pet:d||o.FW,error:h,isLoading:!!e&&!d&&!h,refreshPet:(0,i.useCallback)(e=>p(e),[p]),savePet:v,deletePet:m,createPet:f}},p=e=>{var t;let{service:n}=(0,r.kP)(),i=h(e),[a,u]=(0,l._)("pet",o.FW),d=async e=>{var t;if(null==n?void 0:null===(t=n.user)||void 0===t?void 0:t.id)return e.breeds&&(e.breeds=e.breeds.map(e=>"object"==typeof e?e.id:e)),e.allergies&&(e.allergies=e.allergies.map(e=>"object"==typeof e?e.id:e)),await i.savePet(e);let r={...a,...e};return u(r),{status:201,data:r}};return(null==n?void 0:null===(t=n.user)||void 0===t?void 0:t.id)?{...i,savePet:d}:{pet:a,savePet:d,isLocalPet:!0,deleteLocalPet:()=>u(o.FW)}};var f=n(41669);let g=e=>{var t;let{data:n,error:i}=(0,r.yh)(e?"".concat(o.Ru).concat(e,"/orders/"):null),{order:a,error:l,isLoading:u}=(0,f.Aj)(null==n?void 0:null===(t=n[0])||void 0===t?void 0:t.id);return{order:a,error:i||l,isLoading:u}};var v=n(9575)},64579:function(e,t,n){n.d(t,{l:function(){return d},n:function(){return c}});var i=n(52322),a=n(2784),r=n(13980),l=n.n(r),o=n(5632),u=n(96739);let d=e=>{let{to:t,replace:n=!1,children:r=null}=e,l=(0,o.useRouter)();return(0,a.useEffect)(()=>{n?l.replace(t):l.push(t)},[n,l,t]),null!=r?r:(0,i.jsx)(u.J,{})};d.propTypes={to:l().oneOfType([l().string,l().object]).isRequired,replace:l().bool,children:l().node};let c=()=>{let{asPath:e}=(0,o.useRouter)();return(0,i.jsx)(d,{to:{pathname:"/auth/login",query:{next:e}}})};c.displayName="RedirectToLogin"},55005:function(e,t,n){n.d(t,{_5:function(){return g},mU:function(){return E},Pd:function(){return r}});var i=n(50701),a=n(81295);let r=()=>{let{data:e,error:t}=(0,i.yh)(a.X);return{isLoading:!t&&!(null==e?void 0:e.data),isError:t,subscriptions:null==e?void 0:e.data}};var l=n(43649),o=n(12225),u=n(29824),d=n(39825),c=n(32675),s=n(2784);let h=e=>null==e?void 0:e[0],p=e=>null==e?void 0:e[e.length-1],f=(e,t,n)=>e&&t&&n?(0,o.Z)({start:t,end:n}).filter(t=>!e.includes((0,u.default)(t,"yyyy-MM-dd"))).map(e=>(0,d.default)(e)):[],g=e=>{let{data:t,error:n,mutate:i}=(0,l.ZP)(e?"".concat(a.X).concat(e,"/delivery_dates/"):null),r=h(null==t?void 0:t.next_date),o=p(null==t?void 0:t.next_date),u=(0,s.useMemo)(()=>r?(0,c.default)(r):null,[r]),d=(0,s.useMemo)(()=>o?(0,c.default)(o):null,[o]),g=(0,s.useMemo)(()=>f(null==t?void 0:t.next_date,u,d),[null==t?void 0:t.next_date,d,u]);return{isLoading:!n&&!t,isError:n,deliveryDates:null==t?void 0:t.next_date,disabledDates:g,minDate:u,maxDate:d,updateDeliveryDates:i}};var v=n(41669);let m=e=>{let t=null,{order:n,isLoading:i}=(0,v.Aj)(null==e?void 0:e.current_order_id);return!i&&(null==e?void 0:e.is_locked_in)?t=(0,c.default)(null==n?void 0:n.delivery_date):e&&(t=(0,c.default)(null==e?void 0:e.next_delivery_target)),{isNextDeliveryTargetLoading:!t,nextDeliveryDate:t}};class y extends i.bQ{constructor(...e){super(...e),this.updateSubscription=async(e,t)=>await this.client.patch("".concat(a.X).concat(e,"/"),t),this.skipNextDelivery=async e=>await this.client.patch("".concat(a.X).concat(e,"/skip_next_delivery/"),{}),this.reactivatePlan=async(e,t,n)=>await this.client.put("".concat(a.X).concat(e,"/activate/").concat(n?"?campaign_id=".concat(n):""),t?{coupon_code:t}:{})}}let E=e=>{let t=(0,i.G2)(y),{mutate:n}=(0,l.kY)(),{subscriptions:o,isLoading:u}=r(),d=null==o?void 0:o.find(t=>t.pet_id===e),{updateDeliveryDates:c}=g(null==d?void 0:d.id),{nextDeliveryDate:s,isNextDeliveryTargetLoading:h}=m(d),p=e=>n(a.X,{data:o.map(t=>t.id===d.id?e:t)},!1),f=async e=>{try{let n=await t.updateSubscription(d.id,e);return await c(),await p(n.data),i.fE.success(n)}catch(e){return(0,i.nZ)(e)}},v=async()=>{try{let e=await t.skipNextDelivery(d.id);return p(e.data),i.fE.success(e)}catch(e){return(0,i.nZ)(e)}},E=async(e,n)=>{try{let a=await t.reactivatePlan(d.id,e,n);return p(a.data),i.fE.success(a)}catch(e){return(0,i.nZ)(e)}};return{subscription:d,isLoading:u||h,nextDeliveryDate:s,updateSubscription:f,skipNextDelivery:v,reactivatePlan:E}}},96739:function(e,t,n){n.d(t,{J:function(){return i.J}});var i=n(88119)},37394:function(e,t,n){n.d(t,{i:function(){return a},q:function(){return r}}),n(61572),n(68977),n(63978);let i=new Intl.ListFormat("en-US",{style:"long",type:"conjunction"}),a=e=>i.format(e),r=(e,t)=>{let n=[];for(let i of Object.keys(t))if(e[i]){let a=t[i].content(e[i]),r=t[i].label;n.push({label:r,content:a})}return n}}}]);
//# sourceMappingURL=8896-859d1ff20408e0fb.js.map
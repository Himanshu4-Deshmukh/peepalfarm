(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5454],{88390:function(e,t,i){var r=i(45386),n=i(38333),o=i(34893),a=i(50343),s=i(47826),l=i(59950),d=Math.min;e.exports=function(e,t,i){for(var c=i?o:n,u=e[0].length,p=e.length,m=p,h=Array(p),g=1/0,f=[];m--;){var y=e[m];m&&t&&(y=a(y,s(t))),g=d(y.length,g),h[m]=!i&&(t||u>=120&&y.length>=120)?new r(m&&y):void 0}y=e[0];var b=-1,x=h[0];e:for(;++b<u&&f.length<g;){var v=y[b],w=t?t(v):v;if(v=i||0!==v?v:0,!(x?l(x,w):c(f,w,i))){for(m=p;--m;){var C=h[m];if(!(C?l(C,w):c(e[m],w,i)))continue e}x&&x.push(w),f.push(v)}}return f}},5642:function(e,t,i){var r=i(93746);e.exports=function(e){return r(e)?e:[]}},30898:function(e,t,i){var r=i(50343),n=i(88390),o=i(36060),a=i(5642),s=o(function(e){var t=r(e,a);return t.length&&t[0]===e[0]?n(t):[]});e.exports=s},45455:function(e,t,i){var r=i(86411),n=i(70940),o=i(79631),a=i(86152),s=i(67878),l=i(73226),d=i(16001),c=i(77598),u=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||l(e)||c(e)||o(e)))return!e.length;var t=n(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(d(e))return!r(e).length;for(var i in e)if(u.call(e,i))return!1;return!0}},18149:function(e,t,i){var r=i(88746);e.exports=function(e,t){return r(e,t)}},75652:function(e,t,i){var r=i(67326);e.exports=function(e){return e&&e.length?r(e):[]}},88207:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/onboarding/[[...path]]",function(){return i(67762)}])},60701:function(e,t,i){"use strict";i.d(t,{PI:function(){return s},qx:function(){return d}});var r=i(2784),n=i(50701);let o="/api/v3/allergies/";var a=i(43649);let s=()=>{let{data:e}=(0,a.ZP)(o);return e},l=()=>{let e=(0,n.m8)();return(0,r.useCallback)(async t=>{let i="".concat(o,"?term=").concat(t),{data:r}=await e.get(i);return r},[e])},d=()=>{let e=l();return(0,r.useCallback)(async t=>(await e(t)).map(e=>{let{name:t,id:i}=e;return{label:t,value:i}}),[e])}},29512:function(e,t,i){"use strict";i.d(t,{N:function(){return C}});var r=i(52322),n=i(2784),o=i(13980),a=i.n(o),s=i(90932),l=i(43649),d=i(73949),c=i(72697);function u(e){return e.checked?e.theme.colors.neutral.bone:e.theme.colors.background.base}function p(e){return e.checked?e.theme.colors.border.dark:e.theme.colors.neutral.bone}let m=c.ZP.button.withConfig({componentId:"sc-b4ad7fe2-0"})([""," align-items:center;background:",";border:1px solid ",";display:inline-flex;margin:",";padding:0 ",";user-select:none;color:",";height:",";border-radius:",";&:hover{background:",";border-color:",";}&:focus{outline:0;border:2px solid ",";padding:0 ",";}"],e=>e.theme.typography.label,u,p,e=>{let{margin:t}=e;return t},e=>{let{size:t}=e;return"small"===t?"8px":"20px"},e=>e.theme.colors.text.primary,e=>{let{size:t}=e;return"small"===t?"34px":"large"===t?"56px":"48px"},e=>{let{size:t}=e;return"small"===t?"16px":"large"===t?"28px":"24px"},function(e){return e.checked?u(e):e.theme.colors.background.base},function(e){return e.checked?p(e):e.theme.colors.text.primary},e=>e.theme.colors.text.primary,e=>{let{size:t}=e;return"small"===t?"7px":"19px"}),h=c.ZP.div.withConfig({componentId:"sc-b4ad7fe2-1"})(["display:flex;margin-right:11px;"]),g=c.ZP.div.withConfig({componentId:"sc-b4ad7fe2-2"})(["display:flex;margin-right:10px;"]),f=c.ZP.div.withConfig({componentId:"sc-b4ad7fe2-3"})(["margin-right:10px;color:",";"],e=>e.theme.colors.text.primary),y={small:"17px",medium:"20px",large:"20px"},b=e=>{let{checked:t=!1,label:i,margin:n,onClick:o,showIcon:a,size:s="medium"}=e;return(0,r.jsxs)(m,{type:"button",onClick:o,margin:n,size:s,checked:t,children:["delete"===a&&(0,r.jsx)(g,{children:(0,r.jsx)(d.JO,{iconName:"close-circle",alt:"delete icon",size:y[s],id:"chip_delete"})}),(0,r.jsx)(f,{children:i}),"check"===a&&t&&(0,r.jsx)(h,{children:(0,r.jsx)(d.JO,{iconName:"check",alt:"check icon",size:y[s],color:"text.secondary",id:"chip_check"})})]})};b.displayName="Chip",b.propTypes={checked:a().bool,label:a().string.isRequired,margin:a().string,onClick:a().func,showIcon:a().oneOf(["check","delete"]),size:a().oneOf(["small","medium","large"])};var x=i(44694);let v=e=>{let{items:t,selectedItems:i,getItemProps:n,highlightedIndex:o,searchLabel:a,searchValue:s,isLoading:l=!1,max:d}=e;return d&&i.length>=d.count?(0,r.jsx)(x.Hc,{children:d.message}):l?(0,r.jsx)(x.Hc,{children:"Loading..."}):t.length<=0?s.length>0?(0,r.jsxs)(x.Hc,{children:['Nothing found for "',s,'"']}):(0,r.jsx)(x.Hc,{children:a}):t.map((e,t)=>(0,r.jsx)(x.ck,{...n({item:e,index:t}),$highlighted:o===t,children:e.label},e.value))};v.propTypes={items:a().array.isRequired,selectedItems:a().array.isRequired,getItemProps:a().func.isRequired,highlightedIndex:a().number.isRequired,searchLabel:a().string.isRequired,searchValue:a().string,isLoading:a().bool,max:a().shape({count:a().number.isRequired,message:a().string.isRequired})};let w=e=>e.trim(),C=e=>{let{searchLabel:t,name:i,values:o,selectedValues:a,featuredValues:c=[],onChange:u,max:p,itemsToShow:m={desktop:6,mobile:4}}=e,{getSelectedItemProps:h,getDropdownProps:g,selectedItems:f}=(0,s.M$)({selectedItems:a}),y=(0,n.useCallback)(e=>{let[,t]=e;return Array.isArray(o)?o.filter(e=>{let{label:i}=e;return i.includes(t)}):o(t)},[o]),[C,j]=(0,n.useState)(""),R=f.length>0||""!==C,{data:_=[],isValidating:P}=(0,l.ZP)(["MultiSelect:".concat(i),w(C)],y,{revalidateOnFocus:!1,revalidateOnReconnect:!1}),k=(e,t)=>e.find(e=>e.label===t),q=(e,t)=>e.filter(e=>{let{label:i}=e;return!k(t,i)}),{isOpen:S,getToggleButtonProps:I,getLabelProps:T,getMenuProps:Z,getInputProps:B,highlightedIndex:L,getItemProps:A,selectItem:N}=(0,s.Kb)({id:i,inputValue:C,items:q(_,f),itemToString:e=>{var t;return null!==(t=null==e?void 0:e.label)&&void 0!==t?t:""},onStateChange:e=>{let{type:t,selectedItem:i}=e;switch(t){case s.Kb.stateChangeTypes.InputKeyDownEnter:case s.Kb.stateChangeTypes.ItemClick:case s.Kb.stateChangeTypes.InputBlur:i&&(j(""),u([...f,i]),N(null))}}}),E=(e=>{let{mobile:t,desktop:i}=e;return{mobile:Math.min(t,_.length)||1,desktop:Math.min(i,_.length)||1}})("number"==typeof m?{mobile:m,desktop:m}:m);return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(x.Gh,{children:[q(f,c).map((e,t)=>(0,r.jsx)(x.Bq,{...h({selectedItem:e,index:t}),children:(0,r.jsx)(b,{label:e.label,size:"small",showIcon:"delete",onClick:()=>u(f.filter(t=>t!==e))})},e.value)),(0,r.jsxs)(x.fv,{children:[(0,r.jsx)(x.Mj,{...B(g({preventKeyAction:S,onKeyDown:e=>{0===f.length&&"Enter"===e.key&&e.preventDefault()},onChange:e=>{j(e.target.value)}}))}),(0,r.jsx)(x.C6,{...T(),$hideSearchLabel:R,children:t}),(0,r.jsxs)(x.Zb,{children:[C,"\xa0"]})]}),(0,r.jsx)(x.jC,{...I(),type:"button","aria-label":"toggle menu",children:(0,r.jsx)(d.JO,{iconName:"chevron-down",alt:"Open Menu",size:1,id:"multiselect_open"})}),(0,r.jsx)(x.v2,{...Z(),$isOpen:S,$itemsToShow:E,children:S&&(0,r.jsx)(v,{items:q(_,f),selectedItems:f,getItemProps:A,highlightedIndex:L,searchLabel:t,searchValue:C,max:p,isLoading:P})})]})})},j=a().shape({label:a().string.isRequired,value:a().string.isRequired});C.propTypes={searchLabel:a().string.isRequired,name:a().string.isRequired,values:a().oneOfType([a().arrayOf(j),a().func]).isRequired,selectedValues:a().arrayOf(j).isRequired,featuredValues:a().array,max:a().shape({count:a().number.isRequired,message:a().string.isRequired}),onChange:a().func.isRequired,itemsToShow:a().oneOfType([a().number,a().shape({desktop:a().number.isRequired,mobile:a().number.isRequired})])}},66572:function(e,t,i){"use strict";i.d(t,{ze:function(){return a}});var r=i(2784),n=i(50701);i(43649);let o=()=>{let e=(0,n.m8)();return(0,r.useCallback)(async t=>{let i="".concat("/api/v3/breeds/").concat(t?"?term=".concat(t):""),{data:r}=await e.get(i);return r},[e])},a=()=>{let e=o();return(0,r.useCallback)(async t=>(await e(t)).map(e=>{let{name:t,id:i}=e;return{label:t,value:i}}),[e])}},97631:function(e,t,i){"use strict";i.d(t,{n:function(){return p}});var r=i(52322);i(2784);var n=i(96577),o=i.n(n),a=i(13980),s=i.n(a),l=i(74451),d={src:"/_next/static/media/Question-Icon.19d14654.svg",height:24,width:24,blurWidth:0,blurHeight:0},c={src:"/_next/static/media/Info-Icon.bf450fe9.svg",height:24,width:24,blurWidth:0,blurHeight:0};let u=i(72697).ZP.div.attrs({tabIndex:0}).withConfig({componentId:"sc-64c07310-0"})(["width:16px;height:16px;"]),p=e=>{let{children:t,name:i="more info",placement:n="left",variant:a="default",colorVariant:s}=e;return(0,r.jsx)(l.u,{placement:n,trigger:e=>(0,r.jsx)(u,{...e,children:(0,r.jsx)(o(),{alt:i,src:"info"===a?c:d})}),colorVariant:s,children:t})};p.displayName="TooltipIcon",p.propTypes={colorVariant:s().string,children:s().node.isRequired,name:s().string,placement:s().oneOf(["auto","auto-end","auto-start","top","top-end","top-start","right","right-end","right-start","bottom","bottom-end","bottom-start","left","left-end","left-start"]),variant:s().oneOf(["default","info"]),size:s().string}},73550:function(e,t,i){"use strict";i.d(t,{c:function(){return o},t:function(){return n}});var r=i(72697);let n=r.ZP.div.withConfig({componentId:"sc-da4c0b47-0"})(["display:grid;grid-gap:",";grid-template-columns:1fr 1fr;width:100%;"],e=>e.theme.spacing(3)),o=r.ZP.div.withConfig({componentId:"sc-da4c0b47-1"})(["margin-top:",";text-align:left;width:100%;"],e=>e.theme.spacing(2))},67762:function(e,t,i){"use strict";i.r(t),i.d(t,{__N_SSP:function(){return d4},default:function(){return d2}});var r={};i.r(r),i.d(r,{about_form:function(){return eX},activity_question:function(){return eQ},allergies_question:function(){return eU},app_confirmation:function(){return tb},birthday_question:function(){return eM},breed_question:function(){return eW},calories_question:function(){return eV},checkout:function(){return eF},confirmation:function(){return ti},extras:function(){return e8},nutrition_form:function(){return eH},plan_selection:function(){return eJ},poop_question:function(){return ez},product_type:function(){return eJ},pup_info_question:function(){return eD},recommended_plan:function(){return e0},redirect_route:function(){return tx},user_info_question:function(){return eO}});var n=i(52322),o=i(2784),a=i(13980),s=i.n(a),l=i(97729),d=i.n(l),c=i(94165),u=i(70433),p=i(15988),m=i(64579);let h="quiz",g="mealprep",f="recipes",y="extras",b="recommended-plan",x="checkout",v="confirmation",w="app-confirmation",C=[h,g,b,f,y,x,v,w],j="customerinfo",R="petname",_="petbirthday",P="petbreed",k="petweight",q="petactivity",S="petallergies",I="petpoop",T="baked",Z="fresh",B="about",L="nutrition",A=[j,R,_,P,k,q,S,I,Z,T,"product",B,L];s().oneOf(C),s().oneOf(A),s().node.isRequired,s().shape({id:s().string.isRequired}).isRequired,s().oneOf(C).isRequired,s().oneOf(A),s().node.isRequired;let N=e=>{let{pet:t,children:i}=e;return(0,n.jsx)(m.l,{replace:!0,to:"/account/?pet_id=".concat(t.id),children:i})};N.propTypes={children:s().node.isRequired,pet:s().shape({id:s().string.isRequired}).isRequired};var E=i(38398),K=i(5632),F=i.n(K),O=i(82876),D=i(62296),M=i(89644),W=i.n(M),V=i(96739),Q=i(82465);let z=(e,t,i,r,n,a)=>{var s;let l=(0,K.useRouter)(),[d,c]=null!==(s=l.query.path)&&void 0!==s?s:[],u=c?"".concat(d,"/").concat(c):d,p=(0,o.useCallback)(()=>{if(!e.current){let e=t?{isAppSession:t}:{};i&&(i===v||i===x||i===w)&&u!==i?l.push({pathname:"".concat(i),query:e}):i&&u!==i&&!r.includes(i)&&(e.pet_id=n,l.push({pathname:"".concat(i),query:e}))}},[u,l,t,n,e,i,r]);(0,o.useEffect)(()=>{p();let t=()=>{e.current=!1,p(),a(!1)};return l.events.on("routeChangeComplete",t),()=>{l.events.off("routeChangeComplete",t)}},[p,l,e,a])},U=()=>({type:"Onboarding View Plan"}),X=()=>({type:"User views Crunching Numbers page"}),H=()=>({type:"Multistep Onboarding Initiated",data:{version:"3.0"}}),Y=(e,t)=>{if(0!==e)return{email:t.email}},G=(e,t,i)=>({type:"Onboarding Response Submitted",data:{position:e,question:t,customer_info:Y(e,i)}}),$=e=>({type:"Onboarding Back Button Clicked",data:{start_position:e}}),J=e=>({type:"Onboarding Response Submitted",data:{position:e}}),ee=e=>({type:"Onboarding Quiz CTA",data:{position:e}});var et=i(65413),ei=i(70497),er=i(81760),en=i(36414),eo=i(2101),ea=i(7430),es=i(49784),el=i(6286),ed=i(38249),ec=i(42647),eu=i(78165),ep=i(44086),em=i(94895),eh=i(75978),eg=i(38665);er.Z.src,en.Z.src,eo.Z.src,ei.Z;let ef=e=>({headline:e,fullIngredients:"Beef, beef heart, sweet potato, peas, potato, beef kidney, carrot, beef liver, spinach, chia seed, dicalcium phosphate, blueberries, fish oil, iodized salt, zinc gluconate, rosemary, vitamin E supplement, pyridoxine hydrochloride (vitamin B6), riboflavin (vitamin B2), potassium iodide",nutritionalInfo:[{label:"Protein:",value:"min 9%"},{label:"Fat:",value:"min 7%"},{label:"Fiber:",value:"max 2%"},{label:"Moisture:",value:"max 70%"}],body:(0,n.jsx)("div",{children:"Hearty Beef Eats is formulated to meet the nutritional levels established by the AAFCO Dog Food Nutrient Profiles for All Life Stages, including growth of large size Dogs (70 lbs or more as an adult). Calorie content (calculated): 1540 kcal ME/kg."})});ef("Beef"),ef("Chicken"),ef("Turkey"),ef("Lamb");let ey=[{headline:"Sit, Stay",text:"We're crunching some numbers to recommend the right amount of calories for {{pupName}}."},{headline:"Take your pick",text:"Choose which recipes work best for your pup."},{headline:"Get {{discount}} off",text:"Get your first two weeks of food and free goodies."}],eb="View results";n.Fragment,es.RK,ea.Z.src,n.Fragment,es.RK,n.Fragment;let ex={puptainerLabel:"Puptainer",scooperLabel:"Scoop",shippingLabel:"Shipping",fooSubtotalLabel:"Subtotal",bowlLabel:"Bowl",subtotal:"45.98",discountLabel:"Discount Applied",discountText:"20% off",discountAmount:"9.20",taxLabel:"Tax",tax:"3.22",totalLabel:"Total",total:"80.00",foodSubtotal:"40",foodDiscountText:"20% off",foodDiscountAmount:"20",addonsSubtotal:"12.00",promoCodeInfo:{promoCodeLabel:"{{defaultName}} code applied!",applyPromoCodeLabel:"Apply",promoCodeAppliedLabel:"{{offerCode}} code applied!",removePromoCodeLabel:"Remove code",errorPromoCodeLabel:"Promo code not applied. Please check your code and try again or reach out to Canine Care for help.",changePromoCodeLabel:"Change code",newPromoCodeLabel:"Enter new promo code"},showPromoCode:!0},ev="After {{pupName}}'s starter box, {{petPronoun}} plan will be billed and shipped every {{frequency}} weeks. ";el.sZ,n.Fragment,ex.total,ex.discount;let ew={treats:"TR",supplements:"SP"},eC=Object.values(ew);eu.Z.src,el.Zr.dropdowns,ed.Z.src,el.Zr.dropdowns,ep.Z.src,el.Zr.dropdowns,em.Z.src,el.lW.dropdowns,eh.Z.src,el.lW.dropdowns,eg.Z.src,el.lW.dropdowns;let ej=[{sku:"BELLYRUBS01",productName:"Probiotic Chews",title:"Probiotic Chews",description:"Say goodbye to the tummy troubles with these delicious treats.",productType:"SP",subtitle:"Probiotic Formula",size:"1 jar (60 chews)",pricingInfo:{price:"{{addonPrice}}",discountedPrice:"{{addonDiscount}}"},image:{src:eg.Z.src,alt:"Probiotic Supplement Image"},dropdowns:[{name:"quantity",label:"Quantity",options:[{label:"1 Jar",value:1}]},{name:"frequency",label:"Frequency",options:[{label:"Every box",value:1},{label:"Every other box",value:2}]}],defaultDropdownValues:{quantity:1,frequency:1,addons:[]}},{sku:"JERKYSTRIPS-BE",productName:"Beef and Sweet Potato Jerky",title:"Beef and Sweet Potato Jerky",description:"Clean, simple treats to reward the best and bravest behavior.",productType:"TR",subtitle:"Jerky Treats",size:"1 bag (5oz.)",pricingInfo:{price:"{{addonPrice}}",discountedPrice:"{{addonDiscount}}"},image:{src:ec.Z.src,alt:"Beef and Sweet Potato Recipe Jerky Image"},dropdowns:[{name:"quantity",label:"Quantity",options:[{label:"1 Bag",value:1}]},{name:"frequency",label:"Frequency",options:[{label:"Every box",value:1},{label:"Every other box",value:2}]}],defaultDropdownValues:{quantity:1,frequency:1}}],eR={genderList:[{name:"Her name is",value:"Female"},{name:"His name is",value:"Male"}],pupInfoQuestionCaption:"You can create additional pup profiles at checkout or from your account.",pupInfoQuestionPrompt:"Tell us their name",labelName:"Your pup's name",index:1,labelYear:"Year",labelMonth:"Month",labelDay:"Day (optional)",pupBirthdayQuestionCaption:"If you're unsure, give us your best guess.",pupBirthdayQuestionPrompt:"Your pup's age",breedQuestionPrompt:"What is their breed?",labelBreed:"Type breed (optional)",idealWeightLabel:"Pup’s ideal weight in lbs (optional)",weightLabel:"Pup's current weight in lbs",weightQuestionPrompt:"Your pup's weight",isPuppy:!1,puppyIdealWeightHelp:"We’ll use adult weight to ensure your pup gets the right amount of food as they grow",puppySpayNeuterNotice:"Select neutered if you plan to neuter your puppy as they reach maturity.",idealWeightHelp:"If added, we’ll use this weight to determine your pup’s daily calories.",puppyIdealWeightLabel:"Pup's future adult weight in lbs (optional)",spayedChipLabel:"Yes",spayedStatusQuestionCaption:"Spayed and neutered pups require fewer calories.",spayedStatusQuestionPrompt:"Are they spayed or neutered?",unspayedChipLabel:"No"},e_={index:2,activityQuestionPrompt:"How active are they?",allergiesQuestionPrompt:"Do they have any food allergies or sensitivities?",levels:[{name:"Mellow",value:"Low"},{name:"Active",value:"Moderate"},{name:"Very active",value:"High"}],modal:{heading:"About Stool Types",options:[{title:"Very Runny",text:"Liquid consistency with no solid pieces."},{title:"Mushy",text:"Soft, mushy consistency. Leaves lots of residue when picked up."},{title:"About Right",text:"Relatively long-shaped, with cracks on surface.  Maintains shape when picked up."},{title:"Hard",text:"Separate hard lumps and difficult to expel."}]},stoolTypes:[{label:"Very runny",value:"very runny"},{label:"Mushy",value:"mushy"},{label:"About right",value:"about right"},{label:"Hard",value:"hard"},{label:"Unpredictable (It Varies)",value:"unpredictable"}],ctaText:"Not sure which to choose?",poopSubheadline:"Your answer can tell us a lot about your pup's digestive health, so we can provide the best recommendations.",allergySearchLabel:"Add allergies (optional)",poopSearchLabel:"Select (optional)",emailLabel:"Email Address",nameLabel:"Name",userInfoQuestionPrompt:"Before we continue",userInfoSubheadline:"Let us know about you so your recommendations can be saved"},eP={object:{headerShippingAddress:et.Z_().required(),headerAccountInfo:et.Z_().required(),headerIDMeForm:et.Z_().required(),headlineBillingInformation:et.Z_().required()},transform:e=>({headerShippingAddress:e.header_shipping_address,headerAccountInfo:e.header_account_info,headerIDMeForm:e.header_idme,headlineBillingInformation:e.header_billing_info})},ek={object:{stateOptions:et.IX()},transform:e=>({stateOptions:e.map(e=>{let{label:t,value:i}=e;return{label:t,value:i}})})},eq={object:{labelFirstName:et.Z_().required(),labelLastName:et.Z_().required(),labelAddress:et.Z_().required(),labelApt:et.Z_().required(),labelZipCode:et.Z_().required(),labelCity:et.Z_().required(),labelState:et.Z_().required(),stateOptions:et.IX().required(),labelPhoneNumber:et.Z_().required(),labelSMSUpdates:et.Z_().required(),labelSMSTerms:et.Z_().required()},transform:e=>({labelFirstName:e.shipping_address[0].label_first_name,labelLastName:e.shipping_address[0].label_last_name,labelAddress:e.shipping_address[0].label_address,labelApt:e.shipping_address[0].label_apt,labelZipCode:e.shipping_address[0].label_zip_code,labelCity:e.shipping_address[0].label_city,labelState:e.shipping_address[0].label_state,...ek.transform(e.shipping_address[0].state_options),labelPhoneNumber:e.shipping_address[0].label_phone,labelSMSUpdates:e.shipping_address[0].label_sms_updates,labelSMSTerms:e.shipping_address[0].label_sms_terms})},eS={object:{labelEmail:et.Z_().required(),labelPassword:et.Z_().required(),labelConfirmation:et.Z_().required()},transform:e=>({labelEmail:e.account_info[0].label_email,labelPassword:e.account_info[0].label_password,labelConfirmation:e.account_info[0].label_password_confirmation})},eI={object:{labelWithStripe:et.Z_(),labelNameCard:et.Z_().required(),labelCardNumber:et.Z_().required(),labelExpirationDate:et.Z_().required(),labelCVC:et.Z_().required()},transform:e=>({labelWithStripe:"Pay securely with",labelNameCard:e.label_name_card,labelCardNumber:e.label_card_number,labelExpirationDate:e.label_expiration_date,labelCVC:e.label_cvc,placeholderNameCard:e.label_name_card,placeholderCardNumber:"1234 1234 1234 1234",placeholderExpirationDate:"MM/YY",placeholderCVC:e.label_cvc})},eT={object:{message:p.TD,buttonImage:et.Z_().required(),buttonAlt:et.Z_().required()},transform:e=>({message:e.message,buttonAlt:e.image.name,buttonImage:e.image.filename})},eZ={object:{headline:et.Z_().required(),description:et.Z_().required()},transform:e=>({headline:e.headline,description:e.description})},eB={object:{ctaText:et.Z_().required()},transform:e=>({ctaText:"Checkout"})},eL={object:{headline:et.Z_().required(),numPacksCopy:et.Z_().required(),recipesLabel:et.Z_().required(),image:p.Vy},transform:e=>({headline:e.headline,numPacksCopy:e.label_num_packs,image:e.image,recipesLabel:"Recipes"})},eA={object:{totalPlanLabel:et.Z_().required(),puptainerLabel:et.Z_().required(),shippingLabel:et.Z_().required(),scooperLabel:et.Z_().required(),bowlLabel:et.Z_(),foodSubtotalLabel:et.Z_().required(),addonsSubtotalLabel:et.Z_().required(),discountLabel:et.Z_().required(),taxLabel:et.Z_().required(),totalLabel:et.Z_().required(),promoCodeInfo:et.Ry({promoCodeLabel:et.Z_(),applyPromoCodeLabel:et.Z_(),promoCodeAppliedLabel:et.Z_(),removePromoCodeLabel:et.Z_(),errorPromoCodeLabel:et.Z_(),changePromoCodeLabel:et.Z_(),newPromoCodeLabel:et.Z_()}),freeItems:et.IX(et.Ry({label:et.Z_()}).transform(e=>({label:e.label})))},transform:e=>({totalPlanLabel:e.label_total_plan,puptainerLabel:e.label_puptainer,shippingLabel:e.label_shipping,scooperLabel:e.label_scooper,bowlLabel:e.bowl_label,foodSubtotalLabel:e.label_food_subtotal,addonsSubtotalLabel:e.label_addons_subtotal,discountLabel:e.label_discount,taxLabel:e.label_tax,totalLabel:e.label_total,promoCodeInfo:{promoCodeLabel:e.label_promo_code_default,applyPromoCodeLabel:e.apply_code_button_text,promoCodeAppliedLabel:e.label_promo_code_applied,removePromoCodeLabel:e.remove_code_button_text,errorPromoCodeLabel:e.label_error_promo_code,changePromoCodeLabel:e.change_code_button_text,newPromoCodeLabel:e.label_new_promo_code},freeItems:e.free_items_list})},eN={object:{termsAndConditions:et.Z_().required(),checkoutButton:et.Ry({text:et.Z_().required()}).required().transform(e=>({text:e.checkout_button_text})),planSummary:et.Ry(eL.object).required().transform(eL.transform),pricingList:et.Ry(eA.object).required().transform(eA.transform)},transform:e=>({addPupBtnLabel:"Add another pup",termsAndConditions:"* By clicking checkout, I agree to receive the number of packs of Ollie food on the schedule specified above. I agree to be automatically charged for each shipment to my payment method on file. I can change or cancel my subscription at any time by emailing",pricingList:e.pricing_list[0],planSummary:e.starter_box_checkout_summary[0],checkoutButton:e})},eE={object:{foodPacksText:et.Z_().required()},transform:e=>({foodPacksText:ev})},eK={object:{links:et.IX()},transform:e=>({links:e.map(e=>({href:e.link_target.url,text:e.link_text}))})},eF=et.Ry({...eP.object,...eq.object,...eS.object,...eI.object,...eZ.object,...eT.object,...eB.object,...eK.object,...ek.object,orderSummary:et.Ry(eN.object).required().transform(eN.transform),recurringOrders:et.Ry(eE.object).required().transform(eE.transform)}).transform(e=>({...eP.transform(e),...eq.transform(e),...eS.transform(e),...eI.transform(e.billing_info[0]),...eZ.transform(e.billing_info[0].money_back[0]),...eT.transform(e.id_me[0]),...eB.transform(e.bar[0]),...eK.transform(e.links),orderSummary:e.summary[0],recurringOrders:e.recurring_orders[0]})),eO=et.Ry({headline:et.Z_().required(),emailLabel:et.Z_().required(),emailQuestionCaption:et.Z_().required(),emailQuestionPrompt:et.Z_().required(),firstNameLabel:et.Z_().required(),firstNameQuestionPrompt:et.Z_().required()}).transform(e=>({headline:e.headline,emailLabel:e.question[0].email_label,emailQuestionCaption:"We'll use this to save your recommendations so you can come back to them.",emailQuestionPrompt:"And your email?",firstNameLabel:e.question[0].first_name_label,firstNameQuestionPrompt:"What's your name?"})),eD=et.Ry({labelName:et.Z_().required(),genderList:et.IX().required(),pupInfoQuestionCaption:et.Z_().required(),pupInfoQuestionPrompt:et.Z_().required()}).transform(e=>({labelName:e.question[0].pup_name_label,genderList:[{name:e.question[0].male_chip_text,value:"Male"},{name:e.question[0].female_chip_text,value:"Female"}],pupInfoQuestionCaption:"If you have more than one, you can create additional pup profiles at checkout or from your account.",pupInfoQuestionPrompt:"Tell us about your pup!"})),eM=et.Ry({labelDay:et.Z_().required(),labelMonth:et.Z_().required(),labelYear:et.Z_().required(),pupBirthdayQuestionCaption:et.Z_().required(),pupBirthdayQuestionPrompt:et.Z_().required()}).transform(e=>({labelDay:e.question[0].day_label,labelMonth:e.question[0].month_label,labelYear:e.question[0].year_label,pupBirthdayQuestionCaption:"If you're unsure, give us your best guess.",pupBirthdayQuestionPrompt:"When is {{pupName}}'s birthday?"})),eW=et.Ry({breedQuestionPrompt:et.Z_().required(),labelBreed:et.Z_().required()}).transform(e=>({breedQuestionPrompt:e.headline,labelBreed:"Type {{pupName}}'s breed"})),eV=et.Ry({idealWeightHelp:et.Z_().required(),idealWeightLabel:et.Z_().required(),puppyIdealWeightHelp:et.Z_().required(),puppyIdealWeightLabel:et.Z_().required(),puppySpayNeuterNotice:et.Z_().required(),spayedChipLabel:et.Z_().required(),spayedStatusQuestionCaption:et.Z_().required(),spayedStatusQuestionPrompt:et.Z_().required(),unspayedChipLabel:et.Z_().required(),weightLabel:et.Z_().required(),weightQuestionPrompt:et.Z_().required()}).transform(e=>({idealWeightHelp:"If added, we'll use this weight to determine your pup's daily calories.",idealWeightLabel:"Pup's ideal weight in lbs (optional)",puppyIdealWeightHelp:"We'll use adult weight to ensure your pup gets the right amount of food as they grow",puppyIdealWeightLabel:"Pup's future adult weight in lbs (optional)",puppySpayNeuterNotice:"Select {{pupStatusTermLowercase}} if you plan to {{pupStatusTermVerb}} your puppy as they reach maturity.",spayedChipLabel:"{{pupStatusTermUppercase}}",spayedStatusQuestionCaption:"Spayed and neutered pups require fewer calories.",spayedStatusQuestionPrompt:"{{pupPronounUppercase}} is",unspayedChipLabel:"Not {{pupStatusTermUppercase}}",weightLabel:"Pup's current weight in lbs",weightQuestionPrompt:"Next, we need info to calculate your pup's daily calories."})),eQ=et.Ry({activityQuestionPrompt:et.Z_().required(),levels:et.IX(et.Ry({name:et.Z_().required(),value:et.Z_().required(),description:et.Z_().required(),image:p.pk})).required(),subheadline:et.Z_()}).transform(e=>({activityQuestionPrompt:"How active is {{pupName}}?",levels:[{name:e.question[0].low_activity_card_title,value:"Low",image:e.question[0].low_activity_image,description:e.question[0].low_activity_card_description},{name:e.question[0].medium_activity_card_title,value:"Moderate",image:e.question[0].medium_activity_image,description:e.question[0].medium_activity_card_description},{name:e.question[0].high_activity_card_title,value:"High",image:e.question[0].high_activity_image,description:e.question[0].high_activity_card_description}],subheadline:e.subheadline})),ez=et.Ry({poopQuestionPrompt:et.Z_().required(),subheadline:et.Z_(),ctaText:et.Z_().required(),responses:et.IX().required(),modal:et.Ry().required()}).transform(e=>({poopQuestionPrompt:e.headline,subheadline:e.subheadline,ctaText:e.cta_text,responses:[{name:e.question[0].runny_title,value:e.question[0].runny_response},{name:e.question[0].mushy_title,value:e.question[0].mushy_response},{name:e.question[0].about_right_title,value:e.question[0].about_right_response},{name:e.question[0].hard_title,value:e.question[0].hard_response},{name:e.question[0].unpredictable_title,value:e.question[0].unpredictable_response}],modal:e.question[0].modal})),eU=et.Ry({allergySearchLabel:et.Z_().required(),allergiesQuestionPrompt:et.Z_().required(),placeholderAllergiesCount:et.Rx().required()}).transform(e=>({allergySearchLabel:"Other",allergiesQuestionPrompt:"Does {{pupPronounLowercase}} have any food allergies or sensitivities?",placeholderAllergiesCount:9,petPronoun:"{{pupPronounLowercase}}"})),eX=et.Ry({}),eH=et.Ry({});var eY=i(22036),eG=i(55975);let e$=et.Ry({title:et.Z_().required(),label:et.Z_().required(),benefit:et.Z_().optional(),callout:et.Z_().optional(),value:et.Z_().required(),description:p.TD,img:p.pk,unavailableText:et.Z_(),priceSymbol:et.Z_().optional(),showMoreDetails:et.Xg(),pricingInfo:et.Ry({price:et.Z_(),discount:et.Z_()}),level:et.Z_()}),eJ=et.Ry({planSelectionInfo:et.Ry({headline:et.Z_().required(),subheadline:et.Z_().required(),summaryHeadline:et.Z_().required(),image:p.pk,items:et.IX(e$.from("display_name","title").from("slug","value").from("image","img").from("unavailable_text","unavailableText").from("show_more_details","showMoreDetails")).required(),collapsedItems:et.IX(e$.from("display_name","title").from("slug","value").from("image","img").from("unavailable_text","unavailableText").from("show_more_details","showMoreDetails")).required(),mobileCtaText:et.Z_().required(),desktopCtaText:et.Z_().required(),modals:et.IX(eG.full_ingredients_modal.schema).required(),notSelectableText:et.Z_()}).from("starter_plan_summary_headline","summaryHeadline").from("starter_plan_icon","image").from("desktop_cta_text","desktopCtaText").from("mobile_cta_text","mobileCtaText").from("not_selectable_text","notSelectableText"),noRecipesInfo:et.Ry({}).required(),body:et.IX(et.nK())}).transform(e=>{var t,i,r,n;let{body:o,...a}=e,{value:s}=(0,eY.aq)(null!==(r=null===(i=a.recipe_selector)||void 0===i?void 0:null===(t=i[0])||void 0===t?void 0:t.test_name)&&void 0!==r?r:null);s=s||"control";let l=a.recipe_selector;if((null==l?void 0:l[0].component)==="flagship_ab_test"){let e=l[0].variants.find(e=>e.variant_name===s);l=null!==(n=null==e?void 0:e.blocks)&&void 0!==n?n:[]}return{planSelectionInfo:{...a,showMoreDetails:a.show_more_details,ctaText:"Continue",items:l.filter(e=>!e.hidden).map(e=>({...e,priceSymbol:e.price_symbol,pricingInfo:{price:e.price,discount:e.discount}})),collapsedItems:l.filter(e=>e.hidden).map(e=>({...e,priceSymbol:e.price_symbol,pricingInfo:{price:e.price,discount:e.discount}}))},noRecipesInfo:{headline:"Doggone it!",subheadline:"We're unable to recommend a recipe for {{pupName}} at this time due to one or more allergies.",messagePreText:"You told us that {{pupName}} can't have:",messagePostText:"Double check this is accurate and adjust {{pupName}}'s allergy profile to see available recipes",buttonText:"Edit {{pupName}}'s allergies",image:{src:ea.Z.src,alt:"dog in empty box"}},planLoaderMessages:ey,planLoaderButtonText:eb,body:o}}),e0=et.Ry({noRecipesInfo:et.Ry({}).required()}).transform(()=>({noRecipesInfo:{headline:"Doggone it!",subheadline:"We're unable to recommend a recipe for {{pupName}} at this time due to one or more allergies.",messagePreText:"You told us that {{pupName}} can't have:",messagePostText:"Double check this is accurate and adjust {{pupName}}'s allergy profile to see available recipes",buttonText:"Edit {{pupName}}'s allergies",image:{src:ea.Z.src,alt:"dog in empty box"}},planLoaderMessages:ey,planLoaderButtonText:eb}));var e1=i(97808),e4=i(53666);let e2=et.Ry({title:et.Z_(),sku:et.Z_(),description:e1.TD,image:e1.pk,selectionLabel:et.Z_(),unavailableText:et.Z_(),productType:et.Z_(),subtitle:et.Z_(),pricingInfo:et.Ry({price:et.Z_(),discountedPrice:et.Z_(),saveText:et.Z_()}),size:et.Z_(),dropdowns:et.IX(e4.R),badge:et.Z_(),badge_dropdown:et.Z_(),unit:et.Z_()}).transform(e=>({title:e.display_name,sku:e.slug_sku,description:e.description,image:e.image,selectionLabel:e.selection_label,unavailableText:e.unavailable_text,productType:e.product_type,subtitle:e.subtitle,pricingInfo:{price:e.price,discountedPrice:e.discounted_price,saveText:e.save_text},size:e.size,dropdowns:e.dropdowns_onboarding,badge:e.badge,badgeDropdown:e.badge_dropdown,unit:e.unit})),e3=et.Ry({heading:et.Z_(),addons:et.IX(e2)}).transform(e=>({heading:e.heading,addons:e.addons}));var e5=i(56244);let e6=et.Ry({value:et.Z_(),title:et.Z_(),productName:et.Z_(),productType:et.Z_(),sku:et.Z_(),subtitle:et.Z_(),details:e1.TD,fullIngredients:e1.TD,size:et.Z_(),serving:e1.TD,pricingInfo:et.Ry({price:et.Z_(),discountedPrice:et.Z_(),saveText:et.Z_()}),image:e1.pk,nutritionalInformation:et.IX(et.Ry({value:et.Z_(),label:et.Z_()})),dropdownValues:e4.x,recurrence:et.Z_().nullable(),unit:et.Z_(),level:et.Z_()}).transform(e=>({title:e.title,value:e.value,productName:e.product_name,productType:e.product_type,sku:e.sku,subtitle:e.subtitle,details:e.details,fullIngredients:e.full_ingredients.body,size:e.size,image:e.image,serving:e.serving,pricingInfo:{price:e.price,discountedPrice:e.discounted_price,saveText:e.save_text},nutritionalInformation:e.nutritional_information,dropdownValues:e.dropdown_values_onboarding,recurrence:e.recurrence,unit:e.unit,level:e.level})),e8=et.Ry({headline:et.Z_(),subheadline:et.Z_(),addonSections:et.IX(e3).required(),mobileCtaText:et.Z_(),desktop_cta_text:et.Z_(),body:et.IX(et.nK()),modals:et.IX(e6)}).transform(e=>{let{body:t,...i}=e;return{headline:i.headline,subheadline:i.subheadline,addonSections:i.addon_sections,mobileCtaText:i.mobile_cta_text,desktopCtaText:i.desktop_cta_text,body:t,modals:i.modals}});var e9=i(74639),e7=i(41688),te=i(19342),tt=i(55285);let ti=et.Ry({hero:e9.schema,orderSummaryTitle:et.Z_().required(),leftSideComponents:et.IX(et.Vo(e=>"confirmation_poll"===e.component?e7.schema.required():te.schema.required())),rightSideComponents:et.IX(et.Vo(e=>"get_social_component"===e.component?tt.schema.required():et.Ry()))}).transform(e=>({hero:e.hero[0],leftSideComponents:e.left_side_components,rightSideComponents:e.right_side_components,orderSummaryTitle:"Order Summary"})),tr=[{text:"Update your pup's info",icon:"/_next/static/media/pup-info.07392303.svg",alt:"Update your pup's info"},{text:"View feeding guidelines",icon:"/_next/static/media/feeding-guidelines.80912418.svg",alt:"View feeding guidelines"},{text:"Change recipes",icon:"/_next/static/media/change-recipes.26898d7f.svg",alt:"Change recipes"},{text:"Modify delivery date",icon:"/_next/static/media/delivery-truck.060505b5.svg",alt:"Modify delivery date"},{text:"Edit box frequency",icon:"/_next/static/media/box-frequency.8008cf00.svg",alt:"Edit box frequency"},{text:"Adjust feeding portion",icon:"/_next/static/media/feeding-portion.b701f833.svg",alt:"Adjust feeding portion"}];var tn=i(3038),to=i(63623),ta=i(60739),ts=i(6130),tl=i(26035),td=i(72697);let tc=td.ZP.main.withConfig({componentId:"sc-317860f9-0"})(["min-height:100vh;background:",";"],e=>e.theme.colors.background.base),tu=td.ZP.div.withConfig({componentId:"sc-317860f9-1"})(["display:flex;align-items:center;justify-content:center;flex-direction:column;"]),tp=td.ZP.div.withConfig({componentId:"sc-317860f9-2"})(["width:100%;"]),tm=td.ZP.div.withConfig({componentId:"sc-317860f9-3"})(["width:100%;"]),th=td.ZP.div.withConfig({componentId:"sc-317860f9-4"})(["transition:500ms all ease;margin-bottom:",";max-width:900px;width:100%;padding:",";"],e=>e.theme.spacing(7.5),e=>{let{theme:t}=e;return t.spacing(0,4)}),tg=td.ZP.div.withConfig({componentId:"sc-317860f9-5"})(["margin:",";width:100%;@media ","{margin:",";}"],e=>{let{theme:t}=e;return t.spacing(6,0)},e=>{let{theme:t}=e;return t.tablet},e=>{let{theme:t}=e;return t.spacing(7,0,16,0)}),tf=td.ZP.div.withConfig({componentId:"sc-317860f9-6"})(["margin-top:",";"],e=>{let{theme:t}=e;return t.spacing(6)});td.ZP.div.withConfig({componentId:"sc-317860f9-7"})(["margin:",";max-width:900px;width:100%;@media ","{div{&:first-of-type{margin-top:0;}}}"],e=>{let{theme:t}=e;return t.spacing(0,0,12,0)},e=>{let{theme:t}=e;return t.tablet}),ta.Z,to.Z;let ty=[{image:{alt:"Dog",src:"/_next/static/media/dog.49ac2292.png"},backgroundColor:"hero.spinach",alignImage:"right",centered:!1,content:(0,n.jsx)(tn.h,{heading:"Refer and Earn $40",body:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("p",{children:"Invite a friend to try Ollie with a special discount and get $40 off your next box."}),(0,n.jsx)(()=>{let e=(0,tl.KL)(tl.NF);return(0,n.jsx)(tf,{children:(0,n.jsx)(ts.zx,{ref:e,variant:"dark",children:"Refer a friend"})})},{})]}),icon:{alt:"Dog Paw - Refer and Earn",src:"/_next/static/media/dog-paw.ca26b81c.svg",width:69,height:70}})},{content:(0,n.jsx)(tn.h,{icon:{alt:"Dog",src:"/_next/static/media/ollie-box.483072d1.svg",width:115,height:82},heading:"Welcome to the pack",body:(0,n.jsx)("p",{children:"Join our community and tag #MyOllie to show us us what you and your pup are up to."}),socialMediaIcons:[{src:"/_next/static/media/instagram.276d42d1.svg",alt:"Instagram",url:"https://www.instagram.com/ollie/"},{src:"/_next/static/media/facebook.290d6bf2.svg",alt:"Facebook",url:"https://www.facebook.com/MyOllie"},{src:"/_next/static/media/twitter.5cf9a880.svg",alt:"Twitter",url:"https://twitter.com/olliepets"},{src:"/_next/static/media/tiktok.ebe96e69.svg",alt:"Tiktok",url:"https://www.tiktok.com/@ollie"},{src:"/_next/static/media/pinterest.b196a091.svg",alt:"Pinterest",url:"https://www.pinterest.com/myolliedotcom/"},{src:"/_next/static/media/spotify.0e46144d.svg",alt:"Spotify",url:"https://open.spotify.com/user/ski5m70d8oulhj06d5ss6w1xm"}]}),image:{alt:"Dog",src:"/_next/static/media/dog-kiss.788cf857.png"},backgroundColor:"secondary.egg",alignImage:"left",centered:!1}],tb=et.Ry({features:et.IX(et.Ry({text:et.Z_().required(),icon:et.Z_().required(),alt:et.Z_().required()})).required(),viewAccountURL:et.Z_().required(),description:et.Z_().required(),headline:et.Z_().required(),splitPanels:et.IX(et.Ry({image:et.Ry({alt:et.Z_().required(),src:et.Z_().required()}).required(),alignImage:et.Z_().required(),backgroundColor:et.Z_().required(),content:et.Ry().required()}).required()).required(),pricingList:et.Ry({puptainerLabel:et.Z_(),shippingLabel:et.Z_(),scooperLabel:et.Z_(),bowlLabel:et.Z_(),discountLabel:et.Z_(),freeItems:et.IX(et.Ry({label:et.Z_()}).transform(e=>({label:e.label})))}).transform(e=>({puptainerLabel:e.label_puptainer,shippingLabel:e.label_shipping,scooperLabel:e.label_scooper,bowlLabel:e.bowl_label,discountLabel:e.label_discount,freeItems:e.free_items_list}))}).transform(e=>{var t;return{features:tr,buttonText:"View Account",viewAccountURL:"/account/",description:"Your account page lets you stay on top of your subscription.",headline:"You're in control",splitPanels:ty,pricingList:null===(t=e.pricing_list)||void 0===t?void 0:t[0]}}),tx=et.Ry({}),tv=e=>{var t,i;return r[null!==(i=null===(t=e.question)||void 0===t?void 0:t[0].component)&&void 0!==i?i:e.component].validateSync(e)},tw=(0,td.F4)(["0%{opacity:0;}100%{opacity:1;}"]),tC=(e,t)=>{let i="";for(let r=1;r<e;r++)r===e-1?i+="&:nth-of-type(".concat(r+1,") { animation-delay: ").concat(t*(r-1),"s; }"):i+="&:nth-of-type(".concat(r+1,") { animation-delay: ").concat(t*r,"s; }");return(0,td.iv)(["",""],i)},tj=td.ZP.li.withConfig({componentId:"sc-8aa1aa00-0"})(["opacity:0;animation:"," ","s forwards;",""],tw,e=>{let{speed:t}=e;return t},e=>{let{length:t,delay:i}=e;return tC(t,i)}),tR=td.ZP.ul.withConfig({componentId:"sc-8aa1aa00-1"})(["list-style:none;padding:0;"]),t_=e=>{let{nodes:t,delay:i=1,speed:r=.5}=e;return(0,n.jsx)(tR,{children:t.map((e,o)=>(0,n.jsx)(tj,{length:t.length,delay:i,speed:r,children:e},o))})};t_.displayName="SequentialNodeLoader",t_.propTypes={nodes:s().arrayOf(s().node).isRequired,speed:s().number,delay:s().number};let tP=td.ZP.div.withConfig({componentId:"sc-77a5259b-0"})(["text-align:center;margin-bottom:",";"],e=>{let{theme:t}=e;return t.spacing(14)}),tk=td.ZP.h2.withConfig({componentId:"sc-77a5259b-1"})([""," margin-bottom:",";"],e=>{let{theme:t}=e;return t.typography.subheading1},e=>{let{theme:t}=e;return t.spacing(2)}),tq=td.ZP.p.withConfig({componentId:"sc-77a5259b-2"})(["",""],e=>{let{theme:t}=e;return t.typography.heading3}),tS=e=>{let{headline:t,text:i}=e;return(0,n.jsxs)(tP,{children:[(0,n.jsx)(tk,{children:t}),(0,n.jsx)(tq,{children:i})]})};tS.displayName="PlanLoaderMessage",tS.propTypes={headline:s().string.isRequired,text:s().string.isRequired};let tI=td.ZP.div.withConfig({componentId:"sc-b9d1beac-0"})(["text-align:center;padding-bottom:",";max-width:422px;"],e=>{let{theme:t}=e;return t.spacing(18)}),tT=e=>{let{messages:t,onClick:i,buttonText:r,isLoading:a}=e,[s,l]=(0,o.useState)(!1),d=(0,c.Av)(),u=t.map(e=>(0,n.jsx)(tS,{...e},e.text));(0,o.useEffect)(()=>{d.tag(X())},[d]);let p=a?"Calculating...":s?"Loading Plans...":r;return u.push((0,n.jsx)(ts.zx,{variant:"spinach",verticalPadding:5,horizontalPadding:10,onClick:()=>{d.tag(U()),i(),l(!0)},disabled:a||s,isLoading:s,children:p})),(0,n.jsx)(tI,{children:(0,n.jsx)(t_,{nodes:u})})};tT.displayName="PlanLoader",tT.propTypes={messages:s().arrayOf(s().shape({headline:s().string.isRequired,text:s().string.isRequired})).isRequired,buttonText:s().string.isRequired,onClick:s().func.isRequired,isLoading:s().bool.isRequired};var tZ=i(50701),tB=i(21121),tL=i(76898),tA=i(16395),tN=i(67464),tE=i(60290),tK=i(69463),tF=i(50270),tO=i(84461),tD=i(27370);let tM="/onboarding/",tW={Low:"mellow",Moderate:"active",High:"very active"},tV={fresh:"fresh",dry:"dry",mixed:"mixed",half_fresh:"half_fresh"},tQ={DY:tV.dry,FR:tV.fresh,MX:tV.mixed},tz=["SUPP-DENT-XS","SUPP-DENT-SM","SUPP-DENT-MD","SUPP-DENT-LG"],tU=[tV.fresh,tV.half_fresh],tX={initial:tM,userInfo:"".concat(h,"/").concat(j),pupInfo:"".concat(h,"/").concat(R),birthday:"".concat(h,"/").concat(_),breed:"".concat(h,"/").concat(P),calories:"".concat(h,"/").concat(k),activity:"".concat(h,"/").concat(q),allergies:"".concat(h,"/").concat(S),poop:"".concat(h,"/").concat(I),recommendedPlan:b,planSelection:g,fresh:"".concat(f,"/").concat(Z),baked:"".concat(f,"/").concat(T),addons:y,submitCart:"submit",checkout:x,confirmation:v,appConfirmation:w,about:"".concat(h,"/").concat(B),nutrition:"".concat(h,"/").concat(L)},tH={initialLoad:"initialLoad",toUserInfo:"toUserInfo",customerInfoSaved:"customerInfoSaved",toPupInfo:"toPupInfo",toBirthday:"toBirthday",toBreed:"toBreed",toCalories:"toCalories",toActivity:"toActivity",toAllergies:"toAllergies",toPoop:"toPoop",toRecommendedPlan:"toRecommendedPlan",toPlanSelection:"toPlanSelection",selectedPlanType:"selectedPlanType",selectedFreshRecipes:"selectedFreshRecipes",selectedBakedRecipes:"selectedBakedRecipes",selectedRecipesWithExtras:"selectedRecipesWithExtras",toAddons:"toAddons",toCheckout:"toCheckout",toConfirmation:"toConfirmation",goBack:"goBack",toAbout:"toAbout",toNutrition:"toNutrition"},tY={initialLoad:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{payload:e,type:tH.initialLoad}},toUserInfo:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{payload:e,type:tH.toUserInfo}},customerInfoSaved:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{payload:e,type:tH.customerInfoSaved}},toPupInfo:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{payload:e,type:tH.toPupInfo}},toBirthday:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{payload:e,type:tH.toBirthday}},toBreed:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{payload:e,type:tH.toBreed}},toCalories:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{payload:e,type:tH.toCalories}},toActivity:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{payload:e,type:tH.toActivity}},toAllergies:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{payload:e,type:tH.toAllergies}},toPoop:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{payload:e,type:tH.toPoop}},toRecommendedPlan:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{payload:e,type:tH.toRecommendedPlan}},toPlanSelection:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{payload:e,type:tH.toPlanSelection}},selectedPlanType:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{payload:e,type:tH.selectedPlanType}},selectedFreshRecipes:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{payload:e,type:tH.selectedFreshRecipes,props:t}},selectedBakedRecipes:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{payload:e,type:tH.selectedBakedRecipes,props:t}},selectedRecipesWithExtras:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{payload:e,type:tH.selectedRecipesWithExtras,props:t}},toAddons:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{payload:e,type:tH.toAddons}},toCheckout:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{payload:e,type:tH.toCheckout}},toConfirmation:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{payload:e,type:tH.toConfirmation}},goBack:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{payload:e,type:tH.goBack}},toAbout:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{payload:e,type:tH.toAbout}},toNutrition:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{payload:e,type:tH.toNutrition}}},tG={[tX.userInfo]:tY.toUserInfo,[tX.pupInfo]:tY.toPupInfo,[tX.birthday]:tY.toBirthday,[tX.breed]:tY.toBreed,[tX.calories]:tY.toCalories,[tX.activity]:tY.toActivity,[tX.allergies]:tY.toAllergies,[tX.poop]:tY.toPoop,[tX.recommendedPlan]:tY.toRecommendedPlan,[tX.planSelection]:tY.toPlanSelection,[tX.fresh]:tY.selectedPlanType,[tX.baked]:tY.selectedPlanType,[tX.submitCart]:tY.selectedFreshRecipes,[tX.submitCart]:tY.selectedBakedRecipes,[tX.submitCart]:tY.selectedFreshWithExtras,[tX.addons]:tY.toAddons,[tX.checkout]:tY.toCheckout,[tX.confirmation]:tY.toConfirmation,[tX.about]:tY.toAbout,[tX.nutrition]:tY.toNutrition},t$={[tX.planSelection]:0,[tX.fresh]:1,[tX.baked]:1,[tX.submitCart]:1,[tX.addons]:2,[tX.checkout]:3},tJ={[tX.userInfo]:0,[tX.recommendedPlan]:1,[tX.submitCart]:1,[tX.checkout]:2},t0=[tX.initial,tX.submitCart],t1=(e,t)=>{var i,r;let{payload:n}=t;return!!(null===(i=e.customer)||void 0===i?void 0:i.id)||!!(null===(r=n.customer)||void 0===r?void 0:r.id)},t4=(e,t)=>{var i,r,n;let{payload:o}=t;return o.orderId||o.isActive||(null===(i=o.payload)||void 0===i?void 0:i.statusText)==="Created"||(null===(r=o.customer)||void 0===r?void 0:r.status)==="active"||(null===(n=e.customer)||void 0===n?void 0:n.status)==="active"},t2=(e,t)=>{var i,r;let{payload:n}=t;return!!(null===(i=e.pet)||void 0===i?void 0:i.birth_date)||!!(null===(r=n.pet)||void 0===r?void 0:r.birth_date)},t3=(e,t)=>{var i,r;let{payload:n}=t;return!!(null===(i=e.pet)||void 0===i?void 0:i.weight)||!!(null===(r=n.pet)||void 0===r?void 0:r.weight)},t5=e=>!!e.name&&!!e.birth_date&&!!e.weight&&!!e.activity_level,t6=(e,t)=>{var i,r;let{payload:n}=t;return!!t5(n.pet)||!!t5(e.pet)||!!(null===(i=n.pets)||void 0===i?void 0:i.find(e=>t5(e)))||!!(null===(r=e.pets)||void 0===r?void 0:r.find(e=>t5(e)))},t8=(e,t)=>{var i,r;let{payload:n}=t;return!!(null===(i=n.pets)||void 0===i?void 0:i.length)&&n.pets.every(e=>t5(e))||!!(null===(r=e.pets)||void 0===r?void 0:r.length)&&e.pets.every(e=>t5(e))},t9=(e,t)=>{var i,r;let{payload:n}=t;return!!(null===(i=n.pets)||void 0===i?void 0:i.length)&&(null===(r=n.pets)||void 0===r?void 0:r.every(e=>n.cart.line_items.find(t=>t.pet_id===e.id)))},t7=(e,t)=>{let{payload:i}=t;return i.planType===tV.dry},ie=(e,t)=>{var i;let{payload:{recipes:r}}=t;return!!(null===(i=r.fresh)||void 0===i?void 0:i.length)},it=(e,t)=>{var i;let{payload:{recipes:r}}=t;return!!(null===(i=r.dry)||void 0===i?void 0:i.length)},ii=e=>tU.includes(e.planType),ir=e=>e.planType===tV.mixed,io=(e,t)=>{let{payload:i}=t;return i.pathname===tX.fresh},ia=(e,t)=>{let{payload:i}=t;return i.pathname===tX.baked},is=e=>e.prevState.stateKey===tX.baked,il=e=>e.prevState.stateKey===tX.fresh,id=(e,t)=>!t.data.success,ic=(e,t)=>{var i,r,n;return null!==(n=null===(i=e.flags)||void 0===i?void 0:i.showRecommendedPlan)&&void 0!==n?n:null===(r=t.payload.flags)||void 0===r?void 0:r.showRecommendedPlan},iu=(e,t)=>!ic(e,t),ip=(e,t)=>!e.personalizedPlan,im=(e,t)=>{var i;return null!==(i=e.personalizedPlan)&&void 0!==i?i:t.personalizedPlan},ih=(e,t)=>{let{payload:i}=t;return e.isAppSession||(null==i?void 0:i.isAppSession)};var ig=i(99251);let iy=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).every(t=>e[t].availableRecipes.fresh.length<=0&&e[t].availableRecipes.dry.length<=0)},ib=e=>(0,tE.Su)(e)[0],ix=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{fresh:[],dry:[]},t=arguments.length>1?arguments[1]:void 0;return e.fresh.length&&e.dry.length?tV.mixed:e.fresh.length&&"0.5"===t?tV.half_fresh:e.fresh.length?tV.fresh:e.dry.length?tV.dry:""},iv=(e,t,i)=>({discount:"".concat(e.formattedAmount," OFF"),price:(0,ig.CT)(t["price_per_"+i]),discountedPrice:(0,ig.CT)(t["discounted_price_per_"+i])}),iw=(e,t)=>t&&e?{...e,tray_count:e.variants[0].tray_count,variants:[{sku:t.sku,recipes:t.recipes,price_per_week:t.price_per_week,discounted_price_per_week:t.discounted_price_per_week}]}:null,iC=async(e,t)=>{let i;let{planType:r}=e,{productTypes:n,cartApi:o,reporter:a,cartProduct:s,petId:l,setShowModal:d,addons:c,setLocalSelection:u}=t.props,p=null==s?void 0:s.variants[0],m=n[r].starterBoxes[0].variants,h=(0,tE.X3)(m,e.recipes);return h.sku===(null==p?void 0:p.sku)?tZ.fE.success():(i=await o.addMealPlanToCart({product_sku:h.sku,subscription_sku:h.subscription_sku,quantity:1,pet_id:l}),(null==c?void 0:c.length)>0&&(i=await tZ.fE.flatMapAsync(i,()=>o.addAddonsToCart({pet_id:l,addons:c.map(e=>({sku:e.sku,frequency:e.frequency,quantity:e.quantity,recurrence:e.recurrence}))}))),tZ.fE.match(i,{success:()=>u(null,{skipRender:!0}),error:{client:e=>{a.error(e.original),d(!0)},server:()=>d(!0)}}),i)},ij=e=>{var t;let{fresh:i,dry:r,mixed:n}=e,o=[i[0],r[0],n[0]].sort((e,t)=>parseInt(t.kcalories_per_day)-parseInt(e.kcalories_per_day));return null==o?void 0:null===(t=o[0])||void 0===t?void 0:t.kcalories_per_day},iR=e=>e.machine.current!==tX.submitCart?Promise.resolve(tZ.fE.success()):new Promise(t=>{let i=setInterval(()=>{e.machine.current!==tX.submitCart&&(clearInterval(i),t(e.context.submitCartResult))},500)}),i_=()=>({pupInfo:1,birthday:2,breeds:3,calories:4,activity:5,allergies:6,poop:7,userInfo:8,about:1,nutrition:2}),iP=(e,t)=>e.replace(t,"").replace(/\/$/,""),ik=(e,t)=>{var i;let r=tG[e],n=(null!==(i=t.machine.original)&&void 0!==i?i:t.machine).states[t.context.stateKey].transitions;if(r&&Array.from(n.keys()).includes(r({}).type))return r;for(let[e,i]of n)if(e===tH.goBack){for(let e of i)if(e.guards(t.context,{}))return tY.goBack}return r},iq=(e,t)=>{var i,r,n,o,a,s,l,d,c;let{payload:u}=t,p={...e,pets:null!==(n=u.pets)&&void 0!==n?n:e.pets,pet:null!==(o=u.pet)&&void 0!==o?o:e.pet,pet_id:null!==(a=u.pet_id)&&void 0!==a?a:e.pet_id,cart:null!==(s=u.cart)&&void 0!==s?s:e.cart,customer:null!==(l=u.customer)&&void 0!==l?l:e.customer};return""===p.pet_id&&(null===(r=p.pets)||void 0===r?void 0:null===(i=r[0])||void 0===i?void 0:i.id)&&(p.pet_id=null===(c=p.pets)||void 0===c?void 0:null===(d=c[0])||void 0===d?void 0:d.id),p},iS=(e,t,i)=>{let r=e.filter(e=>"TR"===e.productType),n=e.filter(e=>"SP"===e.productType);return[...r.map(e=>{let i=t.find(t=>t.sku===e.sku),{price:r,discounted_price:n,product_available:o}=i,a=parseFloat(n)<parseFloat(r)?"(Save ".concat(Math.ceil((parseFloat(r)-parseFloat(n))/parseFloat(r)*100),"%)"):"";return{...e,isAvailable:o,pricingInfo:{price:"".concat(i.price),discountedPrice:"".concat(i.discounted_price),saveText:a}}}),...n.map(e=>{let t=i.find(t=>t.sku===e.sku),{price:r,discounted_price:n,product_available:o}=t,a=parseFloat(n)<parseFloat(r)?"(Save ".concat(Math.ceil((parseFloat(r)-parseFloat(n))/parseFloat(r)*100),"%)"):"";return{...e,isAvailable:o,pricingInfo:{price:"".concat(t.price),discountedPrice:"".concat(t.discounted_price),saveText:a}}})]},iI=(0,tD.c)(o.useEffect,o.useState),iT=function(){let{customer:e={},pet:t={},pet_id:i="",recipes:r={fresh:null,dry:null},addons:n=[],planType:o=null,stateKey:a=tX.initial,nextKey:s=null,prevState:l={},flags:d={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{customer:e,pet:t,pet_id:i,recipes:r,addons:n,planType:o,stateKey:a,nextKey:s,prevState:l,flags:d}},iZ=(0,tO.C8)(tX.initial,{[tX.initial]:(0,tO.SB)((0,tO.eR)(tH.initialLoad,tX.appConfirmation,(0,tO.lo)(t4),(0,tO.lo)(ih),(0,tO.u4)((e,t)=>{let{payload:i}=t;return{...e,flags:i.flags,prevState:{...e},stateKey:tX.appConfirmation}})),(0,tO.eR)(tH.initialLoad,tX.confirmation,(0,tO.lo)(t4),(0,tO.u4)((e,t)=>{let{payload:i}=t;return{...e,flags:i.flags,prevState:{...e},stateKey:tX.confirmation}})),(0,tO.eR)(tH.initialLoad,tX.checkout,(0,tO.lo)(t1),(0,tO.lo)(t9),(0,tO.u4)((e,t)=>{let{payload:i}=t,r=i.pets.find(e=>!!i.cart.line_items.find(t=>t.pet_id===e.id));return{...e,flags:i.flags,prevState:{...e},stateKey:tX.checkout,nextKey:tX.confirmation,customer:i.customer,pet:r,pet_id:r.id}})),(0,tO.eR)(tH.initialLoad,tX.fresh,(0,tO.lo)(io),(0,tO.lo)(ie),(0,tO.u4)((e,t)=>{var i,r;let{payload:n}=t;return{...e,flags:n.flags,prevState:{...e},customer:n.customer,stateKey:tX.fresh,nextKey:tX.fresh,recipes:null!==(i=n.recipes)&&void 0!==i?i:e.recipes,planType:null!==(r=n.planType)&&void 0!==r?r:e.planType}})),(0,tO.eR)(tH.initialLoad,tX.baked,(0,tO.lo)(ia),(0,tO.lo)(it),(0,tO.u4)((e,t)=>{var i,r;let{payload:n}=t;return{...e,flags:n.flags,prevState:{...e},customer:n.customer,stateKey:tX.baked,nextKey:tX.checkout,recipes:null!==(i=n.recipes)&&void 0!==i?i:e.recipes,planType:null!==(r=n.planType)&&void 0!==r?r:e.planType}})),(0,tO.eR)(tH.initialLoad,tX.planSelection,(0,tO.lo)(t1),(0,tO.lo)(t8),(0,tO.u4)((e,t)=>{var i,r,n,o;let{payload:a}=t,s=null===(i=a.pets)||void 0===i?void 0:i.find(e=>!a.cart.line_items.find(t=>t.pet_id===e.id));return{...e,isAppSession:a.isAppSession||e.isAppSession,flags:a.flags,customer:a.customer,prevState:{...e},stateKey:tX.planSelection,nextKey:tX.fresh,pet:s,pets:a.pets,pet_id:null!==(r=null==s?void 0:s.id)&&void 0!==r?r:"",recipes:null!==(n=a.recipes)&&void 0!==n?n:e.recipes,planType:null!==(o=a.planType)&&void 0!==o?o:e.planType}})),(0,tO.eR)(tH.initialLoad,tX.userInfo,(0,tO.lo)(t8),(0,tO.lo)((e,t)=>{var i;let{payload:r}=t;return!(null===(i=r.customer)||void 0===i?void 0:i.id)}),(0,tO.u4)((e,t)=>{let{payload:i}=t,r=i.pets.find(e=>!t5(e));return{...e,flags:{...e.flags,...i.flags},prevState:{...e},stateKey:tX.userInfo,nextKey:tX.planSelection,customer:i.customer,pet:r}})),(0,tO.eR)(tH.initialLoad,tX.allergies,(0,tO.lo)((e,t)=>{let{payload:i}=t;return!!i.pets.length&&!!i.pets.find(e=>!t5(e)).activity_level}),(0,tO.u4)((e,t)=>{let{payload:i}=t,r=i.pets.find(e=>!t5(e));return{...e,flags:i.flags,prevState:{...e},stateKey:tX.allergies,nextKey:tX.planSelection,customer:i.customer,pet:r,pet_id:r.id}})),(0,tO.eR)(tH.initialLoad,tX.activity,(0,tO.lo)((e,t)=>{let{payload:i}=t;return!!i.pets.length&&!!i.pets.find(e=>!t5(e)).weight}),(0,tO.u4)((e,t)=>{let{payload:i}=t,r=i.pets.find(e=>!t5(e));return{...e,flags:i.flags,prevState:{...e},stateKey:tX.activity,nextKey:tX.allergies,customer:i.customer,pet:r,pet_id:r.id}})),(0,tO.eR)(tH.initialLoad,tX.calories,(0,tO.lo)((e,t)=>{let{payload:i}=t;if(!i.pets.length)return!1;{var r;let e=i.pets.find(e=>!t5(e));return!!(null==e?void 0:null===(r=e.breeds)||void 0===r?void 0:r.length)}}),(0,tO.u4)((e,t)=>{let{payload:i}=t,r=i.pets.find(e=>!t5(e));return{...e,flags:i.flags,prevState:{...e},stateKey:tX.calories,nextKey:tX.activity,customer:i.customer,pet:r,pet_id:r.id}})),(0,tO.eR)(tH.initialLoad,tX.breed,(0,tO.lo)((e,t)=>{let{payload:i}=t;return!!i.pets.length&&!!i.pets.find(e=>!t5(e)).birth_date}),(0,tO.u4)((e,t)=>{let{payload:i}=t,r=i.pets.find(e=>!t5(e));return{...e,flags:i.flags,prevState:{...e},stateKey:tX.breed,nextKey:tX.calories,customer:i.customer,pet:r,pet_id:r.id}})),(0,tO.eR)(tH.initialLoad,tX.birthday,(0,tO.lo)((e,t)=>{let{payload:i}=t;return!!i.pets.length&&!!i.pets.find(e=>!t5(e)).name}),(0,tO.u4)((e,t)=>{let{payload:i}=t,r=i.pets.find(e=>!t5(e));return{...e,flags:i.flags,prevState:{...e},stateKey:tX.birthday,nextKey:tX.breed,customer:i.customer,pet:r,pet_id:r.id}})),(0,tO.eR)(tH.initialLoad,tX.pupInfo,(0,tO.u4)((e,t)=>{let{payload:i}=t;return{...e,emailStepLast:i.emailStepLast,flags:i.flags,prevState:{...e},stateKey:tX.pupInfo,nextKey:tX.birthday,customer:i.customer}})),(0,tO.eR)(tH.initialLoad,tX.recommendedPlan,(0,tO.lo)(ic),(0,tO.lo)(t1),(0,tO.lo)(t8),(0,tO.lo)(ip),(0,tO.u4)((e,t)=>{var i,r,n,o;let{payload:a}=t,s=null===(i=a.pets)||void 0===i?void 0:i.find(e=>!a.cart.line_items.find(t=>t.pet_id===e.id));return{...e,flags:a.flags,customer:a.customer,prevState:{...e},stateKey:tX.recommendedPlan,nextKey:tX.checkout,pet:s,pets:a.pets,pet_id:null!==(r=null==s?void 0:s.id)&&void 0!==r?r:"",recipes:null!==(n=a.recipes)&&void 0!==n?n:e.recipes,fresh:a.recipes,planType:null!==(o=a.planType)&&void 0!==o?o:e.planType,isAppSession:a.isAppSession||e.isAppSession}}))),[tX.pupInfo]:(0,tO.SB)((0,tO.eR)(tH.toBirthday,tX.birthday,(0,tO.u4)((e,t)=>{let{payload:i}=t;return{...e,prevState:{...e},stateKey:tX.birthday,nextKey:tX.breed,pet:i.pet,pet_id:i.pet.id}}))),[tX.birthday]:(0,tO.SB)((0,tO.eR)(tH.goBack,tX.pupInfo,(0,tO.u4)(e=>({...e,prevState:{...e},stateKey:tX.pupInfo,nextKey:tX.birthday})),(0,tO.u4)(iq)),(0,tO.eR)(tH.toBreed,tX.breed,(0,tO.lo)(t2),(0,tO.u4)((e,t)=>{let{payload:i}=t;return{...e,prevState:{...e},stateKey:tX.breed,nextKey:tX.calories,pet:i.pet}}))),[tX.breed]:(0,tO.SB)((0,tO.eR)(tH.goBack,tX.birthday,(0,tO.u4)(e=>({...e,prevState:{...e},stateKey:tX.birthday,nextKey:tX.breed})),(0,tO.u4)(iq)),(0,tO.eR)(tH.toCalories,tX.calories,(0,tO.lo)(t2),(0,tO.u4)((e,t)=>{let{payload:i}=t;return{...e,prevState:{...e},stateKey:tX.calories,nextKey:tX.activity,pet:i.pet}}))),[tX.calories]:(0,tO.SB)((0,tO.eR)(tH.goBack,tX.breed,(0,tO.u4)(e=>({...e,prevState:{...e},stateKey:tX.breed,nextKey:tX.calories})),(0,tO.u4)(iq)),(0,tO.eR)(tH.toActivity,tX.activity,(0,tO.lo)(t3),(0,tO.u4)((e,t)=>{let{payload:i}=t;return{...e,prevState:{...e},stateKey:tX.activity,nextKey:tX.allergies,pet:i.pet}}))),[tX.activity]:(0,tO.SB)((0,tO.eR)(tH.goBack,tX.calories,(0,tO.u4)(e=>({...e,prevState:{...e},stateKey:tX.calories,nextKey:tX.activity})),(0,tO.u4)(iq)),(0,tO.eR)(tH.toAllergies,tX.allergies,(0,tO.lo)((e,t)=>{var i,r;let{payload:n}=t;return!!(null===(i=e.pet)||void 0===i?void 0:i.activity_level)||!!(null===(r=n.pet)||void 0===r?void 0:r.activity_level)}),(0,tO.u4)((e,t)=>{let{payload:i}=t;return{...e,prevState:{...e},stateKey:tX.allergies,nextKey:tX.poop,pet:i.pet}}))),[tX.allergies]:(0,tO.SB)((0,tO.eR)(tH.goBack,tX.activity,(0,tO.u4)(e=>({...e,prevState:{...e},stateKey:tX.activity,nextKey:tX.allergies})),(0,tO.u4)(iq)),(0,tO.eR)(tH.toPoop,tX.poop,(0,tO.lo)(t6),(0,tO.u4)((e,t)=>{let{payload:i}=t;return{...e,prevState:{...e},stateKey:tX.poop,nextKey:tX.planSelection,pet:i.pet,pets:i.pets}})),(0,tO.eR)(tH.toCheckout,tX.checkout,(0,tO.lo)(t9),(0,tO.u4)((e,t)=>{let{payload:i}=t;return{...e,prevState:{...e},stateKey:tX.checkout,nextKey:tX.confirmation,plan:i}}))),[tX.poop]:(0,tO.SB)((0,tO.eR)(tH.goBack,tX.allergies,(0,tO.u4)(e=>({...e,prevState:{...e},stateKey:tX.allergies,nextKey:tX.poop})),(0,tO.u4)(iq)),(0,tO.eR)(tH.toPlanSelection,tX.planSelection,(0,tO.lo)(t1),(0,tO.lo)(t6),(0,tO.u4)((e,t)=>{let{payload:i}=t;return{...e,prevState:{...e},stateKey:tX.planSelection,nextKey:tX.fresh,pet:i.pet}})),(0,tO.eR)(tH.toPlanSelection,tX.userInfo,(0,tO.lo)(t6),(0,tO.u4)((e,t)=>{let{payload:i}=t;return{...e,prevState:{...e},stateKey:tX.userInfo,nextKey:tX.fresh,pet:i.pet}})),(0,tO.eR)(tH.toCheckout,tX.checkout,(0,tO.lo)(t9),(0,tO.u4)((e,t)=>{let{payload:i}=t;return{...e,prevState:{...e},stateKey:tX.checkout,nextKey:tX.confirmation,plan:i}}))),[tX.userInfo]:(0,tO.SB)((0,tO.eR)(tH.goBack,tX.poop,(0,tO.u4)(e=>({...e,prevState:{...e},stateKey:tX.poop,nextKey:tX.userInfo})),(0,tO.u4)(iq)),(0,tO.eR)(tH.customerInfoSaved,tX.planSelection,(0,tO.lo)(t1),(0,tO.lo)(t8),(0,tO.u4)((e,t)=>{let{...i}=e,{payload:r}=t;return{...i,prevState:{...i},stateKey:tX.planSelection,nextKey:tX.addons,customer:r.customer,pet:r.pet,pet_id:r.pet.id}})),(0,tO.eR)(tH.customerInfoSaved,tX.checkout,(0,tO.lo)(t6),(0,tO.lo)(t9),(0,tO.u4)((e,t)=>{let{payload:i}=t;return{...e,prevState:{...e},stateKey:tX.checkout,nextKey:tX.confirmation,customer:i.customer,pet:i.pet,pet_id:i.pet.id}})),(0,tO.eR)(tH.customerInfoSaved,tX.planSelection,(0,tO.lo)(t1),(0,tO.lo)(t8),(0,tO.u4)((e,t)=>{let{...i}=e,{payload:r}=t;return{...i,prevState:{...i},stateKey:tX.planSelection,nextKey:tX.addons,customer:r.customer,pet:r.pet,pet_id:r.pet.id}}))),[tX.recommendedPlan]:(0,tO.SB)((0,tO.eR)(tH.goBack,tX.userInfo,(0,tO.lo)(t1),(0,tO.u4)((e,t)=>{let i,{payload:r}=t;return i=e.flags.showRecommendedPlan?tX.recommendedPlan:tX.planSelection,{...e,prevState:{...e},stateKey:tX.userInfo,nextKey:i,pet:r.pet}}),(0,tO.u4)(iq)),(0,tO.eR)(tH.toAllergies,tX.allergies,(0,tO.u4)(e=>({...e,prevState:{...e},stateKey:tX.allergies,nextKey:tX.poop}))),(0,tO.eR)(tH.toPlanSelection,tX.planSelection,(0,tO.lo)(t1),(0,tO.lo)(t6),(0,tO.u4)((e,t)=>{var i,r,n,o;let{payload:a}=t;return{...e,prevState:{...e},stateKey:tX.planSelection,nextKey:tX.fresh,customer:null!==(i=a.customer)&&void 0!==i?i:e.customer,personalizedPlan:!0,pet:null!==(r=a.pet)&&void 0!==r?r:e.pet,pets:null!==(n=a.pets)&&void 0!==n?n:e.pets,pet_id:null!==(o=a.pet.id)&&void 0!==o?o:e.pet.id}})),(0,tO.eR)(tH.toCheckout,tX.checkout,(0,tO.lo)(t9),(0,tO.u4)(e=>({...e,prevState:{...e},stateKey:tX.checkout,nextKey:tX.confirmation}))),(0,tO.eR)(tH.selectedRecipesWithExtras,tX.submitCart,(0,tO.u4)((e,t)=>{let{payload:i}=t;return{...e,prevState:{...e},stateKey:tX.recommendedPlan,nextKey:tX.checkout,recipes:{...e.recipes,...i.recipes},addons:i.addons}})),(0,tO.eR)(tH.selectedPlanType,tX.recommendedPlan,(0,tO.u4)((e,t)=>{let{payload:i}=t;return{...e,stateKey:tX.recommendedPlan,nextKey:tX.checkout,planType:i.planType,recipes:{...e.recipes}}}))),[tX.planSelection]:(0,tO.SB)((0,tO.j8)(tX.recommendedPlan,(0,tO.lo)(ic),(0,tO.lo)(t1),(0,tO.lo)(t8),(0,tO.lo)(ip),(0,tO.u4)((e,t)=>{var i,r;let{...n}=e,{payload:o}=t;return{...n,prevState:{...n},stateKey:tX.recommendedPlan,nextKey:tX.checkout,customer:n.customer,pet:null!==(i=n.pet)&&void 0!==i?i:o.pet,pet_id:null!==(r=n.pet.id)&&void 0!==r?r:o.pet.id}})),(0,tO.eR)(tH.goBack,tX.userInfo,(0,tO.lo)(t1),(0,tO.u4)((e,t)=>{let{payload:i}=t;return{...e,prevState:{...e},stateKey:tX.userInfo,nextKey:tX.planSelection,pet:i.pet}}),(0,tO.u4)(iq)),(0,tO.eR)(tH.toAllergies,tX.allergies,(0,tO.u4)(e=>({...e,prevState:{...e},stateKey:tX.allergies,nextKey:tX.poop}))),(0,tO.eR)(tH.selectedPlanType,tX.baked,(0,tO.lo)(t7),(0,tO.u4)((e,t)=>{var i;let r,{payload:n}=t,o={...e.recipes};return tU.includes(n.planType)?(o.dry=null,r=tX.addons):r=tX.baked,{...e,stateKey:tX.fresh,nextKey:r,planType:null!==(i=n.planType)&&void 0!==i?i:e.planType,recipes:o}})),(0,tO.eR)(tH.selectedPlanType,tX.fresh,(0,tO.u4)((e,t)=>{var i;let r,{payload:n}=t,o={...e.recipes};return tU.includes(n.planType)?(o.dry=null,r=tX.addons):r=tX.baked,{...e,stateKey:tX.fresh,nextKey:r,planType:null!==(i=n.planType)&&void 0!==i?i:e.planType,recipes:o}}))),[tX.fresh]:(0,tO.SB)((0,tO.eR)(tH.goBack,tX.planSelection,(0,tO.u4)(e=>({...e,prevState:{...e},stateKey:tX.planSelection})),(0,tO.u4)(iq)),(0,tO.eR)(tH.toAllergies,tX.allergies,(0,tO.lo)(t1),(0,tO.u4)((e,t)=>{let{payload:i}=t;return{...e,prevState:{...e},stateKey:tX.allergies,nextKey:tX.planSelection,pet:i.pet}})),(0,tO.eR)(tH.selectedFreshRecipes,tX.submitCart,(0,tO.lo)(ii),(0,tO.u4)((e,t)=>{let{payload:i}=t;return{...e,prevState:{...e},stateKey:tX.fresh,nextKey:tX.addons,recipes:{...e.recipes,fresh:i.recipes}}})),(0,tO.eR)(tH.selectedFreshRecipes,tX.baked,(0,tO.lo)(ir),(0,tO.u4)((e,t)=>{let{payload:i}=t;return{...e,prevState:{...e},stateKey:tX.baked,nextKey:tX.addons,recipes:{...e.recipes,fresh:i.recipes||e.recipes.fresh}}})),(0,tO.eR)(tH.toAddons,tX.addons,(0,tO.lo)(ii),(0,tO.u4)((e,t)=>{let{payload:i}=t;return{...e,prevState:{...e},stateKey:tX.fresh,nextKey:tX.addons}}))),[tX.baked]:(0,tO.SB)((0,tO.eR)(tH.goBack,tX.fresh,(0,tO.lo)(ir),(0,tO.u4)(e=>({...e,stateKey:tX.fresh,nextKey:tX.baked,planType:e.planType})),(0,tO.u4)(iq)),(0,tO.eR)(tH.goBack,tX.planSelection,(0,tO.u4)(e=>({...e,prevState:{...e},stateKey:tX.planSelection,nextKey:tX.baked})),(0,tO.u4)(iq)),(0,tO.eR)(tH.selectedBakedRecipes,tX.submitCart,(0,tO.u4)((e,t)=>{let{payload:i}=t;return{...e,prevState:{...e},stateKey:tX.baked,nextKey:tX.addons,recipes:{...e.recipes,dry:i.recipes||e.recipes.dry}}})),(0,tO.eR)(tH.toAddons,tX.addons,(0,tO.u4)((e,t)=>{let{payload:i}=t;return{...e,prevState:{...e},stateKey:tX.fresh,nextKey:tX.addons}}))),[tX.submitCart]:(0,tO.dw)(iC,(0,tO.eR)("done",tX.fresh,(0,tO.lo)(id),(0,tO.lo)(il),(0,tO.u4)((e,t)=>({...e,submitCartResult:t.data,stateKey:tX.fresh}))),(0,tO.eR)("done",tX.recommendedPlan,(0,tO.lo)(id),(0,tO.lo)(ic),(0,tO.u4)((e,t)=>({...e,submitCartResult:t.data,stateKey:tX.recommendedPlan}))),(0,tO.eR)("done",tX.baked,(0,tO.lo)(id),(0,tO.lo)(is),(0,tO.u4)((e,t)=>({...e,submitCartResult:t.data,stateKey:tX.baked}))),(0,tO.eR)("done",tX.addons,(0,tO.lo)(iu),(0,tO.u4)((e,t)=>({...e,submitCartResult:t.data,stateKey:tX.addons,nextKey:tX.checkout}))),(0,tO.eR)("done",tX.addons,(0,tO.lo)(im),(0,tO.u4)((e,t)=>({...e,submitCartResult:t.data,stateKey:tX.addons,nextKey:tX.checkout}))),(0,tO.eR)("done",tX.checkout,(0,tO.lo)(ic),(0,tO.u4)((e,t)=>({...e,submitCartResult:t.data,stateKey:tX.checkout,nextKey:tX.checkout}))),(0,tO.eR)("done",tX.checkout,(0,tO.u4)((e,t)=>({...e,submitCartResult:t.data,stateKey:tX.checkout,nextKey:tX.confirmation})))),[tX.addons]:(0,tO.SB)((0,tO.eR)(tH.goBack,tX.baked,(0,tO.lo)(is),(0,tO.u4)(e=>({...e,prevState:{...e},stateKey:tX.baked,nextKey:tX.addons})),(0,tO.u4)(iq)),(0,tO.eR)(tH.goBack,tX.fresh,(0,tO.lo)(il),(0,tO.u4)(e=>({...e,prevState:{...e},stateKey:tX.fresh,nextKey:tX.addons})),(0,tO.u4)(iq)),(0,tO.eR)(tH.toCheckout,tX.checkout,(0,tO.u4)(e=>({...e,prevState:{...e},stateKey:tX.checkout,nextKey:tX.confirmation})))),[tX.checkout]:(0,tO.SB)((0,tO.eR)(tH.goBack,tX.addons,(0,tO.lo)(iu),(0,tO.u4)(e=>({...e,prevState:{...e},stateKey:tX.addons,nextKey:tX.checkout})),(0,tO.u4)(iq)),(0,tO.eR)(tH.goBack,tX.planSelection,(0,tO.lo)(ic),(0,tO.u4)(e=>({...e,prevState:{...e},stateKey:tX.planSelection,nextKey:tX.checkout})),(0,tO.u4)(iq)),(0,tO.eR)(tH.toPlanSelection,tX.planSelection,(0,tO.lo)(t1),(0,tO.lo)(t6),(0,tO.u4)((e,t)=>{let{payload:i}=t,r=i.pet_id,{product_type:n,recipes:o,portion_size:a}=i.cart.line_items.find(e=>e.pet_id===r),s=tQ[n];return"FR"===n&&"0.5"===a&&(s=tV.half_fresh),{...e,prevState:{...e},stateKey:tX.planSelection,nextKey:tX.fresh,pet:i.pets.find(e=>e.id===i.pet_id),pet_id:i.pet_id,recipes:o,planType:s,personalizedPlan:!0}})),(0,tO.eR)(tH.toPupInfo,tX.pupInfo,(0,tO.lo)(t1),(0,tO.u4)((e,t)=>{let{payload:i}=t;return{...e,prevState:{...e},stateKey:tX.pupInfo,nextKey:tX.birthday,pet_id:i.pet_id,customer:i.customer,personalizedPlan:!1}})),(0,tO.eR)(tH.toConfirmation,tX.appConfirmation,(0,tO.lo)(t4),(0,tO.lo)(ih),(0,tO.u4)(e=>({...e,prevState:{...e},stateKey:tX.appConfirmation}))),(0,tO.eR)(tH.toConfirmation,tX.confirmation,(0,tO.lo)(t4),(0,tO.u4)(e=>({...e,prevState:{...e},stateKey:tX.confirmation})))),[tX.confirmation]:(0,tO.SB)(),[tX.appConfirmation]:(0,tO.SB)()},iT),iB=(0,tO.C8)(tX.initial,{[tX.initial]:(0,tO.SB)((0,tO.eR)(tH.initialLoad,tX.appConfirmation,(0,tO.lo)(t4),(0,tO.lo)(ih),(0,tO.u4)((e,t)=>{let{payload:i}=t;return{...e,flags:i.flags,prevState:{...e},stateKey:tX.appConfirmation,isAppSession:e.isAppSession||i.isAppSession}})),(0,tO.eR)(tH.initialLoad,tX.confirmation,(0,tO.lo)(t4),(0,tO.u4)((e,t)=>{let{payload:i}=t;return{...e,flags:i.flags,prevState:{...e},stateKey:tX.confirmation,isAppSession:e.isAppSession||i.isAppSession}})),(0,tO.eR)(tH.initialLoad,tX.checkout,(0,tO.lo)(t1),(0,tO.lo)(t9),(0,tO.u4)((e,t)=>{let{payload:i}=t,r=i.pets.find(e=>!!i.cart.line_items.find(t=>t.pet_id===e.id));return{...e,flags:i.flags,prevState:{...e},stateKey:tX.checkout,nextKey:tX.confirmation,customer:i.customer,pet:r,pet_id:r.id,isAppSession:i.isAppSession||e.isAppSession}})),(0,tO.eR)(tH.initialLoad,tX.fresh,(0,tO.lo)(io),(0,tO.lo)(ie),(0,tO.u4)((e,t)=>{var i,r;let{payload:n}=t;return{...e,flags:n.flags,prevState:{...e},customer:n.customer,stateKey:tX.fresh,nextKey:tX.fresh,recipes:null!==(i=n.recipes)&&void 0!==i?i:e.recipes,planType:null!==(r=n.planType)&&void 0!==r?r:e.planType,isAppSession:n.isAppSession||e.isAppSession}})),(0,tO.eR)(tH.initialLoad,tX.baked,(0,tO.lo)(ia),(0,tO.lo)(it),(0,tO.u4)((e,t)=>{var i,r;let{payload:n}=t;return{...e,flags:n.flags,prevState:{...e},customer:n.customer,stateKey:tX.baked,nextKey:tX.checkout,recipes:null!==(i=n.recipes)&&void 0!==i?i:e.recipes,planType:null!==(r=n.planType)&&void 0!==r?r:e.planType,isAppSession:n.isAppSession||e.isAppSession}})),(0,tO.eR)(tH.initialLoad,tX.recommendedPlan,(0,tO.lo)(ic),(0,tO.lo)(t1),(0,tO.lo)(t8),(0,tO.lo)(ip),(0,tO.u4)((e,t)=>{var i,r,n,o;let{payload:a}=t,s=null===(i=a.pets)||void 0===i?void 0:i.find(e=>!a.cart.line_items.find(t=>t.pet_id===e.id));return{...e,flags:a.flags,customer:a.customer,prevState:{...e},stateKey:tX.recommendedPlan,nextKey:tX.checkout,pet:s,pets:a.pets,pet_id:null!==(r=null==s?void 0:s.id)&&void 0!==r?r:"",recipes:null!==(n=a.recipes)&&void 0!==n?n:e.recipes,fresh:a.recipes,planType:null!==(o=a.planType)&&void 0!==o?o:e.planType,isAppSession:a.isAppSession||e.isAppSession}})),(0,tO.eR)(tH.initialLoad,tX.planSelection,(0,tO.lo)(t1),(0,tO.lo)(t8),(0,tO.u4)((e,t)=>{var i,r,n,o;let{payload:a}=t,s=null===(i=a.pets)||void 0===i?void 0:i.find(e=>!a.cart.line_items.find(t=>t.pet_id===e.id));return{...e,flags:a.flags,customer:a.customer,prevState:{...e},stateKey:tX.planSelection,nextKey:tX.fresh,pet:s,pets:a.pets,pet_id:null!==(r=null==s?void 0:s.id)&&void 0!==r?r:"",recipes:null!==(n=a.recipes)&&void 0!==n?n:e.recipes,planType:null!==(o=a.planType)&&void 0!==o?o:e.planType,isAppSession:a.isAppSession||e.isAppSession}})),(0,tO.eR)(tH.initialLoad,tX.nutrition,(0,tO.lo)(t3),(0,tO.u4)((e,t)=>{let{payload:i}=t,r=i.pets.find(e=>!t5(e));return{...e,flags:i.flags,prevState:{...e},stateKey:tX.nutrition,nextKey:tX.planSelection,customer:i.customer,pet:r,pet_id:null==r?void 0:r.id}})),(0,tO.eR)(tH.initialLoad,tX.about,(0,tO.u4)((e,t)=>{let{payload:i}=t;return{...e,flags:i.flags,prevState:{...e},stateKey:tX.about,nextKey:tX.nutrition,customer:i.customer,isAppSession:i.isAppSession||e.isAppSession}}))),[tX.about]:(0,tO.SB)((0,tO.eR)(tH.toNutrition,tX.nutrition,(0,tO.lo)(t3),(0,tO.u4)((e,t)=>{var i;let{payload:r}=t;return{...e,prevState:{...e},stateKey:tX.nutrition,nextKey:tX.planSelection,pet:r.pet,pet_id:null!==(i=r.pet.id)&&void 0!==i?i:""}}))),[tX.nutrition]:(0,tO.SB)((0,tO.eR)(tH.goBack,tX.about,(0,tO.u4)((e,t)=>{let{payload:i}=t;return{...e,prevState:{...e},stateKey:tX.about,nextKey:tX.nutrition,pet:i.pet}}),(0,tO.u4)(iq)),(0,tO.eR)(tH.customerInfoSaved,tX.planSelection,(0,tO.lo)(t1),(0,tO.lo)(t8),(0,tO.u4)((e,t)=>{let{...i}=e,{payload:r}=t;return{...i,prevState:{...i},stateKey:tX.planSelection,nextKey:tX.addons,customer:r.customer,pet:r.pet,pet_id:r.pet.id}})),(0,tO.eR)(tH.customerInfoSaved,tX.checkout,(0,tO.lo)(t6),(0,tO.lo)(t9),(0,tO.u4)((e,t)=>{let{payload:i}=t;return{...e,prevState:{...e},stateKey:tX.checkout,nextKey:tX.confirmation,customer:i.customer,pet:i.pet,pet_id:i.pet.id}})),(0,tO.eR)(tH.customerInfoSaved,tX.planSelection,(0,tO.lo)(t1),(0,tO.lo)(t8),(0,tO.u4)((e,t)=>{let{...i}=e,{payload:r}=t;return{...i,prevState:{...i},stateKey:tX.planSelection,nextKey:tX.addons,customer:r.customer,pet:r.pet,pet_id:r.pet.id}}))),[tX.recommendedPlan]:(0,tO.SB)((0,tO.eR)(tH.goBack,tX.userInfo,(0,tO.lo)(t1),(0,tO.u4)((e,t)=>{let i,{payload:r}=t;return i=e.flags.showRecommendedPlan?tX.recommendedPlan:tX.planSelection,{...e,prevState:{...e},stateKey:tX.userInfo,nextKey:i,pet:r.pet}}),(0,tO.u4)(iq)),(0,tO.eR)(tH.toNutrition,tX.nutrition,(0,tO.lo)(t3),(0,tO.u4)(e=>({...e,prevState:{...e},stateKey:tX.nutrition,nextKey:tX.planSelection}))),(0,tO.eR)(tH.toPlanSelection,tX.planSelection,(0,tO.lo)(t1),(0,tO.lo)(t6),(0,tO.u4)((e,t)=>{var i,r,n,o;let{payload:a}=t;return{...e,prevState:{...e},stateKey:tX.planSelection,nextKey:tX.fresh,customer:null!==(i=a.customer)&&void 0!==i?i:e.customer,personalizedPlan:!0,pet:null!==(r=a.pet)&&void 0!==r?r:e.pet,pets:null!==(n=a.pets)&&void 0!==n?n:e.pets,pet_id:null!==(o=a.pet.id)&&void 0!==o?o:e.pet.id}})),(0,tO.eR)(tH.toCheckout,tX.checkout,(0,tO.lo)(t9),(0,tO.u4)(e=>({...e,prevState:{...e},stateKey:tX.checkout,nextKey:tX.confirmation}))),(0,tO.eR)(tH.selectedRecipesWithExtras,tX.submitCart,(0,tO.u4)((e,t)=>{let{payload:i}=t;return{...e,prevState:{...e},stateKey:tX.recommendedPlan,nextKey:tX.checkout,recipes:{...e.recipes,...i.recipes},addons:i.addons}})),(0,tO.eR)(tH.selectedPlanType,tX.recommendedPlan,(0,tO.u4)((e,t)=>{let{payload:i}=t;return{...e,stateKey:tX.recommendedPlan,nextKey:tX.checkout,planType:i.planType,recipes:{...e.recipes}}}))),[tX.planSelection]:(0,tO.SB)((0,tO.j8)(tX.recommendedPlan,(0,tO.lo)(ic),(0,tO.lo)(t1),(0,tO.lo)(t8),(0,tO.lo)(ip),(0,tO.u4)((e,t)=>{var i,r;let{...n}=e,{payload:o}=t;return{...n,prevState:{...n},stateKey:tX.recommendedPlan,nextKey:tX.checkout,customer:n.customer,pet:null!==(i=n.pet)&&void 0!==i?i:o.pet,pet_id:null!==(r=n.pet_id)&&void 0!==r?r:o.pet.id}})),(0,tO.eR)(tH.goBack,tX.nutrition,(0,tO.lo)(t1),(0,tO.u4)((e,t)=>{let{payload:i}=t;return{...e,prevState:{...e},stateKey:tX.nutrition,nextKey:tX.planSelection,pet:i.pet}}),(0,tO.u4)(iq)),(0,tO.eR)(tH.toNutrition,tX.nutrition,(0,tO.lo)(t3),(0,tO.u4)(e=>({...e,prevState:{...e},stateKey:tX.nutrition,nextKey:tX.planSelection}))),(0,tO.eR)(tH.selectedPlanType,tX.baked,(0,tO.lo)(t7),(0,tO.u4)((e,t)=>{var i;let r,{payload:n}=t,o={...e.recipes};return tU.includes(n.planType)?(o.dry=null,r=tX.addons):r=tX.baked,{...e,stateKey:tX.fresh,nextKey:r,planType:null!==(i=n.planType)&&void 0!==i?i:e.planType,recipes:o}})),(0,tO.eR)(tH.selectedPlanType,tX.fresh,(0,tO.u4)((e,t)=>{var i;let r,{payload:n}=t,o={...e.recipes};return tU.includes(n.planType)?(o.dry=null,r=tX.addons):r=tX.baked,{...e,stateKey:tX.fresh,nextKey:r,planType:null!==(i=n.planType)&&void 0!==i?i:e.planType,recipes:o}}))),[tX.fresh]:(0,tO.SB)((0,tO.eR)(tH.goBack,tX.planSelection,(0,tO.u4)(e=>({...e,prevState:{...e},stateKey:tX.planSelection})),(0,tO.u4)(iq)),(0,tO.eR)(tH.toNutrition,tX.nutrition,(0,tO.lo)(t1),(0,tO.u4)((e,t)=>{let{payload:i}=t;return{...e,prevState:{...e},stateKey:tX.nutrition,nextKey:tX.planSelection,pet:i.pet}})),(0,tO.eR)(tH.selectedFreshRecipes,tX.submitCart,(0,tO.lo)(ii),(0,tO.u4)((e,t)=>{let{payload:i}=t;return{...e,prevState:{...e},stateKey:tX.fresh,nextKey:tX.addons,recipes:{...e.recipes,fresh:i.recipes}}})),(0,tO.eR)(tH.selectedFreshRecipes,tX.baked,(0,tO.lo)(ir),(0,tO.u4)((e,t)=>{let{payload:i}=t;return{...e,prevState:{...e},stateKey:tX.baked,nextKey:tX.addons,recipes:{...e.recipes,fresh:i.recipes||e.recipes.fresh}}})),(0,tO.eR)(tH.toAddons,tX.addons,(0,tO.lo)(ii),(0,tO.u4)((e,t)=>{let{payload:i}=t;return{...e,prevState:{...e},stateKey:tX.fresh,nextKey:tX.addons}}))),[tX.baked]:(0,tO.SB)((0,tO.eR)(tH.goBack,tX.fresh,(0,tO.lo)(ir),(0,tO.u4)(e=>({...e,stateKey:tX.fresh,nextKey:tX.baked,planType:e.planType})),(0,tO.u4)(iq)),(0,tO.eR)(tH.goBack,tX.planSelection,(0,tO.u4)(e=>({...e,prevState:{...e},stateKey:tX.planSelection,nextKey:tX.baked})),(0,tO.u4)(iq)),(0,tO.eR)(tH.selectedBakedRecipes,tX.submitCart,(0,tO.u4)((e,t)=>{let{payload:i}=t;return{...e,prevState:{...e},stateKey:tX.baked,nextKey:tX.addons,recipes:{...e.recipes,dry:i.recipes||e.recipes.dry}}})),(0,tO.eR)(tH.toAddons,tX.addons,(0,tO.u4)((e,t)=>{let{payload:i}=t;return{...e,prevState:{...e},stateKey:tX.fresh,nextKey:tX.addons}}))),[tX.submitCart]:(0,tO.dw)(iC,(0,tO.eR)("done",tX.fresh,(0,tO.lo)(id),(0,tO.lo)(il),(0,tO.u4)((e,t)=>({...e,submitCartResult:t.data,stateKey:tX.fresh}))),(0,tO.eR)("done",tX.recommendedPlan,(0,tO.lo)(id),(0,tO.lo)(ic),(0,tO.u4)((e,t)=>({...e,submitCartResult:t.data,stateKey:tX.recommendedPlan}))),(0,tO.eR)("done",tX.baked,(0,tO.lo)(id),(0,tO.lo)(is),(0,tO.u4)((e,t)=>({...e,submitCartResult:t.data,stateKey:tX.baked}))),(0,tO.eR)("done",tX.addons,(0,tO.lo)(iu),(0,tO.u4)((e,t)=>({...e,submitCartResult:t.data,stateKey:tX.addons,nextKey:tX.checkout}))),(0,tO.eR)("done",tX.addons,(0,tO.lo)(im),(0,tO.u4)((e,t)=>({...e,submitCartResult:t.data,stateKey:tX.addons,nextKey:tX.checkout}))),(0,tO.eR)("done",tX.checkout,(0,tO.lo)(ic),(0,tO.u4)((e,t)=>({...e,submitCartResult:t.data,stateKey:tX.checkout,nextKey:tX.checkout}))),(0,tO.eR)("done",tX.checkout,(0,tO.u4)((e,t)=>({...e,submitCartResult:t.data,stateKey:tX.checkout,nextKey:tX.confirmation})))),[tX.addons]:(0,tO.SB)((0,tO.eR)(tH.goBack,tX.baked,(0,tO.lo)(is),(0,tO.u4)(e=>({...e,prevState:{...e},stateKey:tX.baked,nextKey:tX.addons})),(0,tO.u4)(iq)),(0,tO.eR)(tH.goBack,tX.fresh,(0,tO.lo)(il),(0,tO.u4)(e=>({...e,prevState:{...e},stateKey:tX.fresh,nextKey:tX.addons})),(0,tO.u4)(iq)),(0,tO.eR)(tH.toCheckout,tX.checkout,(0,tO.u4)(e=>({...e,prevState:{...e},stateKey:tX.checkout,nextKey:tX.confirmation})))),[tX.checkout]:(0,tO.SB)((0,tO.eR)(tH.goBack,tX.addons,(0,tO.lo)(iu),(0,tO.u4)(e=>({...e,prevState:{...e},stateKey:tX.addons,nextKey:tX.checkout})),(0,tO.u4)(iq)),(0,tO.eR)(tH.goBack,tX.planSelection,(0,tO.lo)(ic),(0,tO.u4)(e=>({...e,prevState:{...e},stateKey:tX.planSelection,nextKey:tX.checkout})),(0,tO.u4)(iq)),(0,tO.eR)(tH.toPlanSelection,tX.planSelection,(0,tO.lo)(t1),(0,tO.lo)(t6),(0,tO.u4)((e,t)=>{let{payload:i}=t,r=i.pet_id,{product_type:n,recipes:o,portion_size:a}=i.cart.line_items.find(e=>e.pet_id===r),s=tQ[n];return"FR"===n&&"0.5"===a&&(s=tV.half_fresh),{...e,prevState:{...e},stateKey:tX.planSelection,nextKey:tX.fresh,pet:i.pets.find(e=>e.id===i.pet_id),pet_id:i.pet_id,recipes:o,planType:s,personalizedPlan:!0}})),(0,tO.eR)(tH.toAbout,tX.about,(0,tO.lo)(t1),(0,tO.u4)((e,t)=>{let{payload:i}=t;return{...e,prevState:{...e},stateKey:tX.about,nextKey:tX.nutrition,pet_id:i.pet_id,pets:i.pets,customer:i.customer,personalizedPlan:!1}}),(0,tO.u4)(iq)),(0,tO.eR)(tH.toConfirmation,tX.appConfirmation,(0,tO.lo)(t4),(0,tO.lo)(ih),(0,tO.u4)(e=>({...e,prevState:{...e},stateKey:tX.appConfirmation}))),(0,tO.eR)(tH.toConfirmation,tX.confirmation,(0,tO.lo)(t4),(0,tO.u4)(e=>({...e,prevState:{...e},stateKey:tX.confirmation})))),[tX.confirmation]:(0,tO.SB)(),[tX.appConfirmation]:(0,tO.SB)()},iT),iL=(0,o.createContext)({}),iA=e=>{var t,i,r,a,s;let l,{children:d}=e,u=(0,K.useRouter)(),p=(0,c.Av)(),[m,g]=(0,o.useState)(!1),[f]=(0,o.useState)(!1),[y,b]=(0,o.useState)(!1),[v,w]=(0,tB._)("PLAN_SELECTION"),{status:C,isAppSession:R,isScreeningSession:_,isRegistering:P}=(0,tZ.kP)(),{value:k}=(0,eY.aq)(eY.lj,!1);k=k||R||_;let{value:q}=(0,eY.aq)(eY.t5,!1),{value:S}=(0,eY.aq)(eY.Mo,!1),{customer:I,isActive:T,isLoading:Z,isAuthenticated:B,updateCustomer:L,getCustomer:A}=(0,tL.Vq)(),{pets:N,isLoading:E,...F}=(0,tA.pT)(),{cart:O,isLoading:D}=(0,tL.jD)(),{showToast:M}=(0,tF.pm)(),W=(0,tN.ZV)(),[V,Q,z]=iI(q?iB:iZ),U=V.context.pet_id||(null===(t=V.context.pet)||void 0===t?void 0:t.id)||(null===(i=u.query)||void 0===i?void 0:i.pet_id),X="new_pet"===U,{pet:H,isLoading:Y,savePet:G,deletePet:$,isLocalPet:J,deleteLocalPet:ee}=(0,tA.tI)(X?void 0:U),{products:et,isLoading:ei}=(0,tK.MS)({petId:U,couponCode:W.code}),{products:er,isLoading:en}=(0,tK.Ig)({petId:U,couponCode:W.code}),eo=(0,tE.$t)({couponCode:W.code,petId:t5(H)?U:null}),ea=[tX.planSelection,tX.fresh,tX.baked,tX.recommendedPlan],es=V.context.stateKey===tX.planSelection&&V.context.prevState.stateKey===tX.recommendedPlan,el=!ea.includes(V.name)||eo.isLoading||eo.isValidating;(0,o.useEffect)(()=>{ea.includes(V.name)&&!es&&eo.refreshPlans()},[V.name]);let{fresh:ed,dry:ec,mixed:eu,half_fresh:ep}=eo,em=null!==(s=null==eu?void 0:null===(a=eu.products)||void 0===a?void 0:null===(r=a[0])||void 0===r?void 0:r.kcalories_per_day)&&void 0!==s?s:null,eh={fresh:ed,dry:ec,mixed:eu};S&&(eh.half_fresh=ep);let{lineItemForPet:eg,addonsForPet:ef,...ey}=(0,tL.h2)(U),eb=(0,tE.iB)(null==eg?void 0:eg.sku,{couponCode:W.code});V.context.stateKey.includes(h)||(l=iw(eb.product,eg));let ex="loading"===C||B&&(Z||E||D||ei||en),ev=async()=>{try{await $(),u.push("/onboarding/".concat(x,"/"))}catch(e){p.error(e)}};(0,o.useEffect)(()=>{w({addons:V.context.addons,customer:V.context.customer,nextKey:V.context.nextKey,pet:V.context.pet,pet_id:V.context.pet_id,planType:V.context.planType,recipes:V.context.recipes,stateKey:V.context.stateKey},{skipRender:!0})},[V.context,w]),(0,o.useEffect)(()=>{if(!ex&&V.name===tX.initial&&!P){let e,t;if(!Y&&!eb.isLoading){let i=iw(eb.product,eg);i?t=ix(e=i.variants[0].recipes,i.portion_size):v&&(e=v.recipes,t=v.planType)}Q(tY.initialLoad({customer:I,isActive:T,pet:H,pets:J?[H]:N,pet_id:U,cart:O,recipes:e,planType:t,personalizedPlan:f,isAppSession:R,isScreeningSession:_,flags:{showRecommendedPlan:k,shortenedOnboardingQuizFlow:q}}))}},[V,Q,O,I,T,H,N,U,ex,Y,eb.isLoading,eg,v,eb.product,ey,k,q,f,et,er,J,R,P,_]);let ew={productTypes:eh,localSelection:v,setLocalSelection:w,offer:W,isValidating:el,productIsLoading:eb.isLoading,returnToQuiz:e=>{"string"!=typeof e&&(e=j),u.push("/onboarding/quiz/".concat(e,"/?pet_id=").concat(U))},planApiError:eo.error,onClickDeletePet:ev,cartProduct:l,plansApi:eo,petIsLoading:Y,pets:N,pet:H,savePet:G,deletePet:$,cart:O,customer:I,isActive:T,getCustomer:A,updateCustomer:L,isLoading:ex,send:Q,service:z,goToLogin:()=>{u.push("/auth/login/"),M({status:"success",message:"We found an account associated with your email. Please log in to access your account."})},pet_id:V.context.pet_id,nextKey:V.context.nextKey,prevState:V.context.prevState,stateKey:V.name,selectedPlanType:V.context.planType,selectedFreshRecipes:V.context.recipes.fresh,selectedDryRecipes:V.context.recipes.dry,reporter:p,showModal:m,setShowModal:g,personalizedPlan:f,goBack:()=>{Q(tY.goBack())},deleteLocalPet:ee,pricePeriod:"week",cartApi:ey,petsApi:F,treatProducts:et,supplementProducts:er,selectedAddons:ef,selectedExtras:null!=ef?ef:V.context.addons,quizStepNumbers:i_(),isLocalPet:J,mixedCaloriesPerDay:em,isAppSession:R,isScreeningSession:_,flags:{showRecommendedPlan:k,shortenedOnboardingQuizFlow:q},isReturningCustomerWithMealPlan:y,setReturningCustomerWithMealPlan:b};return(0,n.jsx)(iL.Provider,{value:ew,children:d})};iA.propTypes={children:s().object.isRequired};var iN=i(12231),iE=i(77759),iK=i(40986),iF=i(66432),iO=i(85469),iD=i(73750),iM=i(45566),iW=i(63955),iV=i(6812),iQ=i(36238),iz=i(57522);let iU=td.ZP.div.withConfig({componentId:"sc-b49ada7-0"})(["align-items:center;color:",";display:flex;flex-direction:column;justify-content:center;max-width:",";"],e=>e.theme.colors.text.secondary,e=>e.$maxWidth?"".concat(e.$maxWidth,"px"):"none");var iX="/_next/static/media/check.4e49f472.svg";let iH=td.ZP.span.withConfig({componentId:"sc-1f03226e-0"})(["display:initial;@media ","{display:none;}"],e=>e.theme.tablet),iY=td.ZP.span.withConfig({componentId:"sc-1f03226e-1"})(["display:none;@media ","{display:initial;}"],e=>e.theme.tablet),iG=e=>{let{mobileText:t,desktopText:i}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(iH,{children:t}),(0,n.jsx)(iY,{children:i})]})};iG.displayName="ResponsiveText",iG.propTypes={mobileText:s().string.isRequired,desktopText:s().string.isRequired};var i$=i(72249);let iJ=td.ZP.div.withConfig({componentId:"sc-7d8b1cba-0"})(["display:flex;justify-content:center;padding:",";background-color:",";"],e=>e.theme.spacing(2,5),e=>e.theme.colors.neutral.lightBone),i0=td.ZP.div.withConfig({componentId:"sc-7d8b1cba-1"})(["display:flex;gap:",";max-width:350px;width:100%;"],e=>e.theme.spacing(4)),i1=e=>{let{onBackButtonClick:t,forwardButtonText:i="Continue",onForwardButtonClick:r,isForwardButtonDisabled:o,isBackButtonDisabled:a,isForwardButtonLoading:s}=e,l=(0,tN.ZV)(),d=(null==l?void 0:l.formattedAmount)?"".concat(i," with ").concat(l.formattedAmount," off"):i;return(0,n.jsx)(i$.B,{shown:!0,children:(0,n.jsx)(iJ,{children:(0,n.jsxs)(i0,{"aria-live":"polite",children:[t&&(0,n.jsx)(ts.hU,{"aria-label":"go to previous step",icon:{iconName:"arrow-left",size:"24px",alt:"back",id:"prev_step_footer"},onClick:t,disabled:a,type:"button",variant:"spinach"}),(0,n.jsx)(ts.zx,{"aria-label":d,disabled:o,onClick:r,fullWidth:!0,variant:"spinach",isLoading:s,children:(0,n.jsx)(iG,{desktopText:i,mobileText:d})})]})})})};i1.displayName="OnboardingFooter",i1.propTypes={onBackButtonClick:s().func,forwardButtonText:s().string,onForwardButtonClick:s().func,isForwardButtonDisabled:s().bool,isBackButtonDisabled:s().bool,isForwardButtonLoading:s().bool};var i4=i(11033);let i2=td.ZP.p.withConfig({componentId:"sc-adf0894e-0"})(["margin:",";",""],e=>e.theme.spacing(3,0),e=>e.theme.typography.body),i3=td.ZP.div.withConfig({componentId:"sc-adf0894e-1"})(["align-items:center;display:flex;flex-direction:column;gap:",";margin-bottom:0;text-align:center;width:100%;background-color:",";padding:",";border-radius:32px;h2{"," margin-bottom:",";}"],e=>e.isUIVariant?e.theme.spacing(1):e.theme.spacing(4),e=>e.$bgColor&&e.theme.colors.get(e.$bgColor),e=>e.theme.spacing(e.isUIVariant?2:5,5,e.isUIVariant?0:5,5),e=>e.theme.fontFamily.base,e=>e.theme.spacing(5)),i5=td.ZP.p.withConfig({componentId:"sc-adf0894e-2"})(["",";margin:",";"],e=>e.theme.typography.body,e=>e.theme.spacing(1,0)),i6=o.forwardRef((e,t)=>{let{children:i,caption:r,prompt:o,as:a,bgColor:s,subheadline:l,isUIVariant:d}=e;return(0,n.jsxs)(i3,{ref:t,as:a,$bgColor:s,isUIVariant:d,children:[(0,n.jsx)(i4.X,{headingLevel:"h3",headingText:o,position:"left",typography:d?"body":"heading3",backgroundColor:s}),l&&(0,n.jsx)(i5,{children:l}),i,r&&(0,n.jsx)(i2,{children:r})]})});i6.displayName="Question",i6.propTypes={children:s().node,prompt:s().string.isRequired,caption:s().string,as:s().string,bgColor:s().string,subheadline:s().string};let i8=td.ZP.form.withConfig({componentId:"sc-243d28f5-0"})(["background:",";flex:1;display:grid;grid-gap:",";justify-items:center;overflow:auto;margin-bottom:74px;"],e=>e.theme.colors.background.base,e=>e.theme.spacing(12));var i9=i(76930);let i7=et.Ry().shape({firstName:et.Z_().required("name is a required field"),email:et.Z_().required("email is a required field").email(i9.N0)}),re=td.ZP.p.withConfig({componentId:"sc-8a59f4b1-0"})(["margin:0 auto;",";color:",";@media ","{padding:"," 0 ",";}"],e=>e.theme.typography.body,e=>e.theme.colors.text.secondary,e=>{let{theme:t}=e;return t.tablet},e=>e.theme.spacing(2),e=>e.theme.spacing(4,4,0,4)),rt=td.ZP.div.withConfig({componentId:"sc-8a59f4b1-1"})(["display:flex;flex-direction:row;align-items:center;flex-wrap:wrap;width:100%;padding:",";"],e=>e.theme.spacing(4,4,1,4)),ri=td.ZP.div.withConfig({componentId:"sc-8a59f4b1-2"})(["display:flex;align-items:center;padding:",";width:50%;"],e=>e.theme.spacing(1,2)),rr=td.ZP.div.withConfig({componentId:"sc-8a59f4b1-3"})(["padding:",";height:24px;"],e=>e.theme.spacing(0,1)),rn=td.ZP.div.withConfig({componentId:"sc-8a59f4b1-4"})(["margin-left:",";",";color:",";"],e=>e.theme.spacing(1),e=>e.theme.typography.body,e=>e.theme.colors.text.secondary),ro=td.ZP.div.withConfig({componentId:"sc-8a59f4b1-5"})(["display:flex;flex-direction:row;align-items:center;flex-wrap:nowrap;width:100%;background-color:white;padding:",";border-radius:32px;margin:",";max-width:360px;"],e=>e.theme.spacing(2),e=>e.theme.spacing(8,10,10,10)),ra=td.ZP.div.withConfig({componentId:"sc-8a59f4b1-6"})(["display:flex;flex-direction:column;align-items:center;padding:",";width:100%;"],e=>e.theme.spacing(1,2)),rs=td.ZP.div.withConfig({componentId:"sc-8a59f4b1-7"})(["width:100%;",";color:",";"],e=>e.theme.typography.subheading1,e=>e.theme.colors.text.primary),rl=td.ZP.div.withConfig({componentId:"sc-8a59f4b1-8"})(["width:100%;",";color:",";"],e=>e.theme.typography.body,e=>e.theme.colors.text.primary),rd=td.ZP.div.withConfig({componentId:"sc-8a59f4b1-9"})(["padding:",";width:90px;"],e=>e.theme.spacing(0,1)),rc=e=>{let{defaultValues:t,headline:i,emailLabel:r,emailQuestionCaption:o,emailQuestionPrompt:a,firstNameLabel:s,firstNameQuestionPrompt:l,goBack:d,index:u,onSubmit:p,petName:m}=e,h=(0,c.Av)(),{formState:{errors:g,isSubmitting:f,isSubmitted:y,isSubmitSuccessful:b},handleSubmit:x,setError:v,clearErrors:w,control:C,reset:j,getValues:R}=(0,iW.cI)({defaultValues:t,mode:"onTouched",resolver:(0,iV.X)(i7)}),{value:_}=(0,eY.aq)("EMAIL_CAPTURE_REDESIGN","control"),P=async e=>{h.tag(G(u,"user_info"));let t=await p(e);tZ.fE.match(t,{error:{invalidEmail:()=>v("email",{type:"server",message:"Email is invalid"},{shouldFocus:!0})}}),tZ.fE.ifError(t,()=>setTimeout(()=>j(R(),{keepIsSubmitted:!1,keepErrors:!0})))},k="text_and_design"===_,q="text_only"===_,S=k||q;return(0,n.jsxs)(i8,{onSubmit:x(P),children:[(0,n.jsxs)(iU,{$maxWidth:391,children:[(0,n.jsx)(iQ.X,{typography:"heading3",position:"center",headingLevel:"h2",headingText:S?"Save ".concat(m,"'s recommended plan"):i}),q&&(0,n.jsx)(re,{children:"We'll save ".concat(m,"'s plan and progress for you.")}),k&&(0,n.jsxs)(rt,{children:[(0,n.jsxs)(ri,{children:[(0,n.jsx)(rr,{children:(0,n.jsx)(iz.t,{src:iX,alt:"Ollie box",width:24,height:24})}),(0,n.jsx)(rn,{children:"Calorie portion"})]}),(0,n.jsxs)(ri,{children:[(0,n.jsx)(rr,{children:(0,n.jsx)(iz.t,{src:iX,alt:"Ollie box",width:24,height:24})}),(0,n.jsx)(rn,{children:"Meal prep"})]}),(0,n.jsxs)(ri,{children:[(0,n.jsx)(rr,{children:(0,n.jsx)(iz.t,{src:iX,alt:"Ollie box",width:24,height:24})}),(0,n.jsx)(rn,{children:"Estimated Price"})]}),(0,n.jsxs)(ri,{children:[(0,n.jsx)(rr,{children:(0,n.jsx)(iz.t,{src:iX,alt:"Checkbox",width:24,height:24})}),(0,n.jsx)(rn,{children:"Recipe options"})]})]}),(0,n.jsx)(i6,{prompt:S?"Your name":l,isUIVariant:k,children:(0,n.jsx)(iW.Qr,{control:C,name:"firstName",render:e=>{let{field:t,fieldState:{error:i}}=e;return(0,n.jsx)(iQ.I,{...t,error:null==i?void 0:i.message,labelText:k?"Enter your first name":s,status:(null==i?void 0:i.message)?"error":null,visuallyHideLabel:!0,centeredAlign:!0})}})}),(0,n.jsx)(i6,{caption:S?null:o,prompt:S?"Email":a,isUIVariant:k,children:(0,n.jsx)(iW.Qr,{control:C,name:"email",render:e=>{let{field:t,fieldState:{error:i}}=e;return(0,n.jsx)(iQ.I,{...t,onChange:e=>{var i;(null===(i=g.email)||void 0===i?void 0:i.type)==="server"&&w("email"),t.onChange(e.trim())},labelText:k?"Enter your email":r,error:null==i?void 0:i.message,status:(null==i?void 0:i.message)?"error":null,visuallyHideLabel:!0,centeredAlign:!0})}})}),k&&(0,n.jsxs)(ro,{children:[(0,n.jsx)(rd,{children:(0,n.jsx)(iz.t,{src:"/_next/static/media/heart@2x.c59014b4.png",alt:"Heart image",width:126,height:126})}),(0,n.jsxs)(ra,{children:[(0,n.jsx)(rs,{children:"DID YOU KNOW?"}),(0,n.jsxs)(rl,{children:[(0,n.jsx)("b",{children:"9/10 members"})," report positive changes after 30 days of feeding them Ollie."]})]})]})]}),(0,n.jsx)(i1,{isBackButtonDisabled:f||y&&b,isForwardButtonDisabled:f||y&&b,isForwardButtonLoading:f||y&&b,onBackButtonClick:d})]})};rc.displayName="UserInfoForm",rc.propTypes={defaultValues:s().shape({firstName:s().string.isRequired,email:s().string.isRequired}).isRequired,emailLabel:s().string.isRequired,headline:s().string.isRequired,emailQuestionCaption:s().string.isRequired,emailQuestionPrompt:s().string.isRequired,firstNameLabel:s().string.isRequired,firstNameQuestionPrompt:s().string.isRequired,goBack:s().func.isRequired,index:s().number.isRequired,onSubmit:s().func.isRequired};var ru=i(92689),rp=i(83902);let rm=td.ZP.div.withConfig({componentId:"sc-26f1cdd7-0"})(["margin-top:",";width:100%;"],e=>{let{theme:t}=e;return t.spacing(5)}),rh=et.Ry().shape({gender:et.Z_().required(i9.Wj),name:et.Z_().required("pup name is required")}),rg=e=>{let{defaultValues:t,genderList:i,goBack:r,labelName:o,index:a,onSubmit:s,pupInfoQuestionCaption:l,pupInfoQuestionPrompt:d}=e,{control:u,handleSubmit:p,formState:{isSubmitting:m,isSubmitted:h,isSubmitSuccessful:g},reset:f,getValues:y}=(0,iW.cI)({defaultValues:t,resolver:(0,iV.X)(rh),mode:"onTouched"}),b=(0,c.Av)(),{customer:x}=(0,tL.Vq)(),v=async e=>{b.tag(G(a,"dog_name",x));let t=await s(e);tZ.fE.ifError(t,()=>setTimeout(()=>f(y(),{keepIsSubmitted:!1})))};return(0,n.jsxs)(i8,{onSubmit:p(v),children:[(0,n.jsx)(iU,{$maxWidth:391,children:(0,n.jsxs)(i6,{caption:l,prompt:d,children:[(0,n.jsx)(iW.Qr,{control:u,name:"gender",render:e=>{let{field:{ref:t,...r},fieldState:{error:a}}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(rp.Y,{...r,choices:i,legendText:o,name:"gender",error:(null==a?void 0:a.message)||"",status:(null==a?void 0:a.message)?"error":null})})}}),(0,n.jsx)(rm,{children:(0,n.jsx)(iW.Qr,{control:u,name:"name",render:e=>{var t;let{field:i,fieldState:r}=e;return(0,n.jsx)(ru.I,{...i,visuallyHideLabel:!0,labelText:o,error:null===(t=r.error)||void 0===t?void 0:t.message,status:r.error?"error":null,value:i.value||""})}})})]})}),(0,n.jsx)(i1,{onBackButtonClick:r,isBackButtonDisabled:m||h&&g,isForwardButtonDisabled:m||h&&g,isForwardButtonLoading:m||h&&g})]})};rg.displayName="PupInfoForm",rg.propTypes={defaultValues:s().shape({gender:s().string,name:s().string}).isRequired,genderList:s().arrayOf(s().shape({name:s().string.isRequired,value:s().string.isRequired})).isRequired,goBack:s().func.isRequired,index:s().number.isRequired,labelName:s().string.isRequired,onSubmit:s().func.isRequired,pupInfoQuestionCaption:s().string.isRequired,pupInfoQuestionPrompt:s().string.isRequired};var rf=i(11987),ry=i(9575);let rb=td.ZP.div.withConfig({componentId:"sc-40623952-0"})(["display:grid;grid-gap:",";width:100%;"],e=>e.theme.spacing(4)),rx=(0,iK.default)(new Date,3),rv=et.Ry({year:et.Z_().required("Your pup's year of birth is required").notOneOf(["0"],"Your pup's year of birth is required"),month:et.Z_().required("Your pup's month of birth is required").notOneOf(["0"],"Your pup's month of birth is required").test("is-not-too-young","Sorry, we cannot accept pups less than 3mo old.",(e,t)=>{let{parent:i}=t;if(i.month){let t=(0,iE.default)("".concat(i.year,"-").concat(e,"-").concat(i.day||"01"),"yyyy-MM-dd",new Date);return(0,iN.default)(rx,t)}return!0}),day:et.Z_()}),rw=e=>{let{labelYear:t,labelMonth:i,labelDay:r,onSubmit:a,defaultValues:s,goBack:l,index:d,pupBirthdayQuestionCaption:u,pupBirthdayQuestionPrompt:p}=e,[m,h]=(0,o.useState)([]),[g,f]=(0,o.useState)([]),[y,b]=(0,o.useState)([]),{control:x,handleSubmit:v,formState:{isValid:w,isSubmitting:C,isSubmitted:j,isSubmitSuccessful:R},getValues:_,reset:P}=(0,iW.cI)({defaultValues:s,mode:"onChange",resolver:(0,iV.X)(rv)}),k=(0,c.Av)(),{customer:q}=(0,tL.Vq)(),S=(0,o.useCallback)(()=>{h((0,ry.V4)())},[]),I=(0,o.useCallback)(()=>{f((0,ry.wH)(_("year")))},[_]),T=(0,o.useCallback)(()=>{b((0,ry.fe)(_("year"),_("month"),r))},[_,r]);(0,o.useEffect)(()=>{S(),I(),T()},[T,I,S]);let Z=async e=>{k.tag(G(d,"dog_birthday",q));let t=await a(e);tZ.fE.ifError(t,()=>setTimeout(()=>P(_(),{keepIsSubmitted:!1})))};return(0,n.jsxs)(i8,{onSubmit:v(Z),children:[(0,n.jsx)(iU,{$maxWidth:391,children:(0,n.jsx)(i6,{prompt:p,caption:u,children:(0,n.jsxs)(rb,{children:[(0,n.jsx)(iW.Qr,{name:"year",control:x,render:e=>{let{field:{ref:i,...r},fieldState:{error:o}}=e;return(0,n.jsx)(rf.L,{...r,showLabel:!1,noSelectionLabel:t,label:t,onChange:e=>{r.onChange(e),I()},selected:(null==r?void 0:r.value)?r.value.toString():"",error:null==o?void 0:o.message,options:m})}}),(0,n.jsx)(iW.Qr,{name:"month",control:x,render:e=>{let{field:{ref:t,...r},fieldState:{error:o}}=e;return(0,n.jsx)(rf.L,{...r,showLabel:!1,noSelectionLabel:i,label:i,onChange:e=>{r.onChange(e),T()},disabled:0===g.length,selected:(null==r?void 0:r.value)?r.value.toString():"",error:null==o?void 0:o.message,options:g})}}),(0,n.jsx)(iW.Qr,{name:"day",control:x,render:e=>{let{field:{ref:t,...i},fieldState:{error:o}}=e,a=(null==i?void 0:i.value)?i.value.toString():"";return 1===a.length&&(a="0".concat(a)),(0,n.jsx)(rf.L,{...i,showLabel:!1,noSelectionLabel:r,label:r,onChange:e=>{i.onChange(e)},disabled:0===y.length,selected:a,error:null==o?void 0:o.message,options:y})}})]})})}),(0,n.jsx)(i1,{isBackButtonDisabled:C||j&&R,isForwardButtonDisabled:!w||C||j&&R,onBackButtonClick:l,isForwardButtonLoading:C||j&&R})]})};rw.displayName="BirthdayForm",rw.propTypes={labelYear:s().string.isRequired,labelMonth:s().string.isRequired,labelDay:s().string.isRequired,onSubmit:s().func.isRequired,index:s().number.isRequired,goBack:s().func.isRequired,defaultValues:s().shape({}).isRequired,pupBirthdayQuestionCaption:s().string.isRequired,pupBirthdayQuestionPrompt:s().string.isRequired};var rC=i(29512),rj=i(66572);let rR=et.Ry().shape({breeds:et.IX().max(2,"Maximum of two breeds allowed")}),r_=e=>{let{breedQuestionPrompt:t,defaultValues:i,goBack:r,index:o,labelBreed:a,onSubmit:s}=e,l=(0,rj.ze)(),{handleSubmit:d,control:u,formState:{isValid:p,isSubmitting:m,isSubmitted:h},reset:g,getValues:f}=(0,iW.cI)({mode:"onChange",defaultValues:i,resolver:(0,iV.X)(rR)}),y=(0,c.Av)(),{customer:b}=(0,tL.Vq)(),x=async e=>{y.tag(G(o,"dog_breed",b));let t=await s(e);tZ.fE.ifError(t,()=>setTimeout(()=>g(f(),{keepIsSubmitted:!1})))};return(0,n.jsxs)(i8,{onSubmit:d(x),children:[(0,n.jsx)(iU,{$maxWidth:391,children:(0,n.jsx)(i6,{prompt:t,children:(0,n.jsx)(iW.Qr,{name:"breeds",control:u,render:e=>{let{field:{ref:t,...i}}=e;return(0,n.jsx)(rC.N,{...i,searchLabel:a,values:l,selectedValues:i.value,max:{count:2,message:"Maximum of two breeds allowed"}})}})})}),(0,n.jsx)(i1,{onBackButtonClick:r,isForwardButtonDisabled:!p||m||h,isBackButtonDisabled:m||h,isForwardButtonLoading:m||h})]})};r_.displayName="BreedForm",r_.propTypes={breedQuestionPrompt:s().string.isRequired,defaultValues:s().shape({breeds:s().array}).isRequired,goBack:s().func.isRequired,index:s().number.isRequired,labelBreed:s().string.isRequired,onSubmit:s().func.isRequired};var rP=i(97631);let rk="Ollie is currently available only to pups between ".concat(3," and ").concat(180," pounds"),rq="Please use a whole number for pup weight",rS=et.Ry().shape({weight:et.Rx().required(i9.Wj).integer(rq).typeError(i9.Wj).max(180,rk).min(3,rk),idealWeight:et.Rx().integer(rq).nullable().typeError(i9.Wj).max(180,rk).min(3,rk).transform(e=>isNaN(e)?null:e),spayedStatus:et.Xg().required(i9.Wj).typeError(i9.Wj)}),rI=e=>{let{defaultValues:t,weightLabel:i,weightQuestionPrompt:r,idealWeightLabel:o,puppyIdealWeightLabel:a,isPuppy:s,goBack:l,spayedChipLabel:d,spayedStatusQuestionCaption:u,spayedStatusQuestionPrompt:p,unspayedChipLabel:m,onSubmit:h,index:g,puppyIdealWeightHelp:f,puppySpayNeuterNotice:y,idealWeightHelp:b}=e,{handleSubmit:x,control:v,formState:{isSubmitting:w,isSubmitted:C,isSubmitSuccessful:j},reset:R,getValues:_,trigger:P}=(0,iW.cI)({defaultValues:t,mode:"onBlur",resolver:(0,iV.X)(rS)}),k=(0,c.Av)(),{customer:q}=(0,tL.Vq)(),S=s?a:o,I=(0,n.jsx)(rP.n,{name:"Display weight information",variant:"info",placement:"top",children:b}),T=async e=>{k.tag(G(g,"dog_weight",q));let t=await h(e);tZ.fE.ifError(t,()=>setTimeout(()=>R(_(),{keepIsSubmitted:!1})))};return(0,n.jsxs)(i8,{onSubmit:x(T),children:[(0,n.jsxs)(iU,{$maxWidth:391,children:[(0,n.jsxs)(i6,{prompt:r,children:[(0,n.jsx)(iW.Qr,{control:v,name:"weight",render:e=>{let{field:{ref:t,...r},fieldState:{error:o}}=e;return(0,n.jsx)(ru.I,{...r,type:"number",labelText:i,value:r.value||"",status:(null==o?void 0:o.message)?"error":null,error:(null==o?void 0:o.message)||"",visuallyHideLabel:!0})}}),(0,n.jsx)(iW.Qr,{control:v,name:"idealWeight",render:e=>{let{field:{ref:t,...i},fieldState:{error:r}}=e;return(0,n.jsx)(ru.I,{...i,type:"number",labelText:S,icon:I,value:i.value||"",status:(null==r?void 0:r.message)?"error":null,error:(null==r?void 0:r.message)||"",visuallyHideLabel:!0})}})]}),(0,n.jsx)(i6,{prompt:p,caption:u,children:(0,n.jsx)(iW.Qr,{control:v,name:"spayedStatus",render:e=>{let{field:{ref:t,...i},fieldState:{error:r}}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(rp.Y,{...i,legendText:"spayed status",value:"".concat(i.value),choices:[{name:d,value:"true"},{name:m,value:"false"}],error:(null==r?void 0:r.message)||"",status:(null==r?void 0:r.message)?"error":null,onChange:e=>{i.onChange(e),P(i.name)}})})}})})]}),(0,n.jsx)(i1,{isBackButtonDisabled:w||C&&j,isForwardButtonDisabled:w||C&&j,onBackButtonClick:l,isForwardButtonLoading:w||C&&j})]})};rI.displayName="CaloriesForm",rI.propTypes={defaultValues:s().shape({weight:s().number,idealWeight:s().number,spayedStatus:s().bool}).isRequired,weightLabel:s().string.isRequired,weightQuestionPrompt:s().string.isRequired,idealWeightLabel:s().string.isRequired,isPuppy:s().bool.isRequired,goBack:s().func.isRequired,spayedChipLabel:s().string.isRequired,spayedStatusQuestionCaption:s().string.isRequired,spayedStatusQuestionPrompt:s().string.isRequired,unspayedChipLabel:s().string.isRequired,onSubmit:s().func.isRequired,index:s().number.isRequired,puppyIdealWeightHelp:s().string.isRequired,puppySpayNeuterNotice:s().string.isRequired,idealWeightHelp:s().string.isRequired,puppyIdealWeightLabel:s().string.isRequired};var rT=i(40818),rZ=i(81500),rB=i(73949),rL=i(47374);let rA=td.ZP.div.withConfig({componentId:"sc-2e90b88-0"})(["display:flex;flex-direction:column;gap:",";width:100%;align-items:center;@media ","{flex-direction:",";}"],e=>e.theme.spacing(4),e=>e.theme.laptop,e=>e.direction),rN=td.ZP.label.withConfig({componentId:"sc-2e90b88-1"})(["align-items:center;background-color:",";border:2px solid ",";border-radius:500px;color:",";cursor:pointer;display:grid;grid-template-columns:30px 1fr;flex:1;padding:",";text-align:center;"," &:hover,&:focus-within{cursor:",";border:"," solid ",";}&::before{",";width:",";height:",";background-color:",";}text-wrap:nowrap;opacity:",";width:100%;max-height:60px;"],e=>e.checked?e.theme.colors.secondary.egg:"rgba(232, 228, 215, 0.35)",e=>e.error?e.theme.colors.status.errorPrimary:e.checked?e.theme.colors.secondary.egg:e.disabled?"transparent":"rgba(166, 153, 145, 0.35)",e=>e.theme.colors.text.primary,e=>e.theme.spacing(4),e=>{let{theme:t}=e;return t.typography.body},e=>e.disabled?"not-allowed":"pointer",e=>e.disabled?"1px":"2px",e=>e.error?e.theme.colors.status.errorPrimary:e.disabled?"transparent":e.theme.colors.hero.spinach,e=>e.checked?(0,rB.p3)("radiobox-marked"):(0,rB.p3)("radiobox-blank"),e=>e.theme.spacing(6),e=>e.theme.spacing(6),e=>e.theme.colors.border.dark,e=>e.disabled?.5:1),rE=td.ZP.fieldset.withConfig({componentId:"sc-2e90b88-2"})(["border-width:0px;width:100%;padding-top:0px;padding-bottom:0px;"]),rK=td.ZP.legend.withConfig({componentId:"sc-2e90b88-3"})(["position:absolute;height:1px;width:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;"]),rF=td.ZP.div.withConfig({componentId:"sc-2e90b88-4"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;background-color:",";border-radius:",";padding:21px 24px 26px 24px;box-shadow:",";border:",";cursor:pointer;transition:all 0.2s ease;width:343px;height:323px;&:hover{border-color:",";}.radio-description{color:",";font-size:",";}@media ","{margin:",";}"],e=>e.theme.colors.background.lightest,e=>e.theme.spacing(8),e=>e.checked?"0 2px 4px rgba(0, 0, 0, 0.2)":"none",e=>e.checked?"2px solid ".concat(e.theme.colors.secondary.egg):"none",e=>e.theme.colors.border.hover,e=>e.theme.colors.text.secondary,e=>e.theme.spacing(3),e=>e.theme.laptop,e=>e.theme.spacing(2)),rO=td.ZP.h4.withConfig({componentId:"sc-2e90b88-5"})([""," font-weight:bold;margin-bottom:",";"],e=>e.theme.typography.heading4,e=>e.theme.spacing(2)),rD=td.ZP.h4.withConfig({componentId:"sc-2e90b88-6"})([""," text-align:center;margin-bottom:",";min-height:40px;"],e=>e.theme.typography.body,e=>e.theme.spacing(1)),rM=(0,td.ZP)(rL.t).withConfig({componentId:"sc-2e90b88-7"})(["margin-bottom:17px;align-self:center;border-radius:50%;"]),rW=e=>{let{choices:t,value:i,name:r,legendText:o,onChange:a,disabled:s,direction:l="row",error:d,onClick:c}=e;return(0,n.jsxs)(rE,{children:[(0,n.jsx)(rK,{children:o}),(0,n.jsx)(rA,{direction:l,children:t.map(e=>{let t=i===e.value;return(0,n.jsxs)(rF,{checked:t,children:[e.image&&(0,n.jsx)(rM,{src:e.image,alt:e.name,width:95,height:95}),(0,n.jsx)(rO,{children:e.name}),e.description&&(0,n.jsx)(rD,{children:e.description}),(0,n.jsxs)(rN,{checked:t,disabled:s&&!t,error:d,htmlFor:"".concat(r,"-").concat(e.value),children:[(0,n.jsx)(rZ.T,{children:(0,n.jsx)("input",{type:"radio",value:e.value,checked:t,id:"".concat(r,"-").concat(e.value),onChange:e=>a(e.target.value),error:d,onClick:c,disabled:s&&!t})}),t?"Selected":"Select"]},e.value)]},e.value)})}),d&&(0,n.jsx)(rT.y,{children:d})]})};rW.propTypes={name:s().string.isRequired,choices:s().arrayOf(s().shape({name:s().string.isRequired,value:s().string.isRequired,image:s().object.isRequired,description:s().string.isRequired})).isRequired,value:s().string,onChange:s().func.isRequired,direction:s().oneOf(["row","column"]),error:s().string,disabled:s().bool,onClick:s().func,legendText:s().string};let rV=et.Ry().shape({activity:et.Z_().required(i9.Wj)}),rQ=e=>{let{activityQuestionPrompt:t,goBack:i,onSubmit:r,levels:o,index:a,defaultValues:s,subheadline:l}=e,{handleSubmit:d,control:u,formState:{isValid:p,isSubmitting:m,isSubmitted:h},reset:g,getValues:f}=(0,iW.cI)({mode:"onChange",defaultValues:s,resolver:(0,iV.X)(rV)}),y=(0,c.Av)(),{customer:b}=(0,tL.Vq)(),x=async e=>{y.tag(G(a,"dog_activity",b));let t=await r(e);tZ.fE.ifError(t,()=>setTimeout(()=>g(f(),{keepIsSubmitted:!1})))};return(0,n.jsxs)(i8,{onSubmit:d(x),children:[(0,n.jsx)(iU,{children:(0,n.jsx)(i6,{prompt:t,subheadline:l,children:(0,n.jsx)(iW.Qr,{control:u,name:"activity",render:e=>{let{field:{ref:t,...i}}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(rW,{...i,choices:o,direction:"row",name:"activity",legendText:"activity"})})}})})}),(0,n.jsx)(i1,{isBackButtonDisabled:m||h,isForwardButtonDisabled:!p||m||h,onBackButtonClick:i,isForwardButtonLoading:m||h})]})};rQ.displayName="ActivityForm",rQ.propTypes={activityQuestionPrompt:s().string.isRequired,defaultValues:s().shape({activity:s().string}).isRequired,goBack:s().func.isRequired,index:s().number.isRequired,levels:s().arrayOf(s().shape({name:s().string.isRequired,value:s().string.isRequired,descripition:s().string.isRequired,image:s().object.isRequired})).isRequired,onSubmit:s().func.isRequired,subheadline:s().string};var rz=i(30898),rU=i.n(rz),rX=i(70454),rH=i(2545),rY=i(60701),rG=i(73550);let r$=et.Ry().shape({allergies:et.IX()}),rJ=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;return Array(e).fill({name:"Loading"}).map((e,t)=>({...e,id:"Loading-".concat(t)}))},r0=(e,t)=>r1(e,t)?t.filter(t=>t.value!==e.value):[...t,e],r1=(e,t)=>t.find(t=>t.value===e.value),r4=["Wheat","Corn","Soy"],r2=e=>e.map(e=>({label:e.name,value:e.id})),r3=e=>{let{allergiesQuestionPrompt:t,defaultValues:i,goBack:r,onSubmit:a,index:s,allergySearchLabel:l,unusedIngredients:d=r4,placeholderAllergiesCount:u,petPronoun:p}=e,m=(0,c.Av)(),h=(0,rY.qx)(),{customer:g}=(0,tL.Vq)(),f=(0,rY.PI)(),{handleSubmit:y,control:b,watch:x,formState:{isSubmitting:v,isSubmitted:w},reset:C,getValues:j}=(0,iW.cI)({defaultValues:i,mode:"onChange",resolver:(0,iV.X)(r$)}),R=rJ(u),_=r2(null!=f?f:R),P=null==_?void 0:_.map(e=>{let{value:t}=e;return t}),k=x("allergies"),q=k.filter(e=>P.includes(e.value)),S=e=>[...e,...q],I=rU()(d,k.map(e=>e.label)),T=(()=>{if((I=I.map(e=>e.toLowerCase())).length>1){let e=I.pop();return"Good news! Ollie recipes are always free from ".concat(I.join(", ")," and ").concat(e,".")}return 1===I.length?"Good news! Ollie recipes are always free from ".concat(I[0],"."):null})(),Z=T||0!==k.length?null:"If ".concat(p," has no food allergies, click Continue"),B=async e=>{m.tag(G(s,"dog_allergies",g));let t=await a(e);tZ.fE.ifError(t,()=>setTimeout(()=>C(j(),{keepIsSubmitted:!1})))};return(0,n.jsxs)(i8,{onSubmit:y(B),children:[(0,n.jsxs)(iU,{$maxWidth:391,children:[(0,n.jsx)(i6,{prompt:t,children:(0,n.jsx)(iW.Qr,{control:b,name:"allergies",render:e=>{let{field:{onChange:t}}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(rG.t,{children:_.map(e=>(0,o.createElement)(rH.K,{...e,key:e.value,checked:!!r1(e,k),onChange:()=>t(r0(e,k)),showIcon:r1(e,k)?"check":null,label:e.label}))}),(0,n.jsx)(rG.c,{children:(0,n.jsx)(rC.N,{name:"other allergies",selectedValues:k,featuredValues:_,values:h,onChange:e=>t(S(e)),searchLabel:l})})]})}})}),Z&&(0,n.jsx)(rX.j,{$bgColor:"background.base",children:Z}),T&&(0,n.jsx)(rX.j,{$bgColor:"background.base",children:T})]}),(0,n.jsx)(i1,{isBackButtonDisabled:v||w,isForwardButtonDisabled:v||w,onBackButtonClick:r,isForwardButtonLoading:v||w})]})};r3.displayName="AllergiesForm",r3.propTypes={allergiesQuestionPrompt:s().string.isRequired,defaultValues:s().shape({selectedAllergies:s().arrayOf(s().shape({label:s().string.isRequired,value:s().string.isRequired}))}).isRequired,goBack:s().func.isRequired,onSubmit:s().func.isRequired,index:s().number.isRequired,allergySearchLabel:s().string.isRequired,unusedIngredients:s().arrayOf(s().string),placeholderAllergiesCount:s().number.isRequired,petPronoun:s().string.isRequired};var r5=i(91038);let r6=td.ZP.div.withConfig({componentId:"sc-f4e34c23-0"})(["margin-top:",";width:100%;"],e=>{let{theme:t}=e;return t.spacing(2)}),r8=td.ZP.div.withConfig({componentId:"sc-f4e34c23-1"})(["display:grid;grid-gap:",";width:100%;"],e=>e.theme.spacing(4)),r9=td.ZP.div.withConfig({componentId:"sc-f4e34c23-2"})(["",""],e=>{let{theme:t}=e;return t.typography.heading3}),r7=td.ZP.form.withConfig({componentId:"sc-f4e34c23-3"})(["background:",";flex:1;display:grid;grid-gap:",";justify-items:center;padding:",";overflow:auto;margin-bottom:74px;h3{margin-bottom:",";","}fieldset{padding:0;}"],e=>e.theme.colors.background.base,e=>e.theme.spacing(8),e=>e.theme.spacing(0,5),e=>e.theme.spacing(1),e=>e.theme.typography.heading4),ne="Ollie is currently available only to pups between ".concat(3," and ").concat(180," pounds"),nt="Please use a whole number for pup weight",ni=(0,iK.default)(new Date,3),nr=et.Ry().shape({gender:et.Z_().required(i9.Wj),name:et.Z_().required("pup name is required"),year:et.Z_().required("Your pup's year of birth is required").notOneOf(["0"],"Your pup's year of birth is required"),month:et.Z_().required("Your pup's month of birth is required").notOneOf(["0"],"Your pup's month of birth is required").test("is-not-too-young","Sorry, we cannot accept pups less than 3mo old.",(e,t)=>{let{parent:i}=t;if(i.month){let t=(0,iE.default)("".concat(i.year,"-").concat(e,"-").concat(i.day||"01"),"yyyy-MM-dd",new Date);return(0,iN.default)(ni,t)}return!0}),day:et.Z_(),breeds:et.IX().max(2,"Maximum of two breeds allowed"),weight:et.Rx().required(i9.Wj).integer(nt).typeError(i9.Wj).max(180,ne).min(3,ne),idealWeight:et.Rx().integer(nt).nullable().typeError(i9.Wj).max(180,ne).min(3,ne).transform(e=>isNaN(e)?null:e),spayedStatus:et.Xg().required(i9.Wj).typeError(i9.Wj)}),nn=e=>{let{defaultValuesGender:t,defaultValuesBirthday:i,genderList:r,goBack:a,labelName:s,index:l,onSubmit:d,pupInfoQuestionCaption:u,pupInfoQuestionPrompt:p,labelYear:m,labelMonth:h,labelDay:g,pupBirthdayQuestionCaption:f,pupBirthdayQuestionPrompt:y,breedQuestionPrompt:b,defaultValuesBreeds:x,labelBreed:v,weightLabel:w,weightQuestionPrompt:C,idealWeightLabel:j,puppyIdealWeightLabel:R,isPuppy:_,spayedChipLabel:P,spayedStatusQuestionCaption:k,spayedStatusQuestionPrompt:q,unspayedChipLabel:S,idealWeightHelp:I,defaultValuesCalories:T}=e,{control:Z,handleSubmit:B,formState:{errors:L,isSubmitting:A,isSubmitted:N,isSubmitSuccessful:E},reset:K,getValues:F,trigger:O}=(0,iW.cI)({defaultValues:{...t,...i,...x,...T},resolver:(0,iV.X)(nr),mode:"onTouched"}),D=(0,o.useRef)([]);D.current=[,,,,,].fill(null).map((e,t)=>D.current[t]||o.createRef());let M=(0,rj.ze)(),[W,V]=(0,o.useState)([]),[Q,z]=(0,o.useState)([]),[U,X]=(0,o.useState)([]),H=(0,o.useCallback)(()=>{V((0,ry.V4)())},[]),Y=(0,o.useCallback)(()=>{z((0,ry.wH)(F("year")))},[F]),G=(0,o.useCallback)(()=>{X((0,ry.fe)(F("year"),F("month"),g))},[F,g]);(0,o.useEffect)(()=>{Object.keys(L).length>0&&document.querySelectorAll('[role="alert"]')[0].scrollIntoView({behavior:"smooth",block:"center"})},[L]),(0,o.useEffect)(()=>{H(),Y(),G()},[G,Y,H]);let $=(0,c.Av)(),et=_?R:j,ei=(0,n.jsx)(rP.n,{name:"Display weight information",variant:"info",placement:"top",children:I}),er=e=>{e<D.current.length-1&&D.current[e+1].current.scrollIntoView({behavior:"smooth",block:"start"})},en=e=>{$.tag(J(e))},eo=async e=>{$.tag(ee(1));let t=await d(e);tZ.fE.ifError(t,()=>setTimeout(()=>K(F(),{keepIsSubmitted:!1})))};return(0,n.jsxs)(r7,{onSubmit:B(eo),children:[(0,n.jsx)(r9,{children:"About your pup"}),(0,n.jsxs)(iU,{children:[(0,n.jsxs)(i6,{caption:u,prompt:p,bgColor:"neutral.white",ref:D.current[0],children:[(0,n.jsx)(iW.Qr,{control:Z,name:"gender",render:e=>{let{field:{ref:t,...i},fieldState:{error:o}}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(rp.Y,{...i,choices:r,legendText:s,name:"gender",error:(null==o?void 0:o.message)||"",status:(null==o?void 0:o.message)?"error":null})})}}),(0,n.jsx)(r6,{children:(0,n.jsx)(iW.Qr,{control:Z,name:"name",render:e=>{var t;let{field:i,fieldState:r}=e;return(0,n.jsx)(ru.I,{...i,visuallyHideLabel:!0,labelText:s,error:null===(t=r.error)||void 0===t?void 0:t.message,onBlur:()=>{i.onBlur(),F().gender&&er(0),en(1)},status:r.error?"error":null,value:i.value||"",maxLength:100})}})})]}),(0,n.jsx)(i6,{prompt:y,caption:f,bgColor:"neutral.white",ref:D.current[1],children:(0,n.jsxs)(r8,{children:[(0,n.jsx)(iW.Qr,{name:"year",control:Z,render:e=>{let{field:{ref:t,...i},fieldState:{error:r}}=e;return(0,n.jsx)(r5.L,{...i,showLabel:!1,noSelectionLabel:m,label:m,onChange:e=>{i.onChange(e),Y()},selected:(null==i?void 0:i.value)?i.value.toString():"",error:null==r?void 0:r.message,options:W})}}),(0,n.jsx)(iW.Qr,{name:"month",control:Z,render:e=>{let{field:{ref:t,...i},fieldState:{error:r}}=e;return(0,n.jsx)(r5.L,{...i,showLabel:!1,noSelectionLabel:h,label:h,onChange:e=>{i.onChange(e),G(),en(2)},disabled:0===Q.length,selected:(null==i?void 0:i.value)?i.value.toString():"",error:null==r?void 0:r.message,options:Q})}}),(0,n.jsx)(iW.Qr,{name:"day",control:Z,render:e=>{let{field:{ref:t,...i},fieldState:{error:r}}=e,o=(null==i?void 0:i.value)?i.value.toString():"";return 1===o.length&&(o="0".concat(o)),(0,n.jsx)(r5.L,{...i,showLabel:!1,noSelectionLabel:g,label:g,onChange:e=>{i.onChange(e),er(1,!0)},disabled:0===U.length,selected:o,error:null==r?void 0:r.message,options:U})}})]})}),(0,n.jsx)(i6,{prompt:b,bgColor:"neutral.white",ref:D.current[2],children:(0,n.jsx)(iW.Qr,{name:"breeds",control:Z,render:e=>{let{field:{ref:t,...i}}=e;return(0,n.jsx)(rC.N,{...i,searchLabel:v,values:M,onChange:e=>{i.onChange(e),er(2),en(3)},selectedValues:i.value,max:{count:2,message:"Maximum of two breeds allowed"}})}})}),(0,n.jsxs)(i6,{prompt:C,bgColor:"neutral.white",ref:D.current[3],children:[(0,n.jsx)(iW.Qr,{control:Z,name:"weight",render:e=>{let{field:{ref:t,...i},fieldState:{error:r}}=e;return(0,n.jsx)(ru.I,{...i,type:"number",labelText:w,value:i.value||"",status:(null==r?void 0:r.message)?"error":null,error:(null==r?void 0:r.message)||"",onBlur:e=>{i.onChange(e)},visuallyHideLabel:!0})}}),(0,n.jsx)(iW.Qr,{control:Z,name:"idealWeight",render:e=>{let{field:{ref:t,...i},fieldState:{error:r}}=e;return(0,n.jsx)(ru.I,{...i,type:"number",labelText:et,icon:ei,value:i.value||"",status:(null==r?void 0:r.message)?"error":null,error:(null==r?void 0:r.message)||"",onBlur:e=>{i.onChange(e),er(3)},visuallyHideLabel:!0})}})]}),(0,n.jsx)(i6,{prompt:q,caption:k,bgColor:"neutral.white",ref:D.current[4],children:(0,n.jsx)(iW.Qr,{control:Z,name:"spayedStatus",render:e=>{let{field:{ref:t,...i},fieldState:{error:r}}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(rp.Y,{...i,legendText:"spayed status",value:"".concat(i.value),choices:[{name:P,value:"true"},{name:S,value:"false"}],error:(null==r?void 0:r.message)||"",status:(null==r?void 0:r.message)?"error":null,onChange:e=>{i.onChange(e),O(i.name),er(4),en(4)}})})}})})]}),(0,n.jsx)(i1,{onBackButtonClick:a,isBackButtonDisabled:A||N&&E,isForwardButtonDisabled:A||N&&E,isForwardButtonLoading:A||N&&E})]})};nn.displayName="AboutForm",nn.propTypes={defaultValuesGender:s().shape({gender:s().string,name:s().string}).isRequired,genderList:s().arrayOf(s().shape({name:s().string.isRequired,value:s().string.isRequired})).isRequired,goBack:s().func.isRequired,index:s().number.isRequired,labelName:s().string.isRequired,onSubmit:s().func.isRequired,pupInfoQuestionCaption:s().string.isRequired,pupInfoQuestionPrompt:s().string.isRequired,labelYear:s().string.isRequired,labelMonth:s().string.isRequired,labelDay:s().string.isRequired,defaultValuesBirthday:s().shape({}).isRequired,pupBirthdayQuestionCaption:s().string.isRequired,pupBirthdayQuestionPrompt:s().string.isRequired,defaultValuesBreeds:s().shape({breeds:s().array}).isRequired,breedQuestionPrompt:s().string.isRequired,labelBreed:s().string.isRequired,defaultValuesCalories:s().shape({weight:s().number,idealWeight:s().number,spayedStatus:s().bool}).isRequired,weightLabel:s().string.isRequired,weightQuestionPrompt:s().string.isRequired,idealWeightLabel:s().string.isRequired,isPuppy:s().bool.isRequired,spayedChipLabel:s().string.isRequired,spayedStatusQuestionCaption:s().string.isRequired,spayedStatusQuestionPrompt:s().string.isRequired,unspayedChipLabel:s().string.isRequired,puppyIdealWeightHelp:s().string.isRequired,puppySpayNeuterNotice:s().string.isRequired,idealWeightHelp:s().string.isRequired,puppyIdealWeightLabel:s().string.isRequired};var no=i(22503),na=i(40667);let ns=td.ZP.div.withConfig({componentId:"sc-49b821cb-0"})(["width:100%;"]),nl=td.ZP.p.withConfig({componentId:"sc-49b821cb-1"})(["",";color:",";"],e=>e.theme.typography.body,e=>e.theme.colors.text.secondary),nd=td.ZP.p.withConfig({componentId:"sc-49b821cb-2"})(["",";padding-bottom:",";"],e=>e.theme.typography.body,e=>e.theme.spacing(2)),nc=td.ZP.div.withConfig({componentId:"sc-49b821cb-3"})(["flex:1;display:grid;text-align:center;grid-gap:",";justify-items:center;margin:",";"],e=>e.theme.spacing(6),e=>e.theme.spacing(6,4,8)),nu=td.ZP.h3.withConfig({componentId:"sc-49b821cb-4"})(["",";padding:",";margin:",";"],e=>e.theme.typography.heading3,e=>e.theme.spacing(2),e=>e.theme.spacing(2,0)),np=td.ZP.div.withConfig({componentId:"sc-49b821cb-5"})(["width:75%;margin:auto;"]),nm=td.ZP.h5.withConfig({componentId:"sc-49b821cb-6"})(["",";"],e=>e.theme.typography.subheading1),nh=td.ZP.p.withConfig({componentId:"sc-49b821cb-7"})(["",";"],e=>e.theme.typography.body),ng=td.ZP.div.withConfig({componentId:"sc-49b821cb-8"})(["",""],e=>{let{theme:t}=e;return t.typography.heading3}),nf=td.ZP.form.withConfig({componentId:"sc-49b821cb-9"})(["background:",";flex:1;display:grid;grid-gap:",";justify-items:center;padding:",";overflow:auto;margin-bottom:74px;h3{margin-bottom:",";","}"],e=>e.theme.colors.background.base,e=>e.theme.spacing(8),e=>e.theme.spacing(0,5),e=>e.theme.spacing(1),e=>e.theme.typography.heading4),ny=et.Ry().shape({activity:et.Z_().required(i9.Wj).typeError(i9.Wj),allergies:et.IX(),stoolType:et.Z_().nullable(),firstName:et.Z_().required("name is a required field"),email:et.Z_().required("email is a required field").email(i9.N0)}),nb=e=>{let{activityQuestionPrompt:t,allergiesQuestionPrompt:i,allergySearchLabel:r,poopQuestionPrompt:a,poopSearchLabel:s,poopSubheadline:l,goBack:d,onSubmit:u,levels:p,stoolTypes:m,defaultValues:h,modal:g,ctaText:f,userInfoSubheadline:y,emailLabel:b,nameLabel:x,userInfoQuestionPrompt:v,index:w}=e,[C,j]=(0,o.useState)(!1),R=(0,rY.qx)(),_=(0,c.Av)(),{handleSubmit:P,setError:k,control:q,formState:{errors:S,isSubmitting:I,isSubmitted:T,isSubmitSuccessful:Z},reset:B,clearErrors:L,getValues:A}=(0,iW.cI)({defaultValues:h,mode:"onChange",resolver:(0,iV.X)(ny)}),N=(0,o.useRef)([]);N.current=[,,,,].fill(0).map((e,t)=>N.current[t]||o.createRef());let E=e=>{e<N.current.length-1&&N.current[e+1].current.scrollIntoView({behavior:"smooth",block:"start"}),_.tag(J(e+5))};(0,o.useEffect)(()=>{Object.keys(S).length>0&&document.querySelectorAll('[role="alert"]')[0].scrollIntoView({behavior:"smooth",block:"center"})},[S]);let K=async e=>{_.tag(ee(2));let t=await u(e);tZ.fE.match(t,{error:{invalidEmail:()=>k("email",{type:"server",message:"Email is invalid"},{shouldFocus:!0})}}),tZ.fE.ifError(t,()=>setTimeout(()=>B(A(),{keepIsSubmitted:!1})))};return(0,n.jsxs)(nf,{onSubmit:P(K),children:[(0,n.jsx)(ng,{children:"Your pup’s nutrition"}),(0,n.jsxs)(iU,{children:[(0,n.jsx)(i6,{prompt:t,bgColor:"background.lightest",ref:N.current[0],children:(0,n.jsx)(iW.Qr,{control:q,name:"activity",render:e=>{let{field:{ref:t,...i},fieldState:{error:r}}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(rp.Y,{...i,onChange:e=>{i.onChange(e),E(0)},choices:p,direction:"column",name:"activity",legendText:"activity",error:(null==r?void 0:r.message)||"",status:(null==r?void 0:r.message)?"error":null})})}})}),(0,n.jsx)(i6,{prompt:i,bgColor:"background.lightest",ref:N.current[1],children:(0,n.jsx)(iW.Qr,{control:q,name:"allergies",render:e=>{let{field:{ref:t,...i}}=e;return(0,n.jsx)(rC.N,{...i,searchLabel:r,values:R,selectedValues:i.value,onChange:e=>{i.onChange(e),E(1)}})}})}),(0,n.jsxs)(i6,{prompt:a,bgColor:"background.lightest",ref:N.current[2],children:[(0,n.jsx)(nd,{children:l}),(0,n.jsx)(iW.Qr,{control:q,name:"stoolType",render:e=>{let{field:{ref:t,...i}}=e;return(0,n.jsx)(ns,{children:(0,n.jsx)(r5.L,{...i,noSelectionLabel:s,options:m,selected:i.value,onChange:e=>{i.onChange(e),E(2)}})})}}),(0,n.jsx)(na.ZP,{onClick:()=>j(!0),children:(0,n.jsx)(nl,{children:f})})]}),(0,n.jsxs)(i6,{prompt:v,bgColor:"background.lightest",ref:N.current[3],children:[(0,n.jsx)(nd,{children:y}),(0,n.jsx)(iW.Qr,{control:q,name:"firstName",render:e=>{let{field:t,fieldState:{error:i}}=e;return(0,n.jsx)(ru.I,{...t,error:null==i?void 0:i.message,labelText:x,status:(null==i?void 0:i.message)?"error":null,maxLength:100,visuallyHideLabel:!0,centeredAlign:!0})}}),(0,n.jsx)(iW.Qr,{control:q,name:"email",render:e=>{let{field:t,fieldState:{error:i}}=e;return(0,n.jsx)(ru.I,{...t,onChange:e=>{var i;(null===(i=S.email)||void 0===i?void 0:i.type)==="server"&&L("email"),t.onChange(e.trim())},labelText:b,error:null==i?void 0:i.message,status:(null==i?void 0:i.message)?"error":null,maxLength:100,visuallyHideLabel:!0,centeredAlign:!0,onBlur:e=>{t.onChange(e),E(3)}})}})]})]}),(0,n.jsx)(i1,{onBackButtonClick:d,isBackButtonDisabled:I||T&&Z,isForwardButtonDisabled:I||T&&Z,isForwardButtonLoading:I||T&&Z}),(0,n.jsx)(no.u,{ariaLabel:"About Stool Modal",shown:C,onCloseModal:()=>j(!1),children:(0,n.jsxs)(nc,{children:[(0,n.jsx)(nu,{children:g.heading}),g.options.map((e,t)=>(0,n.jsxs)(np,{children:[(0,n.jsx)(nm,{children:e.title.toUpperCase()}),(0,n.jsx)(nh,{children:e.text})]},t))]})})]})};nb.displayName="NutritionForm",nb.propTypes={activityQuestionPrompt:s().string.isRequired,allergiesQuestionPrompt:s().string.isRequired,allergySearchLabel:s().string.isRequired,poopQuestionPrompt:s().string.isRequired,poopSubheadline:s().string,poopSearchLabel:s().string.isRequired,userInfoQuestionPrompt:s().string.isRequired,userInfoSubheadline:s().string,emailLabel:s().string.isRequired,nameLabel:s().string.isRequired,defaultValues:s().shape({activity:s().string,allergies:s().array,stoolType:s().string,firstName:s().string.isRequired,email:s().string.isRequired}).isRequired,goBack:s().func.isRequired,index:s().number.isRequired,levels:s().arrayOf(s().shape({name:s().string.isRequired,value:s().string.isRequired})).isRequired,modal:s().shape({heading:s().string.isRequired,options:s().arrayOf(s().shape({title:s().string.isRequired,text:s().string.isRequired}))}).isRequired,stoolTypes:s().arrayOf(s().shape({name:s().string.isRequired,value:s().string.isRequired})),onSubmit:s().func.isRequired};var nx=i(42825),nv=i(55182),nw=i(54826);let nC=td.ZP.div.withConfig({componentId:"sc-259a6f2e-0"})(["background-color:",";width:100%;display:flex;flex-direction:column;align-items:center;justify-content:space-between;padding:",";"],e=>e.theme.colors.background.base,e=>e.theme.spacing(3,4)),nj=td.ZP.div.withConfig({componentId:"sc-259a6f2e-1"})(["display:flex;gap:",";max-width:350px;width:100%;"],e=>e.theme.spacing(4)),nR=td.ZP.div.withConfig({componentId:"sc-259a6f2e-2"})(["margin:auto 0 0 0;"]),n_=td.ZP.div.withConfig({componentId:"sc-259a6f2e-3"})(["margin:auto;"]),nP=td.ZP.div.withConfig({componentId:"sc-259a6f2e-4"})(["width:100%;text-align:center;"]),nk=td.ZP.div.withConfig({componentId:"sc-259a6f2e-5"})(["",";display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;justify-content:center;margin-bottom:",";"],e=>e.theme.typography.heading6,e=>e.theme.spacing(2)),nq=td.ZP.p.withConfig({componentId:"sc-259a6f2e-6"})(["color:",";font-weight:normal;text-decoration-line:line-through;"],e=>e.theme.colors.text.secondary),nS=td.ZP.p.withConfig({componentId:"sc-259a6f2e-7"})(["margin-left:",";"],e=>e.theme.spacing(1)),nI=td.ZP.div.withConfig({componentId:"sc-259a6f2e-8"})(["",";"],e=>e.theme.typography.heading6),nT=td.ZP.span.withConfig({componentId:"sc-259a6f2e-9"})([""," color:",";margin-left:",";"],e=>{let{theme:t}=e;return t.typography.body},e=>{let{theme:t}=e;return t.colors.status.successPrimary},e=>{let{theme:t}=e;return t.spacing(1)}),nZ=e=>{let{discountedPrice:t,price:i,period:r,message:o,savePercent:a}=e;return(0,n.jsx)(n.Fragment,{children:"FREE"!==t?(0,n.jsxs)(nk,{children:[(0,n.jsx)(nq,{children:i}),(0,n.jsxs)(nS,{children:[t,t&&r&&"/".concat(r),o,a&&(0,n.jsx)(nT,{children:a})]})]}):(0,n.jsx)(nk,{children:(0,n.jsx)(nS,{children:t})})})};nZ.propTypes={price:s().string,discountedPrice:s().string,period:s().string,message:s().string,savePercent:s().string};let nB=e=>{let{shown:t,ctaText:i,price:r,discountedPrice:o,message:a,period:s,isSubmitDisabled:l=!1,isBackButtonDisabled:d,onBackButtonClick:c,onSkipButtonClick:u,isSubmitting:p=!1,headline:m,subheadline:h,savePercentText:g,relativePosition:f=!1}=e;return(0,n.jsx)(i$.B,{shown:t,relativePosition:f,children:(0,n.jsx)(nC,{children:(0,n.jsxs)(nj,{children:[c&&(0,n.jsx)(nR,{children:(0,n.jsx)(ts.hU,{"aria-label":"go to previous step",icon:{iconName:"arrow-left",size:"24px",alt:"back",id:"prev_step_checkout"},disabled:d,onClick:c,type:"button",variant:"spinach"})}),(0,n.jsxs)(nP,{children:[m&&(0,n.jsx)(nI,{children:m}),h,(0,n.jsx)(nZ,{price:r,discountedPrice:o,period:s,message:a,savePercent:g}),(0,n.jsx)(ts.zx,{disabled:l,fullWidth:!0,variant:"spinach",isLoading:p,children:i})]}),u&&(0,n.jsx)(n_,{children:(0,n.jsx)(nw.Z,{onClick:u,children:"Skip"})})]})})})};nB.displayName="CheckoutBar",nB.propTypes={shown:s().bool.isRequired,ctaText:s().string.isRequired,price:s().string,discountedPrice:s().string,period:s().string,message:s().string,savePercentText:s().string,isSubmitDisabled:s().bool,isBackButtonDisabled:s().bool,isSubmitting:s().bool,onBackButtonClick:s().func,onSkipButtonClick:s().func,headline:s().node,subheadline:s().node,relativePosition:s().bool};let nL=td.ZP.div.withConfig({componentId:"sc-a0eb18cd-0"})(["display:none;@media ","{display:initial;}"],e=>e.theme.tablet);var nA=i(93047);let nN=["Meal Prep","Recipes","Extras","Secure Checkout"],nE=td.ZP.div.withConfig({componentId:"sc-1bd2cce8-0"})(["height:10px;width:100%;background-color:",";"],e=>e.theme.colors.text.secondary),nK=td.ZP.span.withConfig({componentId:"sc-1bd2cce8-1"})(["display:block;background-color:",";border-top-right-radius:5px;border-bottom-right-radius:5px;height:100%;width:","%;transition:width 1s ease-in-out;"],e=>e.theme.colors.secondary.egg,e=>e.progress),nF=e=>{let{currentStep:t,totalSteps:i,labelText:r}=e;return(0,n.jsx)(nE,{role:"progressbar","aria-label":r,children:(0,n.jsx)(nK,{progress:t>i?100:t/i*100})})};nF.displayName="ProgressBar",nF.propTypes={currentStep:s().number.isRequired,totalSteps:s().number.isRequired,labelText:s().string.isRequired};var nO=i(23687);let nD=td.ZP.div.withConfig({componentId:"sc-cf108d9e-0"})(["width:100%;display:inline-grid;grid-template-columns:26% 48% 26%;background:",";padding:",";@media ","{padding:",";}"],e=>{let{theme:t}=e;return t.colors.background.base},e=>{let{theme:t}=e;return t.spacing(2,0)},e=>{let{theme:t}=e;return t.tablet},e=>{let{theme:t}=e;return t.spacing(4,0,2)}),nM=td.ZP.div.withConfig({componentId:"sc-cf108d9e-1"})(["margin:0 auto;max-width:500px;display:inline-grid;grid-template-columns:repeat(auto-fit,minmax(0,1fr));"]),nW=td.ZP.p.withConfig({componentId:"sc-cf108d9e-2"})([""," color:",";text-align:center;display:",";@media ","{display:inline-block;}"],e=>{let{active:t,theme:i}=e;return t?i.typography.bodyBold:i.typography.body},e=>{let{active:t,theme:i}=e;return t?i.colors.text.secondary:i.colors.border.fur},e=>{let{active:t}=e;return t?"inline-block":"none"},e=>{let{theme:t}=e;return t.tablet}),nV=td.ZP.span.withConfig({componentId:"sc-cf108d9e-3"})(["margin-left:calc(-11px - ",");margin-right:",";"],e=>{let{theme:t}=e;return t.spacing(2)},e=>{let{theme:t}=e;return t.spacing(2)}),nQ=td.ZP.div.withConfig({componentId:"sc-cf108d9e-4"})(["display:flex;justify-content:flex-end;margin-right:",";"],e=>{let{theme:t}=e;return t.spacing(1)}),nz=e=>{let{currentStep:t,rightSegment:i,steps:r}=e,o=r.length,a=r.indexOf(t),s=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(nF,{currentStep:a+1,totalSteps:o,labelText:"Checkout step ".concat(a+1," of ").concat(o)}),(0,n.jsxs)(nD,{children:[(0,n.jsx)("div",{}),(0,n.jsx)(nM,{children:r.map((e,i)=>(0,n.jsxs)(nW,{active:e===t,children:[i<a&&(0,n.jsx)(nV,{children:(0,n.jsx)(rB.cx,{size:"11px",alt:"Completed"})}),e]},e))}),(0,n.jsx)(nQ,{children:null!=i?i:null})]})]});return(0,n.jsx)(nO.UP,{topSegment:s})};nz.displayName="CheckoutHeader",nz.propTypes={currentStep:s().string.isRequired,rightSegment:s().object,steps:s().arrayOf(s().string).isRequired};let nU=e=>{let{step:t,checkoutSteps:i=nN}=e,r=(0,n.jsx)(nL,{children:(0,n.jsx)(nA.B,{})});return(0,n.jsx)(nz,{currentStep:i[t],rightSegment:r,steps:i})};nU.propTypes={checkoutSteps:s().array,step:s().number.isRequired};let nX=e=>({type:"User views Recommended Plan page",data:{customer_info:{email:e}}}),nH=e=>({type:"User continues from recommended plan",data:{customer_info:{email:e}}}),nY=e=>({type:"User clicks creates own plan",data:{customer_info:{email:e}}});var nG=i(78863);let n$=["Pup Quiz","Recommended Plan","Secure Checkout"];nG.Z.src,nG.Z.width,nG.Z.height,nG.Z.src,nG.Z.width,nG.Z.height,nG.Z.src,nG.Z.width,nG.Z.height,nG.Z.src,nG.Z.width,nG.Z.height,nG.Z.src,nG.Z.width,nG.Z.height,eg.Z.src;let nJ=td.ZP.div.withConfig({componentId:"sc-a260fa26-0"})(["width:100vw;overflow:hidden;background:",";","{width:100%;}@media ","{overflow:auto;}"],e=>e.theme.colors.background.base,nM,e=>e.theme.tablet),n0=td.ZP.h4.withConfig({componentId:"sc-a260fa26-1"})(["",";"," color:",";text-align:center;margin:",";"],e=>e.theme.typography.heading4,e=>{let{theme:t}=e;return t.fontFamily.condensed},e=>e.theme.colors.text.primary,e=>e.theme.spacing(2)),n1=td.ZP.h3.withConfig({componentId:"sc-a260fa26-2"})(["",";color:",";text-align:center;margin-bottom:",";"],e=>e.theme.typography.heading3,e=>e.theme.colors.text.primary,e=>e.theme.spacing(2)),n4=td.ZP.p.withConfig({componentId:"sc-a260fa26-3"})(["",";text-align:center;color:",";@media ","{text-align:left;margin:0;}"],e=>e.theme.typography.body,e=>e.theme.colors.text.primary,e=>e.theme.tablet),n2=td.ZP.div.withConfig({componentId:"sc-a260fa26-4"})(["margin:",";"],e=>e.theme.spacing(3,0,5)),n3=td.ZP.div.withConfig({componentId:"sc-a260fa26-5"})(["padding:0 5px;@media ","{padding:0 3.5%;}"],e=>e.theme.mobileM),n5=td.ZP.div.withConfig({componentId:"sc-a260fa26-6"})(["background-color:",";display:flex;justify-content:space-between;flex-direction:column;align-items:center;flex-wrap:wrap;width:100%;max-width:708px;min-width:315px;border-radius:32px;margin:0 auto ",";padding:",";@media ","{padding:",";}"],e=>e.theme.colors.background.lightest,e=>e.theme.spacing(5),e=>e.theme.spacing(4,5,10),e=>e.theme.tablet,e=>e.theme.spacing(4,10,3)),n6=td.ZP.form.withConfig({componentId:"sc-a260fa26-7"})([""]),n8=e=>{let{body:t,ctaText:i,onBackButtonClick:r,defaultRecipes:a,defaultExtras:s,extrasInfo:l,foodSectionProps:d,getConfigFromRecipes:u,onSubmit:p,onPersonalizePlanClick:m,period:h,personalizePlanText:g,pupName:f,recommendedDentalSku:y,savePercentText:b,unavailableExtras:x}=e,[v]=(0,o.useState)(a),[w,C]=(0,o.useState)(!1),[j,R]=(0,o.useState)(s),_=(0,c.Av)(),{customer:P,isLoading:k,isAppSession:q}=(0,tL.Vq)(),{price:S,discountedPrice:I,message:T}=u(v),Z=v&&v.fresh.length>0||v.dry.length>0;(0,o.useEffect)(()=>{k||_.tag(nX(P.email))},[_,k,P]);let B=async e=>{e.preventDefault(),Z&&(_.tag(nH(P.email)),C(!0),await p(v,j))};return(0,n.jsxs)(n6,{onSubmit:B,children:[(0,n.jsx)(n3,{children:(0,n.jsxs)(n5,{children:[(0,n.jsx)(n0,{children:f.toUpperCase()+"'S"}),(0,n.jsx)(n1,{children:"Recommended Plan"}),(0,n.jsx)(n4,{children:t+" "+f+"."}),(0,n.jsx)(n2,{children:(0,n.jsx)(nw.Z,{onClick:()=>{_.tag(nY(P.email)),m()},children:g})}),(0,n.jsx)(nv.r,{...d}),(0,n.jsx)(nx.r,{allExtras:l,unavailableExtras:x,selectedExtras:j,recommendedDentalSku:y,removeExtra:e=>{R(j.filter(t=>t.sku!==e))},onAddExtrasClick:e=>{R([...j,e])},onExtrasSelectionChange:e=>{let t=j.findIndex(t=>t.sku===e.sku);j[t].frequency=e.frequency,j[t].quantity=e.quantity}})]})}),(0,n.jsx)(nB,{headline:f+"'s Recommended Plan",ctaText:i,isSubmitDisabled:w,isBackButtonDisabled:w,shown:!0,onBackButtonClick:r,price:S,discountedPrice:I,message:T,period:h,savePercentText:b,isSubmitting:w,relativePosition:q})]})};n8.displayName="RecommendedPlanForm",n8.propTypes={pupName:s().string.isRequired,body:s().string.isRequired,onSubmit:s().func.isRequired,ctaText:s().string.isRequired,defaultRecipes:s().shape({fresh:s().array,dry:s().array}),onBackButtonClick:s().func.isRequired,getConfigFromRecipes:s().func.isRequired,period:s().string.isRequired,savePercentText:s().string,onPersonalizePlanClick:s().func.isRequired,personalizePlanText:s().string.isRequired,extrasInfo:s().array.isRequired,defaultExtras:s().array.isRequired,unavailableExtras:s().array,reccomendedDentalSku:s().string,productHeadline:s().string,calories:s().string.isRequired};let n9=e=>{let{children:t}=e,{stateKey:i}=(0,o.useContext)(iL);return(0,n.jsxs)(nJ,{children:[(0,n.jsx)(nU,{checkoutSteps:n$,step:tJ[i]||0}),t]})};n9.displayName="RecommendedPlanContainer",n9.propTypes={children:s().object.isRequired};var n7="/_next/static/media/confetti.03e452e9.svg";let oe=td.ZP.div.withConfig({componentId:"sc-a347255e-0"})(["background:",";"],e=>e.theme.colors.background.base);td.ZP.div.withConfig({componentId:"sc-a347255e-1"})(["height:100vh;display:flex;flex-direction:column;justify-content:center;background-color:",";background-image:url(",");background-attachment:local;background-size:cover;background-repeat:no-repeat;background-position-x:center;background-position-y:-75px;nav{background:transparent;}"],e=>e.theme.colors.background.base,n7),td.ZP.div.withConfig({componentId:"sc-a347255e-2"})(["flex-grow:1;padding:",";display:flex;flex-direction:column;align-items:center;justify-content:center;"],e=>e.theme.spacing(0,4));let ot=e=>{let{children:t,body:i}=e,{stateKey:r,showModal:a,setShowModal:s}=(0,o.useContext)(iL);return(0,n.jsxs)(oe,{children:[(0,n.jsx)(nU,{step:t$[r]||0}),t,i.map(e=>(0,n.jsx)(p.n$,{content:e},e._uid)),(0,n.jsx)(iD.G,{shown:a,headerText:"Hmm, something’s not right.",errorMessage:"We weren’t able to complete your request, please refresh the page and try again.",onCloseModal:()=>s(!1)})]})};ot.displayName="PlanSelectionContainer",ot.propTypes={body:s().arrayOf(s().shape({_uid:s().string.isRequired})).isRequired,children:s().object.isRequired};var oi=i(28316),or=i(61598),on=i(70792);let oo=td.ZP.div.withConfig({componentId:"sc-86641ea4-0"})(["padding:",";@media ","{padding:",";}"],e=>e.theme.spacing(6,4,10),e=>e.theme.laptop,e=>e.theme.spacing(9,4,12)),oa=td.ZP.div.withConfig({componentId:"sc-86641ea4-1"})(["text-align:center;padding:",";@media ","{padding:",";}"],e=>e.theme.spacing(6,4,10),e=>e.theme.laptop,e=>e.theme.spacing(9,4,12)),os=td.ZP.h1.withConfig({componentId:"sc-86641ea4-2"})(["",";@media ","{",";}"],e=>e.theme.typography.heading3,e=>e.theme.tablet,e=>e.theme.typography.heading1),ol=td.ZP.p.withConfig({componentId:"sc-86641ea4-3"})(["max-width:498px;margin:"," auto 0;",";color:",";padding-top:",";@media ","{",";}"],e=>e.theme.spacing(2),e=>e.theme.typography.body,e=>e.theme.colors.text.primary,e=>e.theme.spacing(2),e=>e.theme.laptop,e=>e.theme.typography.body),od=td.ZP.div.withConfig({componentId:"sc-86641ea4-4"})(["display:relative;margin-bottom:",";@media ","{max-width:960px;}@media ","{margin:auto;max-width:1080px;}fieldset{border:none;margin:0;padding:0;min-width:unset;}legend{"," margin:0 auto ",";}"],e=>e.theme.spacing(16),e=>e.theme.tablet,e=>e.theme.laptop,e=>{let{theme:t}=e;return t.typography.heading5},e=>{let{theme:t}=e;return t.spacing(5)}),oc=e=>{let{checkoutBar:t,boxSummary:i,headline:r,legend:o,subheadline:a,onChange:s,onSubmit:l,productSelector:d}=e;return(0,n.jsxs)("form",{onSubmit:l,children:[(0,n.jsxs)(od,{children:[(0,n.jsxs)(oa,{children:[(0,n.jsx)(os,{children:r}),(0,n.jsx)(ol,{children:a})]}),(0,n.jsxs)("fieldset",{children:[o&&(0,n.jsx)("legend",{children:o}),(0,n.jsx)(on.q,{...d,onChange:s})]}),i&&(0,n.jsx)(oo,{children:(0,n.jsx)(or.z,{...i})})]}),oi.createPortal((0,n.jsx)("form",{children:(0,n.jsx)(nB,{...t})}),document.body)]})};oc.displayName="ProductSelectionForm",oc.propTypes={boxSummary:s().object,checkoutBar:s().object.isRequired,headline:s().string.isRequired,legend:s().string,productSelector:s().object.isRequired,onChange:s().func.isRequired,onSubmit:s().func.isRequired,subheadline:s().node.isRequired};let ou=e=>({type:"Meal Prep Selected",data:{meal_prep:e}}),op=e=>{let{customer_info:t}=e;return{type:"User views meal prep page",data:{customer_info:t}}},om=e=>{let{onSubmit:t,headline:i,subheadline:r,ctaText:a,planTypes:s,collapsedPlanTypes:l,defaultPlanType:d,unavailablePlanTypes:u=[],goBack:p,period:m="",legend:h=""}=e,g=(0,c.Av)(),{value:f}=(0,eY.aq)(eY.D3,!1),{value:y}=(0,eY.aq)(eY.Mo,!1),b=e=>"dry"===e.value,x=e=>"dry"!==e.value;s.filter(b).length&&l.filter(b).length&&(f?s=s.filter(x):l=l.filter(x)),s.filter(e=>"half_fresh"===e.value).length&&!y&&(s=s.filter(e=>"half_fresh"!==e.value));let[v,w]=(0,o.useState)(d),[C,j]=(0,o.useState)(!1),{customer:R,isLoading:_}=(0,tL.Vq)();(0,o.useEffect)(()=>{_||g.tag(op({customer_info:{email:R.email}}))},[g,_,R]);let P=async e=>{e.preventDefault(),j(!0),g.tag(ou(v));let i=await t(v);tZ.fE.ifError(i,()=>j(!1))},k=e=>e.map(e=>({...e,shouldShowMoreDetails:!1,inputType:"radio"})),q={products:k(s),collapsedProducts:k(l),selected:[v],unavailableProducts:u,variant:"radio",period:m};return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(oc,{checkoutBar:{ctaText:a,isSubmitDisabled:C||!v,isBackButtonDisabled:C,period:m,shown:!0,onBackButtonClick:p,isSubmitting:C},headline:i,legend:h,onChange:e=>{w(e[0])},onSubmit:P,productSelector:q,subheadline:r})})};om.displayName="PlanTypeSelectionForm",om.propTypes={onSubmit:s().func.isRequired,headline:s().string.isRequired,subheadline:s().node.isRequired,ctaText:s().string.isRequired,unavailablePlanTypes:s().array,planTypes:s().arrayOf(s().shape({label:s().string.isRequired,value:s().string.isRequired,description:s().node.isRequired,img:s().any,pricingInfo:s().shape({discount:s().string.isRequired,price:s().string.isRequired}),benefit:s().string}).isRequired).isRequired,collapsedPlanTypes:s().arrayOf(s().shape({label:s().string.isRequired,value:s().string.isRequired,description:s().node.isRequired,img:s().any,pricingInfo:s().shape({discount:s().string.isRequired,price:s().string.isRequired}),benefit:s().string}).isRequired).isRequired,defaultPlanType:s().string,goBack:s().func.isRequired,period:s().string,legend:s().string};var oh=i(98783),og=i.n(oh),of=i(22642);let oy=e=>({type:"Recipe Selected",data:{recipe:e}}),ob=e=>({type:"Recipe Unselected",data:{recipe:e}}),ox=(e,t,i)=>({type:"Recipes Shown",data:{selected_recipes:e,unselected_recipes:t,excluded_recipes:i}}),ov=e=>({type:"User continues from fresh recipes",data:{cta_position:e}}),ow=e=>({type:"User views fresh recipes page",data:{available_recipes:e}}),oC=e=>({type:"User expands fresh recipe details",data:{recipe:e}}),oj=e=>{let{onSubmit:t,headline:i,subheadline:r,modals:a,ctaText:s,checkoutBarHeadline:l,items:d,defaultRecipes:u,onBackButtonClick:p,unavailableRecipes:m,getConfigFromRecipes:h,period:g}=e,f=(0,o.useRef)(!1),y=(0,o.useRef)(!1),[b,x]=(0,o.useState)(u),{price:v,discountedPrice:w,message:C}=h(b),{modal:j,onRecipeDetailsClick:R}=(0,of.e)(a),_=(0,c.Av)(),[P,k]=(0,o.useState)(!1),q=d.filter(e=>{let{value:t}=e;return!m.includes(t)});(0,o.useEffect)(()=>{if(f.current||(_.tag(ow(q.length)),f.current=!0),!y.current){let e=d.map(e=>e.value),t=og()(u,e);_.tag(ox(u,t,m)),y.current=!0}},[q.length,u,d,_,m]);let S=b&&b.length>0,I=!(null==b?void 0:b.length),T=async e=>{if(e.preventDefault(),!S)return;k(!0),_.tag(ov("footer"));let i=await t(b);tZ.fE.ifError(i,()=>k(!1))},Z=I?[]:b,B="Choose up to ".concat(d.length>=4?"4":d.length," recipe").concat(d.length>1?"s":"");return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(oc,{checkoutBar:{headline:l,ctaText:s,isSubmitDisabled:!S||P,isBackButtonDisabled:P,shown:!0,onBackButtonClick:p,price:v,discountedPrice:w,message:C,period:g,isSubmitting:P},headline:i,legend:B,onChange:e=>{let t=null!=b?b:[],i=e.length>t.length,r=og()(e,t)[0],n=i?oy:ob;_.tag(n(r)),x(e)},onSubmit:T,productSelector:{onDetailsClick:e=>{_.tag(oC(e.value)),R(e.value)},products:d,selected:Z,unavailableProducts:m,period:g,buttonIcon:"plus"},subheadline:r}),(0,n.jsx)(of.K,{...j})]})};oj.displayName="FreshRecipesSelectionForm",oj.propTypes={modals:s().array.isRequired,onSubmit:s().func.isRequired,headline:s().string.isRequired,subheadline:s().node.isRequired,checkoutBarHeadline:s().node,ctaText:s().string.isRequired,defaultRecipes:s().array,unavailableRecipes:s().array,items:s().arrayOf(s().shape({label:s().string.isRequired,value:s().string.isRequired,description:s().node.isRequired,img:s().any})),onBackButtonClick:s().func.isRequired,getConfigFromRecipes:s().func.isRequired,period:s().string.isRequired};let oR=e=>({type:"Recipe Selected",data:{recipe:e}}),o_=e=>({type:"Recipe Unselected",data:{recipe:e}}),oP=(e,t,i)=>({type:"Recipes Shown",data:{selected_recipes:e,unselected_recipes:t,excluded_recipes:i}}),ok=e=>({type:"User continues from baked recipes",data:{cta_position:e}}),oq=e=>({type:"User views baked recipes page",data:{available_recipes:e}}),oS=e=>({type:"User expands baked recipe details",data:{recipe:e}}),oI=e=>{let{onSubmit:t,headline:i,subheadline:r,checkoutBarHeadline:a,modals:s,ctaText:l,items:d,defaultRecipes:u,onBackButtonClick:p,unavailableRecipes:m,getConfigFromRecipes:h,period:g}=e,f=(0,o.useRef)(!1),y=(0,o.useRef)(!1),[b,x]=(0,o.useState)(u),[v,w]=(0,o.useState)(!1),{modal:C,onRecipeDetailsClick:j}=(0,of.e)(s),R=(0,c.Av)(),{price:_,discountedPrice:P,message:k}=h(b),q=d.filter(e=>{let{value:t}=e;return!m.includes(t)});(0,o.useEffect)(()=>{if(f.current||(R.tag(oq(q.length)),f.current=!0),!y.current){let e=d.map(e=>e.value),t=og()(u,e);R.tag(oP(u,t,m)),y.current=!0}},[q.length,u,d,R,m]);let S=b&&b.length>0,I=!(null==b?void 0:b.length),T=async e=>{if(e.preventDefault(),!S)return;w(!0),R.tag(ok("footer"));let i=await t(b);tZ.fE.ifError(i,()=>w(!1))},Z=I?[]:b,B="Choose up to ".concat(d.length," recipe").concat(d.length>1?"s":"");return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(oc,{checkoutBar:{headline:a,ctaText:l,isSubmitDisabled:!S||v,isBackButtonDisabled:v,shown:!0,onBackButtonClick:p,price:_,discountedPrice:P,message:k,period:g,buttonIcon:"plus",isSubmitting:v},headline:i,legend:B,onChange:e=>{let t=null!=b?b:[],i=e.length>t.length,r=og()(e,t)[0],n=i?oR:o_;R.tag(n(r)),x(e)},onSubmit:T,productSelector:{onDetailsClick:e=>{R.tag(oS(e.value)),j(e.value)},products:d,selected:Z,unavailableProducts:m,period:g},subheadline:r}),(0,n.jsx)(of.K,{...C})]})};oI.displayName="DryRecipesSelectionForm",oI.propTypes={modals:s().array.isRequired,onSubmit:s().func.isRequired,headline:s().string.isRequired,subheadline:s().node.isRequired,checkoutBarHeadline:s().node,ctaText:s().string.isRequired,defaultRecipes:s().array,unavailableRecipes:s().array,items:s().arrayOf(s().shape({label:s().string.isRequired,value:s().string.isRequired,description:s().node.isRequired,img:s().any})),onBackButtonClick:s().func.isRequired,getConfigFromRecipes:s().func.isRequired,period:s().string.isRequired};var oT=i(307);let oZ=(e,t,i)=>({type:"User updates add-ons",data:{availableAddons:e.map(e=>{let{value:t}=e;return t}),previousAddons:t,newAddons:i}}),oB=e=>{let{value:t}=e;return{type:"User expands add-on details",data:{addon:t}}},oL=e=>{let{availableAddons:t,unavailableAddons:i}=e;return{type:"View add-ons form",data:{availableAddons:t,unavailableAddons:i}}};var oA=i(50092),oN=i(23248);let oE=[{sku:el.Ry.zoomies,description:"Some Description",title:"Zoomies",productType:"TR",subtitle:"Soft Chew Treats",size:"1 bag (5oz.)",pricingInfo:{price:"{{addonPrice}}",discountedPrice:"{{addonDiscount}}"},image:{src:oN.Z.src,alt:"Beef Recipe Image",width:oN.Z.width,height:oN.Z.height},dropdowns:el.Zr.dropdowns},{sku:el.Ry.turkeyjerky,title:"Chill Pills",productType:"TR",description:"Some Description",subtitle:"Soft Chew Treats",size:"1 bag (5oz.)",pricingInfo:{price:"{{addonPrice}}",discountedPrice:"{{addonDiscount}}"},image:{src:oN.Z.src,alt:"Beef Recipe Image",width:oN.Z.width,height:oN.Z.height},dropdowns:el.Zr.dropdowns},{sku:el.Ry.beefjerky,title:"Beef Jerky",productType:"TR",description:"Some Description",subtitle:"Soft Chew Treats",size:"1 bag (5oz.)",pricingInfo:{price:"{{addonPrice}}",discountedPrice:"{{addonDiscount}}"},image:{src:oN.Z.src,alt:"Beef Recipe Image",width:oN.Z.width,height:oN.Z.height},dropdowns:el.Zr.dropdowns},{sku:el.Ry.bellyrubs,title:"Belly Rubs",productType:"SP",subtitle:"Soft Chew Treats",description:"Some Description",size:"1 bag (5oz.)",pricingInfo:{price:"{{addonPrice}}",discountedPrice:"{{addonDiscount}}"},image:{src:oN.Z.src,alt:"Beef Recipe Image",width:oN.Z.width,height:oN.Z.height},dropdowns:el.lW.dropdowns},{sku:"Supplement 2",title:"Just Chicken Strips",productType:"SP",subtitle:"Soft Chew Treats",description:"Some Description",size:"1 bag (5oz.)",pricingInfo:{price:"{{addonPrice}}",discountedPrice:"{{addonDiscount}}"},image:{src:oN.Z.src,alt:"Beef Recipe Image",width:oN.Z.width,height:oN.Z.height},dropdowns:el.lW.dropdowns}];el.Ry.zoomies,oN.Z.src,oN.Z.width,oN.Z.height,el.Zr.dropdowns,oE.slice(0,3),oE.slice(3,5),oA.s0.map(e=>({...e,pupInfo:{pupName:"Panda",pupPronoun:"him",addonServingFrequency:"2 weeks"}})),()=>{};let oK=td.ZP.p.withConfig({componentId:"sc-28bbe898-0"})(["text-align:center;max-width:688px;margin:"," auto 0;",";color:",";padding-top:",";padding-bottom:",";@media ","{padding-top:",";padding-bottom:",";",";}"],e=>e.theme.spacing(2),e=>e.theme.typography.body,e=>e.theme.colors.text.primary,e=>e.theme.spacing(6),e=>e.theme.spacing(10),e=>e.theme.tablet,e=>e.theme.spacing(2),e=>e.theme.spacing(14),e=>e.theme.typography.body);td.ZP.p.withConfig({componentId:"sc-28bbe898-1"})(["text-align:center;",";color:",";"],e=>e.theme.typography.body,e=>e.theme.colors.text.primary),td.ZP.div.withConfig({componentId:"sc-28bbe898-2"})(["margin:auto;max-width:512px;display:grid;text-align:center;width:100%;gap:",";padding:",";@media ","{gap:",";padding:",";}"],e=>e.theme.spacing(4),e=>e.theme.spacing(16,4,40),e=>e.theme.mobileS,e=>e.theme.spacing(6),e=>e.theme.spacing(2,4,24));let oF=td.ZP.form.withConfig({componentId:"sc-28bbe898-3"})(["margin-bottom:",";"],e=>e.theme.spacing(30)),oO=e=>{var t;let{headline:i,subheadline:r,onSubmit:a,onSkipButtonClick:s,addonSections:l,defaultAddons:d,unavailableAddons:u,modals:p,submitButtonText:m,onBackButtonClick:h}=e,g=(0,o.useRef)(!1),f=(0,c.Av)(),[y,b]=(0,o.useState)(d.reduce((e,t)=>({...e,[t.sku]:{sku:t.sku,quantity:t.quantity,frequency:t.frequency,recurrence:t.recurrence,productName:t.productName,productType:t.productType,price:t.price,discountedPrice:t.discountedPrice,checked:!u.includes(t.sku)}}),{})),[x,v]=(0,o.useState)(!1),{modal:w,onAddonDetailsClick:C}=(0,tB.r5)(p),j=l.flatMap(e=>e.addons).filter(e=>{let{sku:t}=e;return!u.includes(t)}),R=e=>{let{sku:t}=e,i=y[t];b({...y,[t]:{...i,...e}})},_=Object.keys(y).filter(e=>y[e].checked).map(e=>y[e]),P=async e=>{e.preventDefault(),f.tag(oZ(j,_)),v(!0),await a(_),v(!1)};(0,o.useEffect)(()=>{g.current||(f.tag(oL({availableAddons:null==j?void 0:j.map(e=>{let{sku:t}=e;return t}),unavailableAddons:u})),g.current=!0)},[f,j,u]);let k=_.length,q={ctaText:m,shown:!0,onBackButtonClick:h,onSkipButtonClick:s,isSubmitDisabled:x||0===d.length&&0===_.length,isBackButtonDisabled:x,subtext:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("strong",{children:k})," extra",k>1&&"s"," ","in your subscription"]}),isSubmitting:x};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(oF,{onSubmit:P,children:[(0,n.jsx)(i4.X,{headingLevel:"h1",typography:{desktop:"heading2",mobile:"heading3"},headingText:i,position:"center"}),r&&(0,n.jsx)(oK,{children:r}),(0,n.jsx)(oT._,{addonSections:l,addonSelectionState:y,unavailableAddons:u,checkedAddons:_,notSelectableText:"To choose this item, please remove one of your previous selections.",onChange:R,onDetailsClick:e=>{let{value:t}=e;f.tag(oB({value:t})),C(t)}}),(0,n.jsx)(nB,{...q})]}),(0,n.jsx)(e5.r,{...w,onSubmitAddonAddition:R,checkedAddons:_,addonSelectionState:y,defaultValues:null!==(t=y[null==w?void 0:w.sku])&&void 0!==t?t:{quantity:1,frequency:1,recurrence:null}})]})};oO.displayName="AddOnSelectionForm",oO.propTypes={headline:s().string.isRequired,defaultAddons:s().array.isRequired,onSubmit:s().func.isRequired,subheadline:s().node.isRequired,addonSections:s().arrayOf(s().shape({heading:s().string,addons:s().arrayOf(s().object)})),unavailableAddons:s().array,modals:s().array.isRequired,submitButtonText:s().string.isRequired,onBackButtonClick:s().func.isRequired,onSkipButtonClick:s().func};var oD=i(54073),oM=i.n(oD),oW=i(88119),oV=i(94263),oQ=i(90964),oz=i(41669),oU=i(45455),oX=i.n(oU),oH=i(18149),oY=i.n(oH);class oG{add(e){this.next=e,this.enqueue()}enqueue(){this.running||(this.timer&&clearTimeout(this.timer),this.timer=setTimeout(()=>{this.timer=null,this.run()},this.ms))}run(){if(!this.next)return;this.running=!0;let{next:e}=this;this.next=null;let t=()=>{this.running=!1,this.enqueue()};e().then(t,t)}constructor(e=200){this.running=!1,this.next=null,this.timer=null,this.ms=e}}var o$=i(50765);let oJ=td.ZP.hr.withConfig({componentId:"sc-44235089-0"})(["border-width:0.5px;color:",";margin:"," 0;opacity:",";width:100%;@media ","{width:",";}"],e=>e.theme.colors.border.fur,e=>e.theme.spacing(e.spacing||3),e=>e.light?.25:.5,e=>e.theme.tabletL,e=>e.width);var o0=i(93798);let o1=(0,td.F4)(["30%{transform:translateY(0px);}50%{transform:translateY(-15px);}"]),o4=td.ZP.div.withConfig({componentId:"sc-402943e6-0"})(["width:100%;height:100%;background-color:",";display:",";flex-direction:column;align-items:center;justify-content:center;z-index:10;"],e=>e.theme.colors.background.lightest,e=>e.show?"flex":"none"),o2=td.ZP.div.withConfig({componentId:"sc-402943e6-1"})(["display:flex;flex-direction:row;width:",";justify-content:space-between;padding-top:16px;"],e=>e.width||"30%"),o3=td.ZP.span.withConfig({componentId:"sc-402943e6-2"})(["background-color:",";height:12px;width:12px;border-radius:50%;animation-name:",";animation-duration:1.4s;animation-iteration-count:infinite;animation-timing-function:linear;&:nth-child(2){animation-delay:0.4s;}&:nth-child(3){animation-delay:0.8s;}"],e=>e.theme.colors.text.primary,o1),o5=td.ZP.p.withConfig({componentId:"sc-402943e6-3"})(["font-weight:bold;font-size:1.25rem;line-height:1.25;padding-top:20px;"]),o6=e=>{let{bgColor:t=null,message:i,show:r=!1,width:o=null,className:a}=e;return(0,n.jsxs)(o4,{$bgColor:t,show:r,className:a,children:[(0,n.jsxs)(o2,{width:o,children:[(0,n.jsx)(o3,{}),(0,n.jsx)(o3,{}),(0,n.jsx)(o3,{})]}),i&&(0,n.jsx)(o5,{children:i})]})};o6.displayName="AnimatedLoader",o6.propTypes={bgColor:s().string,message:s().string,show:s().bool,width:s().string,className:s().string};let o8=td.ZP.dl.withConfig({componentId:"sc-6ff39257-0"})(["display:grid;grid-template-columns:3fr 2fr;"]),o9=td.ZP.dt.withConfig({componentId:"sc-6ff39257-1"})([""," color:",";"],e=>e.theme.typography.body,e=>e.theme.colors.get(e.color,e.theme.colors.text.secondary)),o7=td.ZP.dd.withConfig({componentId:"sc-6ff39257-2"})([""," color:",";text-align:right;"],e=>e.theme.typography.body,e=>e.theme.colors.get(e.color,e.theme.colors.text.secondary)),ae=td.ZP.span.withConfig({componentId:"sc-5943115f-0"})(["color:",";",""],e=>e.theme.colors.get(e.color,e.theme.colors.text.secondary),e=>e.theme.typography.bodyBold),at=td.ZP.div.withConfig({componentId:"sc-5943115f-1"})(["display:grid;grid-template-columns:1fr;width:100%;"]),ai=td.ZP.div.withConfig({componentId:"sc-5943115f-2"})(["display:grid;grid-template-columns:3fr 2fr;gap:",";"],e=>e.theme.spacing(2)),ar=td.ZP.p.withConfig({componentId:"sc-5943115f-3"})(["",";color:",";margin-bottom:",";overflow-wrap:break-word;"],e=>e.theme.typography.subheading2,e=>e.theme.colors.status.successPrimary,e=>e.theme.spacing(2)),an=e=>{let t={bowlCount:0,puptainerCount:0,scooperCount:0};return e.forEach(e=>{switch(e.productType){case"DY":t.bowlCount+=1,t.scooperCount+=1;break;case"FR":case"MX":t.puptainerCount+=1,t.scooperCount+=1}}),t},ao=e=>{let{plans:t,puptainerLabel:i,scooperLabel:r,bowlLabel:o,freeItems:a}=e,s=an(t);return(0,n.jsxs)(n.Fragment,{children:[null==a?void 0:a.map(e=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(o9,{children:["".concat(e.label+" "),t.length>1?"X".concat(t.length):null]}),(0,n.jsx)(o7,{children:(0,n.jsx)(ae,{color:"status.successPrimary",children:"FREE"})})]})),0===s.puptainerCount?null:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(o9,{children:[i," ",s.puptainerCount>1?"X".concat(s.puptainerCount):null]}),(0,n.jsx)(o7,{children:(0,n.jsx)(ae,{color:"status.successPrimary",children:"FREE"})})]}),0===s.scooperCount?null:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(o9,{children:[r," ",s.scooperCount>1?"X".concat(s.scooperCount):null]}),(0,n.jsx)(o7,{children:(0,n.jsx)(ae,{color:"status.successPrimary",children:"FREE"})})]}),0===s.bowlCount?null:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(o9,{children:[o," ",s.bowlCount>1?"X".concat(s.bowlCount):null]}),(0,n.jsx)(o7,{children:(0,n.jsx)(ae,{color:"status.successPrimary",children:"FREE"})})]})]})};ao.displayName="PricingListDisplayFreeItems",ao.propTypes={plans:s().arrayOf(s().shape({breeds:s().arrayOf(s().string).isRequired,petId:s().string.isRequired,price:s().string.isRequired,priceWithDiscount:s().string.isRequired,recipes:s().object.isRequired,numPacks:s().number.isRequired,bagCount:s().number.isRequired,productType:s().string})),puptainerLabel:s().string.isRequired,scooperLabel:s().string.isRequired,bowlLabel:s().string,freeItems:s().arrayOf(s().shape({label:s().string}))};let aa=e=>{let{promoCodeLabel:t,changePromoCodeLabel:i,applyPromoCodeLabel:r,removePromoCodeLabel:a,errorPromoCodeLabel:s,promoCodeAppliedLabel:l,newPromoCodeLabel:d,applyPromoCode:c,removePromoCode:u,isDefaultPromoCode:p=!0}=e,{showToast:m}=(0,tF.pm)(),[h,g]=(0,o.useState)(""),[f,y]=(0,o.useState)(!1),[b,x]=(0,o.useState)(!1),v=async e=>{e.preventDefault(),x(!0);let t=await c({newPromoCode:h});tZ.fE.match(t,{success:()=>{y(!1),x(!1)},error:{server:()=>{m({status:"error",message:s,headline:"Error Message"}),setTimeout(()=>x(!1))},client:()=>{m({status:"error",message:s,headline:"Error Message"}),setTimeout(()=>x(!1))}}})},w=async e=>{e.preventDefault(),x(!0);let t=await u();tZ.fE.match(t,{success:()=>{x(!1)},error:{server:()=>{m({status:"error",message:s,headline:"Error Message"}),setTimeout(()=>x(!1))},client:()=>{m({status:"error",message:s,headline:"Error Message"}),setTimeout(()=>x(!1))}}})};return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(at,{children:(0,n.jsxs)(ai,{children:[!f&&(0,n.jsxs)(n.Fragment,{children:[p&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ar,{children:t}),(0,n.jsx)(na.ZP,{onClick:()=>y(!0),underline:!0,disabled:b,children:i})]}),!p&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ar,{children:l}),(0,n.jsx)(na.ZP,{onClick:w,underline:!0,disabled:b,children:a})]})]}),f&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ru.I,{name:"new-promo-code",value:h,labelText:d,visuallyHideLabel:!0,onChange:e=>{g(e)}}),(0,n.jsx)(ts.zx,{fullWidth:!0,variant:"primary",onClick:v,verticalPadding:3,disabled:b,children:r})]})]})})})};aa.displayName="PromoCodeInfo",aa.propTypes={promoCodeLabel:s().string.isRequired,changePromoCodeLabel:s().string.isRequired,applyPromoCodeLabel:s().string.isRequired,removePromoCodeLabel:s().string.isRequired,errorPromoCodeLabel:s().string,promoCodeAppliedLabel:s().string,newPromoCodeLabel:s().string,applyPromoCode:s().func.isRequired,removePromoCode:s().func.isRequired,isDefaultPromoCode:s().bool.isRequired};let as=e=>{let{puptainerLabel:t,shippingLabel:i,scooperLabel:r,bowlLabel:o="Bowl",foodSubtotalLabel:a,foodSubtotal:s,addonsSubtotal:l,addonsSubtotalLabel:d,discountLabel:c,discountText:u,discountAmount:p,taxLabel:m,tax:h,totalLabel:g,total:f,plans:y,promoCodeInfo:b,showPromoCode:x,applyPromoCode:v,removePromoCode:w,isDefaultPromoCode:C,currentOfferCode:j,freeItems:R}=e,_=parseInt(l)>0;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(o8,{title:"additional items and costs",children:[(0,n.jsx)(ao,{plans:y,freeItems:R,puptainerLabel:t,scooperLabel:r,bowlLabel:o}),(0,n.jsx)(o9,{children:i}),(0,n.jsx)(o7,{children:(0,n.jsx)(ae,{color:"status.successPrimary",children:"FREE"})})]}),(0,n.jsx)(oJ,{}),x&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(aa,{...b,applyPromoCode:v,removePromoCode:w,isDefaultPromoCode:C}),(0,n.jsx)(oJ,{})]}),(0,n.jsxs)(o8,{title:"tax, discounts and subtotals",children:[(0,n.jsx)(o9,{children:a}),(0,n.jsx)(o7,{children:(0,n.jsx)(ae,{children:(0,ig.CT)(s)})}),_&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o9,{children:d}),(0,n.jsx)(o7,{children:(0,n.jsx)(ae,{children:(0,ig.CT)(l)})})]}),!1===x&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(o9,{color:"hero.spinach",children:[c+" ",(0,n.jsx)(ae,{color:"hero.spinach",children:u})]}),(0,n.jsx)(o7,{children:(0,n.jsx)(ae,{color:"hero.spinach",children:p&&"-".concat((0,ig.CT)(p))})})]}),x&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(o9,{color:"status.successPrimary",children:[(0,n.jsx)(ae,{color:"status.successPrimary",children:"".concat(j," ")}),"(",u,")"]}),(0,n.jsx)(o7,{children:(0,n.jsx)(ae,{color:"status.successPrimary",children:p&&"-".concat((0,ig.CT)(p))})})]}),h&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o9,{children:m}),(0,n.jsx)(o7,{children:(0,n.jsx)(ae,{children:(0,ig.CT)(h)})})]})]}),(0,n.jsx)(oJ,{}),(0,n.jsxs)(o8,{title:"total cost",children:[(0,n.jsx)(o9,{children:(0,n.jsx)(ae,{children:g})}),(0,n.jsx)(o7,{children:(0,n.jsx)(ae,{children:f&&(0,ig.CT)(f)})})]})]})};as.displayName="PricingList",as.propTypes={puptainerLabel:s().string.isRequired,shippingLabel:s().string.isRequired,scooperLabel:s().string.isRequired,bowlLabel:s().string,foodSubtotalLabel:s().string.isRequired,addonsSubtotalLabel:s().string.isRequired,foodSubtotal:s().string,addonsSubtotal:s().string,discountLabel:s().string.isRequired,discountText:s().string,discountAmount:s().string,taxLabel:s().string.isRequired,tax:s().string,totalLabel:s().string.isRequired,total:s().oneOfType([s().string,s().number]),plans:s().arrayOf(s().shape({breeds:s().arrayOf(s().string).isRequired,petId:s().string.isRequired,price:s().string.isRequired,priceWithDiscount:s().string.isRequired,recipes:s().object.isRequired,numPacks:s().number.isRequired,bagCount:s().number.isRequired,productType:s().string})),promoCodeInfo:s().shape({promoCodeLabel:s().string.isRequired,changePromoCodeLabel:s().string.isRequired,applyPromoCodeLabel:s().string.isRequired,removePromoCodeLabel:s().string.isRequired,errorPromoCodeLabel:s().string,promoCodeAppliedLabel:s().string,newPromoCodeLabel:s().string}),showPromoCode:s().bool.isRequired,applyPromoCode:s().func.isRequired,removePromoCode:s().func.isRequired,isDefaultPromoCode:s().bool.isRequired,currentOfferCode:s().string.isRequired,freeItems:s().arrayOf(s().shape({label:s().string}))};var al=i(96577),ad=i.n(al);let ac=[{icon:{src:"/_next/static/media/manage-order.4ab48f3a.svg",height:62,width:60,blurWidth:0,blurHeight:0},text:"Edit, Pause or Cancel anytime"},{icon:{src:"/_next/static/media/free-shipping.ffe193ee.svg",height:62,width:60,blurWidth:0,blurHeight:0},text:"Free Shipping"},{icon:{src:"/_next/static/media/money-back.a8c03687.svg",height:62,width:60,blurWidth:0,blurHeight:0},text:"100% Money-back Guarantee"}],au=td.ZP.div.withConfig({componentId:"sc-9447163e-0"})(["display:flex;flex-direction:column;align-items:center;padding:"," 0;flex:0;"],e=>e.theme.spacing(5)),ap=td.ZP.div.withConfig({componentId:"sc-9447163e-1"})(["display:inline-flex;flex-direction:row;align-items:center;margin-bottom:",";flex:1;"],e=>e.theme.spacing(2)),am=td.ZP.p.withConfig({componentId:"sc-9447163e-2"})([""," margin-left:",";"],e=>e.theme.fontFamily.condensed,e=>e.theme.spacing(4)),ah=()=>(0,n.jsx)(au,{children:ac.map(e=>{let{icon:t,text:i}=e;return(0,n.jsxs)(ap,{children:[(0,n.jsx)(ad(),{src:t,alt:"",height:60,width:60}),(0,n.jsx)(am,{children:i})]},i)})});ah.displayName="BenefitsOverview";var ag=i(82108),af=i.n(ag),ay=i(73050);let ab=()=>({type:"Change Plan Clicked"});var ax=i(39097),av=i.n(ax);let aw=td.ZP.div.withConfig({componentId:"sc-807f5adb-0"})(["display:flex;align-items:flex-start;"]),aC=td.ZP.div.withConfig({componentId:"sc-807f5adb-1"})(["display:flex;width:100%;height:100%;flex-direction:column;align-items:flex-start;justify-content:space-between;"]),aj=td.ZP.div.withConfig({componentId:"sc-807f5adb-2"})(["flex:1 0 ",";margin-right:",";"],e=>e.theme.spacing(20),e=>e.theme.spacing(4)),aR=td.ZP.div.withConfig({componentId:"sc-807f5adb-3"})(["display:flex;"]),a_=(0,td.iv)(["display:flex;align-items:center;flex-wrap:nowrap;",";color:",";background:none;border:none;padding:0;margin-top:",";margin-right:",";justify-content:center;"],e=>e.theme.typography.bodyBold,e=>e.theme.colors.hero.blueberry,e=>e.theme.spacing(1),e=>e.theme.spacing(2)),aP=(0,td.ZP)(av()).withConfig({componentId:"sc-807f5adb-4"})(["",""],a_),ak=td.ZP.button.withConfig({componentId:"sc-807f5adb-5"})(["",""],a_),aq=td.ZP.span.withConfig({componentId:"sc-807f5adb-6"})(["margin-left:",";"],e=>e.theme.spacing(1)),aS=e=>{let{avatarBgColor:t,breeds:i,children:r,onDeletePet:a,petId:s}=e,[l,d]=(0,o.useState)(!1),u=(0,c.Av)(),p=async()=>{d(!0),await a(),d(!1)};return(0,n.jsxs)(aw,{children:[(0,n.jsx)(aj,{children:(0,n.jsx)(ay.g,{backgroundColor:t,breeds:i,color:"secondary.carrot",fullBleed:!0,variant:"circle"})}),(0,n.jsxs)(aC,{children:[r,(0,n.jsxs)(aR,{children:[a&&(0,n.jsx)(ak,{onClick:p,disabled:l,type:"button",children:"Remove"}),(0,n.jsxs)(aP,{href:"/onboarding/".concat(g,"/?pet_id=").concat(s),onClick:()=>u.tag(ab()),children:[(0,n.jsx)(rB.JO,{iconName:"pencil",size:"16px",color:"hero.blueberry",alt:"",id:"change_plan"}),(0,n.jsx)(aq,{children:"Edit"})]})]})]})]})};aS.displayName="SummaryCard",aS.propTypes={avatarBgColor:s().string.isRequired,breeds:s().arrayOf(s().string).isRequired,children:s().node,onDeletePet:s().func,petId:s().string.isRequired};let aI=td.ZP.div.withConfig({componentId:"sc-bbe18672-0"})(["width:100%;"]),aT=td.ZP.div.withConfig({componentId:"sc-bbe18672-1"})(["display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start;"]),aZ=td.ZP.h4.withConfig({componentId:"sc-bbe18672-2"})(["",";margin-bottom:",";overflow-wrap:break-word;"],e=>e.theme.typography.heading6,e=>e.theme.spacing(2)),aB=td.ZP.div.withConfig({componentId:"sc-bbe18672-3"})(["display:block;"]);td.ZP.div.withConfig({componentId:"sc-bbe18672-4"})(["flex:1 0 ",";margin-right:",";"],e=>e.theme.spacing(20),e=>e.theme.spacing(4)),td.ZP.div.withConfig({componentId:"sc-bbe18672-5"})(["display:flex;"]);let aL=(0,td.iv)(["display:flex;align-items:center;flex-wrap:nowrap;",";color:",";background:none;border:none;padding:0;justify-content:center;"],e=>e.theme.typography.bodyBold,e=>e.theme.colors.hero.blueberry);td.ZP.a.withConfig({componentId:"sc-bbe18672-6"})(["",""],aL),td.ZP.span.withConfig({componentId:"sc-bbe18672-7"})(["margin-left:",";"],e=>e.theme.spacing(1));let aA=td.ZP.span.withConfig({componentId:"sc-bbe18672-8"})(["text-decoration:line-through;color:",";"],e=>e.theme.colors.status.errorPrimary),aN=td.ZP.span.withConfig({componentId:"sc-bbe18672-9"})(["font-weight:bold;margin-left:0.5rem;"]),aE=td.ZP.span.withConfig({componentId:"sc-bbe18672-10"})(["color:",";"],e=>e.theme.colors.get(e.color,e.theme.colors.text.tertiary)),aK=e=>{let{petId:t,addons:i}=e;return(0,n.jsxs)(aI,{children:[(0,n.jsx)(aT,{children:(0,n.jsx)(aZ,{children:"Subscription Extras"})}),(0,n.jsx)(aB,{children:i&&i.map(e=>{let{sku:t,productName:i,quantity:r,productType:o,price:a,discountedPrice:s}=e;return(0,n.jsxs)(o8,{children:[(0,n.jsxs)(o9,{children:[i," -"," ",(0,n.jsx)(aE,{children:(0,tK.ff)(r,o,t)})]}),(0,n.jsxs)(o7,{children:[(0,n.jsx)(aA,{children:(0,ig.CT)(a)}),(0,n.jsxs)(aN,{children:[(0,ig.CT)(s),"/","ea."]})]})]},i)})})]})};aK.displayName="AddonsSummary",aK.propTypes={petId:s().string,addons:s().array};var aF=i(44220);let aO=td.ZP.div.withConfig({componentId:"sc-a736691f-0"})(["margin:",";"],e=>e.theme.spacing(2,0)),aD=td.ZP.div.withConfig({componentId:"sc-a736691f-1"})(["display:flex;width:100%;align-items:flex-start;justify-content:space-between;"]),aM=td.ZP.h3.withConfig({componentId:"sc-a736691f-2"})(["",";margin-bottom:",";max-width:120px;overflow-wrap:break-word;"],e=>e.theme.typography.heading6,e=>e.theme.spacing(2)),aW=td.ZP.div.withConfig({componentId:"sc-a736691f-3"})(["",";display:flex;flex-direction:column;align-items:flex-end;margin-left:",";"],e=>e.theme.typography.heading6,e=>e.theme.spacing(2)),aV=td.ZP.p.withConfig({componentId:"sc-a736691f-4"})(["color:",";font-weight:normal;text-decoration-line:line-through;"],e=>e.theme.colors.text.secondary),aQ=td.ZP.p.withConfig({componentId:"sc-a736691f-5"})(["margin-top:",";"],e=>e.theme.spacing(1)),az=td.ZP.span.withConfig({componentId:"sc-a736691f-6"})([""," color:",";"],e=>e.theme.typography.bodyBold,e=>e.theme.colors.get(e.color,e.theme.colors.text.secondary)),aU=td.ZP.span.withConfig({componentId:"sc-a736691f-7"})([""," color:",";"],e=>e.theme.typography.bodyBold,e=>e.theme.colors.border.fur),aX=e=>{let{recipes:t,numPacksCopy:i}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o9,{children:"Fresh Recipes"}),(0,n.jsx)(o7,{children:(0,n.jsx)(az,{children:t.fresh.map(e=>af()(e)).join(", ")})}),(0,n.jsx)(o9,{children:"No. of packs"}),(0,n.jsx)(o7,{children:(0,n.jsx)(az,{children:i})})]})};aX.displayName="CheckoutSummaryFreshDisplay",aX.propTypes={recipes:s().object.isRequired,numPacksCopy:s().string.isRequired};let aH=e=>{let{recipes:t,bagCount:i}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o9,{children:"Baked Recipes"}),(0,n.jsx)(o7,{children:(0,n.jsx)(az,{children:t.dry.map(e=>af()(e)).join(", ")})}),(0,n.jsx)(o9,{children:"No. of bags:"}),(0,n.jsx)(o7,{children:(0,n.jsxs)(az,{children:[i," ",1===i?"Bag":"Bags"]})})]})};aH.displayName="CheckoutSummaryDryDisplay",aH.propTypes={recipes:s().object.isRequired,bagCount:s().number.isRequired};let aY=e=>{let{productType:t,recipes:i,numPacksCopy:r,bagCount:o}=e;switch(t){case"MX":return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(aX,{recipes:i,numPacksCopy:r}),(0,n.jsx)(aH,{recipes:i,bagCount:o})]});case"FR":return(0,n.jsx)(aX,{recipes:i,numPacksCopy:r});case"DY":return(0,n.jsx)(aH,{recipes:i,bagCount:o});default:throw Error("No ProductType")}};aY.displayName="CheckoutSummaryDisplayRecipes",aY.propTypes={productType:s().string.isRequired,recipes:s().object.isRequired,numPacksCopy:s().string.isRequired,bagCount:s().number.isRequired};let aG=e=>{let t,{avatarBgColor:i,breeds:r,headline:o,nextDeliveryDate:a,numPacksCopy:s,bagCount:l,productType:d,recipes:c,petId:u,pricePerPeriod:p,pricePerPeriodWithDiscount:m,period:h,onDeletePet:g,addons:f,portionSize:y,mealCount:b}=e;return h=af()(h),t=y===aF.Y?"Half":"Full",(0,n.jsxs)(aO,{children:[(0,n.jsx)(aS,{avatarBgColor:i,breeds:r,onDeletePet:g,petId:u,children:(0,n.jsxs)(aD,{children:[(0,n.jsx)(aM,{children:o}),(0,n.jsxs)(aW,{children:[(0,n.jsx)(aV,{children:(0,ig.CT)(p)+"/"+h}),"0.00"!==m?(0,n.jsx)(aQ,{children:(0,ig.CT)(m)+"/"+h}):(0,n.jsx)(aQ,{children:(0,ig.CT)(m)})]})]})}),(0,n.jsx)(oJ,{}),(0,n.jsxs)(o8,{children:[(0,n.jsx)(o9,{children:"Preparation"}),(0,n.jsxs)(o7,{children:["FR"===d&&(0,n.jsxs)(az,{children:[t," Fresh Plan"]}),"DY"===d&&(0,n.jsxs)(az,{children:[t," Baked Plan"]}),"MX"===d&&(0,n.jsx)(az,{children:"Mixed Bowl Plan"})]}),(0,n.jsx)(aY,{productType:d,recipes:c,numPacksCopy:s,bagCount:l}),"Meal"===h&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o9,{children:"No. of meals:"}),(0,n.jsx)(o7,{children:(0,n.jsxs)(az,{children:[b," meals"]})})]})]}),(null==f?void 0:f.length)>0&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(oJ,{}),(0,n.jsx)(aK,{petId:u,addons:f})]}),(0,n.jsx)(oJ,{}),(0,n.jsxs)(o8,{children:[(0,n.jsx)(o9,{children:"Estimated Delivery"}),(0,n.jsx)(o7,{children:a?(0,n.jsx)(az,{children:a}):(0,n.jsx)(aU,{children:"Enter Address"})})]})]})};aG.displayName="StarterBoxCheckoutSummary",aG.propTypes={avatarBgColor:s().string.isRequired,breeds:s().arrayOf(s().string).isRequired,headline:s().string.isRequired,productType:s().string.isRequired,recipes:s().object.isRequired,pricePerPeriod:s().string.isRequired,pricePerPeriodWithDiscount:s().string.isRequired,period:s().string.isRequired,onDeletePet:s().func,nextDeliveryDate:s().string,numPacksCopy:s().string.isRequired,bagCount:s().number.isRequired,mealCount:s().number.isRequired,petId:s().string,addons:s().array,portionSize:s().string};let a$=td.ZP.section.withConfig({componentId:"sc-47baf5e3-0"})(["background-color:",";border-radius:24px;padding:",";max-width:350px;width:100%;"],e=>e.theme.colors.neutral.white,e=>e.theme.spacing(7,4,4,4)),aJ=td.ZP.div.withConfig({componentId:"sc-47baf5e3-1"})(["margin:0 auto;width:300px;"]);td.ZP.div.withConfig({componentId:"sc-47baf5e3-2"})(["display:flex;flex-flow:row nowrap;"]),td.ZP.div.withConfig({componentId:"sc-47baf5e3-3"})(["display:flex;flex-direction:column;"]);let a0=td.ZP.h2.withConfig({componentId:"sc-47baf5e3-4"})([""," color:",";text-align:center;margin-bottom:",";"],e=>e.theme.fontFamily.base,e=>e.theme.colors.text.primary,e=>e.theme.spacing(6));td.ZP.h3.withConfig({componentId:"sc-47baf5e3-5"})(["",";"],e=>e.theme.typography.heading6),td.ZP.p.withConfig({componentId:"sc-47baf5e3-6"})(["",";"],e=>e.theme.typography.body),td.ZP.span.withConfig({componentId:"sc-47baf5e3-7"})(["color:",";"],e=>e.theme.colors.text.secondary);let a1=td.ZP.div.withConfig({componentId:"sc-47baf5e3-8"})(["padding:",";a{width:100%;}"],e=>e.theme.spacing(2,0)),a4=td.ZP.div.withConfig({componentId:"sc-47baf5e3-9"})(["display:grid;margin:",";"],e=>e.theme.spacing(3,0,4)),a2=td.ZP.div.withConfig({componentId:"sc-47baf5e3-10"})(["",";padding:",";color:",";"],e=>e.theme.typography.label,e=>e.theme.spacing(1),e=>e.theme.colors.text.secondary),a3=(0,td.ZP)(av()).withConfig({componentId:"sc-47baf5e3-11"})(["color:inherit;text-decoration:underline;"]),a5=td.ZP.div.withConfig({componentId:"sc-47baf5e3-12"})(["display:flex;justify-content:center;gap:",";"," padding:",";"],e=>e.theme.spacing(3),e=>e.theme.typography.body,e=>e.theme.spacing(4)),a6=td.ZP.div.withConfig({componentId:"sc-47baf5e3-13"})(["",";text-align:center;"],e=>e.theme.typography.label),a8=()=>({type:"T&C Clicked"}),a9=()=>({type:"Privacy policy clicked"}),a7=e=>{let{addPupBtnLabel:t,plans:i,pricingList:r,planSummary:a,onClickRemovePet:s,nextDeliveryDate:l,checkoutButton:d,termsAndConditions:u,buttonRef:p,disabled:m=!1,isValidating:g=!1,isSubmitting:f=!1,recurringOrders:y,period:b,showPromoCode:x,applyPromoCode:v,removePromoCode:w,isDefaultPromoCode:C,currentOfferCode:j,showAddPupButton:_=!0}=e,P=(0,c.Av)(),{value:k}=(0,eY.aq)(eY.t5,!1),q=k?B:R;return g?(0,n.jsx)(a$,{children:(0,n.jsx)(aJ,{children:(0,n.jsx)(o6,{message:"Loading cart",show:!0})})}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(a$,{children:[(0,n.jsx)(a0,{children:"Order Summary"}),(0,n.jsx)(oJ,{}),i.map((e,t)=>(0,n.jsxs)(o.Fragment,{children:[(0,n.jsx)(aG,{avatarBgColor:t%2?"hero.blueberry":"secondary.carrot",breeds:e.breeds,headline:(0,D.s)(a.headline,e),recipes:e.recipes,productType:e.productType,pricePerPeriod:e.pricePerPeriod,pricePerPeriodWithDiscount:e.pricePerPeriodWithDiscount,period:b,petId:e.petId,onDeletePet:i.length>1?()=>s(e.petId):null,nextDeliveryDate:l,numPacksCopy:(0,D.s)(a.numPacksCopy,e),bagCount:e.bagCount,addons:e.addons,portionSize:e.portionSize,mealCount:e.mealCount}),(0,n.jsx)(oJ,{})]},e.petId)),_&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a1,{children:(0,n.jsx)(o0.x,{href:"/onboarding/".concat(h,"/").concat(q,"/?pet_id="),fullWidth:!1,horizontalPadding:20,variant:"blueberry",verticalPadding:1,text:t})}),(0,n.jsx)(oJ,{})]}),(0,n.jsx)(as,{...r,plans:i,showPromoCode:x,applyPromoCode:v,removePromoCode:w,isDefaultPromoCode:C,currentOfferCode:j}),(0,n.jsx)(a4,{children:(0,n.jsx)(ts.zx,{ref:p,disabled:m,variant:"spinach",isLoading:f,children:d.text})}),y.foodPacksText,(0,n.jsx)(a2,{children:(0,n.jsxs)(a5,{children:[(0,n.jsx)(a3,{href:"/terms",onClick:()=>{P.tag(a8())},children:"Terms and Conditions"}),(0,n.jsx)(a3,{href:"/privacy-policy",onClick:()=>{P.tag(a9())},children:"Privacy Policy"})]})})]}),(0,n.jsx)(ah,{}),(0,n.jsx)(oJ,{width:"40%"}),(0,n.jsxs)(a6,{children:[u," ",(0,n.jsx)(a3,{href:"mailto:caninecare@myollie.com",children:"caninecare@myollie.com"})]})]})};a7.displayName="OrderSummary",a7.propTypes={addPupBtnLabel:s().string.isRequired,plans:s().arrayOf(s().shape({breeds:s().arrayOf(s().string).isRequired,petId:s().string.isRequired,price:s().string.isRequired,priceWithDiscount:s().string.isRequired,recipes:s().object.isRequired,numPacks:s().number.isRequired,bagCount:s().number.isRequired,productType:s().string,addons:s().array})).isRequired,onClickRemovePet:s().func.isRequired,nextDeliveryDate:s().string,pricingList:s().object.isRequired,planSummary:s().shape({headline:s().string.isRequired,numPacksCopy:s().string.isRequired,recipesLabel:s().string.isRequired}).isRequired,checkoutButton:s().shape({text:s().string.isRequired}).isRequired,termsAndConditions:s().node.isRequired,buttonRef:s().any,disabled:s().bool,isValidating:s().bool,isSubmitting:s().bool,recurringOrders:s().shape({foodPacksText:s().string.isRequired}).isRequired,period:s().string.isRequired,showPromoCode:s().bool.isRequired,applyPromoCode:s().func.isRequired,removePromoCode:s().func.isRequired,isDefaultPromoCode:s().bool.isRequired,currentOfferCode:s().string.isRequired,showAddPupButton:s().bool};let se=td.ZP.div.withConfig({componentId:"sc-f726abdf-0"})(["margin-top:",";flex-grow:1;@media ","{flex-basis:360px;flex-grow:0;}@media ","{display:flex;flex-direction:column;align-items:center;}","{margin-bottom:",";}","{margin-bottom:",";}"],e=>e.theme.spacing(8),e=>e.theme.tabletL,e=>e.theme.mobileL,a$,e=>e.theme.spacing(4),a6,e=>e.theme.spacing(4)),st=e=>{let{plans:t,orderSummary:i,recurringOrders:r,nextDeliveryDate:o,buttonRef:a,disabled:s=!1,isSubmitting:l=!1,isValidating:d=!1,period:c,showPromoCode:u,applyPromoCode:p,removePromoCode:m,isDefaultPromoCode:h,currentOfferCode:g,showAddPupButton:f}=e;return(0,n.jsx)(se,{children:(0,n.jsx)(a7,{...i,plans:t,nextDeliveryDate:o,buttonRef:a,disabled:s,isSubmitting:l,isValidating:d,recurringOrders:r,period:c,showPromoCode:u,applyPromoCode:p,removePromoCode:m,isDefaultPromoCode:h,currentOfferCode:g,showAddPupButton:f})})};st.displayName="CheckoutInformation",st.propTypes={plans:s().arrayOf(s().object).isRequired,orderSummary:s().object.isRequired,recurringOrders:s().shape({foodPacksText:s().string.isRequired}).isRequired,nextDeliveryDate:s().string,recurringDeliveryDate:s().string,buttonRef:s().any,disabled:s().bool,isSubmitting:s().bool,isValidating:s().bool,period:s().string.isRequired,showPromoCode:s().bool.isRequired,applyPromoCode:s().func.isRequired,removePromoCode:s().func.isRequired,isDefaultPromoCode:s().bool.isRequired,currentOfferCode:s().string.isRequired,showAddPupButton:s().bool};var si=i(2019);let sr=et.Ry().shape({email:et.Z_().trim().required("Email is required").email(i9.N0)}),sn=si.Iq.concat(sr),so=e=>{let{watch:t}=(0,iW.Gc)(),i=Object.keys(e.fields),r=t(i).reduce((e,t,r)=>(e[i[r]]=t,e),{});return e.isValidSync(r)},sa=()=>({type:"Address Completed"}),ss=()=>({type:"Phone Number Completed"}),sl=e=>({type:"SMS Updates Toggled",data:{state:e}}),sd=e=>{let{labelFirstName:t,labelLastName:i,labelAddress:r,labelApt:a,labelZipCode:s,labelCity:l,labelState:d,stateOptions:u,labelPhoneNumber:p,labelSMSUpdates:m,labelSMSTerms:h}=e,{watch:g,formState:{touchedFields:f,dirtyFields:y}}=(0,iW.Gc)(),b=so(o$.Ql),x=(0,c.Av)(),v=g("phoneNumber"),w=g("smsUpdates"),C=o$.S8.isValidSync(v);return(0,o.useEffect)(()=>{b&&x.tag(sa())},[b,x]),(0,o.useEffect)(()=>{C&&x.tag(ss())},[C,x]),(0,o.useEffect)(()=>{(f.smsUpdates||y.smsUpdates)&&x.tag(sl(w))},[w,y,f,x]),(0,n.jsx)(o$.XM,{labelFirstName:t,labelLastName:i,labelAddress:r,labelApt:a,labelZipCode:s,labelCity:l,labelState:d,stateOptions:u,labelPhoneNumber:p,labelSMSUpdates:m,labelSMSTerms:h})};sd.displayName="ShippingAddressForm",sd.propTypes={labelFirstName:s().string.isRequired,labelLastName:s().string.isRequired,labelAddress:s().string.isRequired,labelApt:s().string.isRequired,labelZipCode:s().string.isRequired,labelCity:s().string.isRequired,stateOptions:s().arrayOf(s().shape({value:s().string.isRequired,label:s().string.isRequired}).isRequired),labelState:s().string.isRequired,labelPhoneNumber:s().string.isRequired,labelSMSUpdates:s().string.isRequired,labelSMSTerms:s().string.isRequired};var sc=i(85033),su=i(95631);let sp=()=>({type:"Account Information Completed"}),sm=e=>{let{labelEmail:t,labelPassword:i,labelConfirmation:r}=e,{control:a}=(0,iW.Gc)(),s=(0,c.Av)(),l=so(sn);return(0,o.useEffect)(()=>{l&&s.tag(sp())},[l,s]),(0,n.jsxs)(su.rj,{gap:{row:4,column:2},columns:{laptop:1,mobile:1},children:[(0,n.jsx)(su.bL,{children:(0,n.jsx)(iW.Qr,{control:a,name:"email",render:e=>{var i;let{field:r,fieldState:o}=e;return(0,n.jsx)(su.II,{...r,labelText:t,status:o.error?"error":null,error:(null===(i=o.error)||void 0===i?void 0:i.message)||"",autocomplete:"email",disabled:!0})}})}),(0,n.jsx)(su.bL,{children:(0,n.jsx)(iW.Qr,{control:a,name:"new_password",render:e=>{var t;let{field:r,fieldState:o}=e;return(0,n.jsx)(su.II,{...r,status:o.error?"error":null,error:(null===(t=o.error)||void 0===t?void 0:t.message)||"",type:"password",labelText:i,icon:(0,n.jsx)(sc.T,{}),autocomplete:"new-password"})}})}),(0,n.jsx)(su.bL,{children:(0,n.jsx)(iW.Qr,{control:a,name:"confirm_password",render:e=>{var t;let{field:i,fieldState:o}=e;return(0,n.jsx)(su.II,{...i,status:o.error?"error":null,error:(null===(t=o.error)||void 0===t?void 0:t.message)||"",type:"password",labelText:r,autocomplete:"new-password"})}})})]})};sm.displayName="AccountInfoForm",sm.propTypes={labelEmail:s().string.isRequired,labelPassword:s().string.isRequired,labelConfirmation:s().string.isRequired};let sh=td.ZP.div.withConfig({componentId:"sc-d2fa3491-0"})(["display:flex;justify-content:space-between;flex-wrap:wrap;width:100%;max-width:976px;margin:0 auto;padding:",";@media ","{padding-bottom:",";}"],e=>e.theme.spacing(0,4),e=>e.theme.tabletL,e=>e.theme.spacing(24)),sg=td.ZP.div.withConfig({componentId:"sc-d2fa3491-1"})(["flex-grow:1;padding:",";@media ","{flex-basis:512px;flex-grow:0;}"],e=>e.theme.spacing(0,0,20),e=>e.theme.tabletL),sf=td.ZP.h2.withConfig({componentId:"sc-d2fa3491-2"})(["",";margin-top:",";margin-bottom:",";@media ","{margin-bottom:",";}"],e=>e.theme.typography.heading3,e=>e.theme.spacing(8),e=>e.theme.spacing(4),e=>e.theme.tablet,e=>e.theme.spacing(8)),sy=td.ZP.h2.withConfig({componentId:"sc-d2fa3491-3"})(["",";margin-top:",";margin-bottom:",";@media ","{margin-bottom:",";margin-top:",";}"],e=>e.theme.typography.heading3,e=>e.theme.spacing(10),e=>e.theme.spacing(4),e=>e.theme.tablet,e=>e.theme.spacing(8),e=>e.theme.spacing(15));td.ZP.h2.withConfig({componentId:"sc-d2fa3491-4"})(["",";margin-top:",";margin-bottom:",";@media ","{margin-top:",";margin-bottom:",";}"],e=>e.theme.typography.heading3,e=>e.theme.spacing(8),e=>e.theme.spacing(4),e=>e.theme.tablet,e=>e.theme.spacing(10),e=>e.theme.spacing(8));let sb=td.ZP.h2.withConfig({componentId:"sc-d2fa3491-5"})(["",";margin-top:",";margin-bottom:",";@media ","{margin-top:",";margin-bottom:",";}"],e=>e.theme.typography.heading3,e=>e.theme.spacing(8),e=>e.theme.spacing(4),e=>e.theme.tablet,e=>e.theme.spacing(10),e=>e.theme.spacing(8)),sx=()=>({type:"Views checkout page"}),sv=()=>({type:"Checkout Button Clicked"});var sw=i(29824),sC=i(94921);let sj=(e,t,i)=>{let{name:r}=e,n=t.subscriptions[e.id],o=i.find(e=>e.variants[0].sku===n.sku);return{frequency:o.weeks_of_food,numPacks:o.variants[0].tray_count,bagCount:o.variants[0].bag_count,pricePerWeek:(0,ig.CT)(o.variants[0].price_per_week),pupName:r,petPronoun:(0,tA.f9)(e.gender,{type:tA.B9.POSSESSIVE_ADJECTIVE,perspective:3})}},sR=e=>{let{pets:t,cart:i,isValidating:r,products:n,formState:o,ctaText:a,refInView:s,period:l="week"}=e,d=t.filter(e=>{let{id:t}=e,r=i.line_items.find(e=>e.pet_id===t&&e.product_type in aF.bv);return null!=r&&!!r.pet_id}),c="",u="",p=(o.isSubmitting||o.isSubmitted)&&oX()(o.errors)||r,m=o.isSubmitting||o.isSubmitted,h=(0,tE.wj)(l),g=(0,tE.wj)(l,{discounted:!0});if(i){let e=i.line_items.reduce((e,t)=>(t[h]&&(e+=Number(t[h])),e),0),t=i.line_items.reduce((e,t)=>(t[g]&&(e+=Number(t[g])),e),0);c=(0,ig.CT)(e),u=(0,ig.CT)(t)}return{headline:d.length>1?d.reduce((e,t,i)=>e+t.name.toUpperCase()+"'S "+(i!==d.length-1?" & ":""),"")+"STARTER BOXES":d[0].name.toUpperCase()+"'S "+n[0].weeks_of_food+"-WEEK STARTER BOX",ctaText:a,shown:!s,isSubmitDisabled:p,isBackButtonDisabled:m,price:c,discountedPrice:u,period:l,isSubmitting:o.isSubmitting||o.isSubmitted}},s_=(e,t,i)=>i?Object.keys(i).flatMap(r=>i[r].addons.map(i=>{let n=t.find(e=>e.sku===i.sku&&e.pet_id===r),o=e.find(e=>e.variants[0].sku===i.sku);return{discountedPricePerWeek:n.discounted_price_per_week||0,feedingGuidelines:n.feeding_guidelines,petId:r,petName:n.pet_name,price:n.price,pricePerWeek:n.price_per_week,quantity:n.quantity,recipes:n.recipes,sku:n.sku,totalDiscount:n.total_discount,productName:o.product_name,productType:n.product_type,discountedPrice:n.discounted_price||0}})):[],sP=e=>{let t,i,r,{refreshCart:n,isValidating:o,isRevalidatingCart:a,cart:s,deletePet:l,pets:d,address:c,products:u,subscriptionProducts:p,formState:m,orderSummary:h,formattedOfferAmount:g,recurringOrders:f,buttonRef:y,period:b,currentOfferCode:x,defaultOfferCode:v}=e,w=async e=>{await l(e),await n()},C=null==d?void 0:d.filter(e=>{let{id:t}=e,i=s.line_items.find(e=>e.pet_id===t&&e.product_type in aF.bv);return null!=i&&!!i.pet_id}),j=[],R=(m.isSubmitting||m.isSubmitted)&&oX()(m.errors)||a,_={...h,onClickRemovePet:w},P={...f};if(s&&u){t=s_(u,s.line_items,s.subscriptions),_.pricingList={..._.pricingList,promoCodeInfo:(0,D.s)(_.pricingList.promoCodeInfo,{defaultName:v,discount:g,offerCode:x}),total:Number(s.total),foodSubtotal:s.total_by_product_type.mealplans_subtotal.toString(),addonsSubtotal:s.total_by_product_type.addons_subtotal.toString(),foodDiscountAmount:s.line_items[0].total_discount,foodDiscountText:"".concat(g," off"),discountText:"".concat(g," off"),discountAmount:s.total_discount,tax:"0.00"!==s.total_tax?s.total_tax:""};let e=(0,tE.wj)(b),i=(0,tE.wj)(b,{discounted:!0});j=C.filter(e=>{let{id:t}=e,i=s.line_items.find(e=>e.pet_id===t&&e.product_type in aF.bv);return null!=i&&!!i.pet_id}).map(r=>{let{id:n,name:o,breeds:a,gender:l}=r,d=s.line_items.find(e=>e.pet_id===n&&e.product_type in aF.bv),c=d.pet_id,p=u.find(e=>e.variants[0].sku===d.sku);return{petId:c,petName:o,breeds:a.map(e=>{let{name:t}=e;return t}),frequency:p.weeks_of_food,numPacks:Number(p.variants[0].tray_count),bagCount:Number(p.variants[0].bag_count),mealCount:Number(14*p.weeks_of_food),productType:p.product_type,price:d.price,priceWithDiscount:String(d.discounted_price),pricePerPeriodWithDiscount:d[i]?String(d[i]):String(d.discounted_price),pricePerPeriod:d[e]?d[e]:d.price,recipes:p.variants[0].recipes,gender:l,addons:t.filter(e=>e.petId===c),portionSize:p.portion_size||"1"}})}if(C&&s&&p?P.foodPacksText=C.map(e=>(0,D.s)(P.foodPacksText,sj(e,s,p))).join(" "):P.foodPacksText="",(null==s?void 0:s.delivery_date)&&(i=(0,sw.default)((0,iE.default)(s.delivery_date,"yyyy-MM-dd",new Date),"EE, MMM d")),C&&c){let e=Math.min(...C.map(e=>{let{trial_plan:t}=e;return null==t?void 0:t.frequency}));r=!c.isFallback&&c.next_delivery_date?(0,sw.default)((0,sC.Z)((0,iE.default)(c.next_delivery_date,"yyyy-MM-dd",new Date),{weeks:e}),"MM/dd/yyyy"):""}return{plans:j,nextDeliveryDate:i,recurringDeliveryDate:r,orderSummary:_,recurringOrders:P,isValidating:o,isSubmitting:(m.isSubmitting||m.isSubmitted)&&oX()(m.errors)||a,disabled:R,buttonRef:y,period:b}},sk=Object.keys(o$.Ql.fields),sq="This address is invalid. Please review and update the address",sS=e=>{var t,i;let{headerShippingAddress:r,labelFirstName:a,labelLastName:s,labelAddress:l,labelApt:d,labelZipCode:u,labelCity:p,stateOptions:m,labelState:h,labelPhoneNumber:g,labelSMSUpdates:f,labelSMSTerms:y,headerAccountInfo:b,labelEmail:x,labelPassword:v,labelConfirmation:w,headlineBillingInformation:C,orderSummary:j,recurringOrders:R,ctaText:_,onSubmit:P,customer:k,products:q,subscriptionProducts:S,address:I,updateAddress:T,cart:Z,isValidating:B,isRevalidatingCart:L,refreshCart:A,deletePet:N,pets:E,period:K,showPromoCode:F,applyPromoCode:O,removePromoCode:D,isDefaultPromoCode:M,currentOfferCode:W,defaultOfferCode:V,showAddPupButton:Q}=e,[z,U]=(0,tB.nY)(!0),X=(0,c.Av)(),H=(0,tN.ZV)(),{showToast:Y}=(0,tF.pm)(),G=(0,o.useRef)(new oG(200));(0,o.useEffect)(()=>{X.tag(sx())},[X]);let $=(0,iW.cI)({defaultValues:{firstName:I.first_name||k.first_name||"",lastName:I.last_name||k.last_name||"",email:(null==k?void 0:k.email)||"",smsUpdates:null===(i=I.sms_updates)||void 0===i||i,address:I.address1||"",apt:I.address2||"",zipCode:I.zip_code||"",city:I.city||"",state:I.state||"",phoneNumber:I.phone||"",new_password:"",confirm_password:""},resolver:(0,iV.X)(o$.Ql.concat(sn)),mode:"onTouched"}),{clearErrors:J,formState:ee,getValues:et,reset:ei,setError:er,watch:en}=$,eo=null===(t=ee.errors.address)||void 0===t?void 0:t.message;(0,o.useEffect)(()=>{let e=en(async(e,t)=>{let{name:i}=t;if(!sk.includes(i))return;let r=o$.Ql.isValidSync(e),n={first_name:e.firstName,last_name:e.lastName,address1:e.address,address2:e.apt,city:e.city,phone:e.phoneNumber,state:e.state,zip_code:e.zipCode};r&&(!oY()({...n,id:I.id},I)||eo===sq)&&G.current.add(async()=>{let e=await T(n);await tZ.fE.match(e,{success:async()=>{J(sk),await A({resyncTaxes:!0})},error:{client:e=>{let{original:t}=e;X.error(t)},address:e=>{let{fields:t,nonFieldErrors:i}=e;i&&er("address",{type:"validate",message:sq}),t.forEach(e=>{let{name:t}=e;er(t,{type:"validate",message:"This ".concat(t," is invalid.")})})}}}),tZ.fE.ifError(e,()=>setTimeout(()=>{ei(et(),{keepIsSubmitted:!1,keepErrors:!0})}))})});return()=>e.unsubscribe()},[I,eo,J,et,X,ei,er,en,T,A]);let ea=()=>setTimeout(()=>ei(et(),{keepIsSubmitted:!1,keepErrors:!0})),es=async e=>{if(oX()(ee.errors)){X.tag(sv());let t=await P(e);tZ.fE.match(t,{error:{client:e=>{X.error(e.original)},checkoutAddress:()=>{er("address",{type:"address",message:"We are unable to process your address"},{shouldFocus:!0})},passwordNotSet:()=>{er("new_password",{type:"password",message:"We are unable to set your password"},{shouldFocus:!0})}}}),tZ.fE.ifError(t,ea)}else{let e=Object.keys(ee.errors)[0];er(e,{type:ee.errors[e].type,message:ee.errors[e].message},{shouldFocus:!0}),ea()}};return(0,n.jsx)(iW.RV,{...$,children:(0,n.jsx)("form",{onSubmit:$.handleSubmit(es,e=>{Y({status:"error",message:tF.rZ,headline:"Error"}),setTimeout(()=>{ei(et(),{keepIsSubmitted:!1,keepErrors:!0})},1500)}),children:(0,n.jsxs)(sh,{children:[(0,n.jsxs)(sg,{children:[(0,n.jsx)(sf,{children:r}),(0,n.jsx)(sd,{labelFirstName:a,labelLastName:s,labelAddress:l,labelApt:d,labelZipCode:u,labelCity:p,stateOptions:m,labelState:h,labelPhoneNumber:g,labelSMSUpdates:f,labelSMSTerms:y}),(0,n.jsx)(sy,{children:b}),(0,n.jsx)(sm,{labelEmail:x,labelPassword:v,labelConfirmation:w}),(0,n.jsx)(sb,{children:C}),(0,n.jsx)(iF.PaymentElement,{options:{layout:{type:"accordion"},fields:{billingDetails:{email:"never",phone:"never",address:{country:"never"}}},paymentMethodOrder:["apple_pay","google_pay","card"]}})]}),(0,n.jsx)(st,{...sP({refreshCart:A,isValidating:B,isRevalidatingCart:L,cart:Z,deletePet:N,pets:E,address:I,products:q,subscriptionProducts:S,orderSummary:j,formattedOfferAmount:H.formattedAmount,recurringOrders:R,formState:$.formState,buttonRef:U,period:K,currentOfferCode:W,defaultOfferCode:V}),showPromoCode:F,applyPromoCode:O,removePromoCode:D,isDefaultPromoCode:M,currentOfferCode:W,showAddPupButton:Q}),(0,n.jsx)(nB,{...sR({cart:Z,isValidating:B||L,products:q,pets:E,ctaText:_,formState:$.formState,refInView:z,period:K})})]})})})};sS.displayName="CheckoutForm",sS.propTypes={headerShippingAddress:s().string.isRequired,labelFirstName:s().string.isRequired,labelLastName:s().string.isRequired,labelAddress:s().string.isRequired,labelApt:s().string.isRequired,labelZipCode:s().string.isRequired,labelCity:s().string.isRequired,labelState:s().string.isRequired,stateOptions:s().arrayOf(s().shape({value:s().string.isRequired,label:s().string.isRequired}).isRequired),labelPhoneNumber:s().string.isRequired,labelSMSUpdates:s().string.isRequired,labelSMSTerms:s().string.isRequired,headerAccountInfo:s().string.isRequired,labelEmail:s().string.isRequired,labelPassword:s().string.isRequired,labelConfirmation:s().string.isRequired,message:s().node,headlineBillingInformation:s().string.isRequired,labelWithStripe:s().string.isRequired,labelNameCard:s().string.isRequired,labelCardNumber:s().string.isRequired,labelExpirationDate:s().string.isRequired,labelCVC:s().string.isRequired,placeholderNameCard:s().string.isRequired,placeholderCardNumber:s().string.isRequired,placeholderExpirationDate:s().string.isRequired,placeholderCVC:s().string.isRequired,orderSummary:s().object.isRequired,recurringOrders:s().shape({foodPacksText:s().string.isRequired}).isRequired,ctaText:s().string.isRequired,period:s().string.isRequired,onSubmit:s().func.isRequired,address:s().object.isRequired,updateAddress:s().func.isRequired,customer:s().object.isRequired,products:s().array.isRequired,subscriptionProducts:s().array.isRequired,cart:s().object.isRequired,isValidating:s().bool.isRequired,isRevalidatingCart:s().bool.isRequired,refreshCart:s().func.isRequired,deletePet:s().func.isRequired,pets:s().array.isRequired,showPromoCode:s().bool.isRequired,applyPromoCode:s().func.isRequired,removePromoCode:s().func.isRequired,isDefaultPromoCode:s().bool.isRequired,currentOfferCode:s().string.isRequired,defaultOfferCode:s().string.isRequired,showAddPupButton:s().bool};var sI=i(37187);let sT={title:"Your order didn't go through",message:"We are unable to process your order. Please try again or contact Canine Care to complete your order."},sZ={title:"Your order didn't go through",message:"We are unable to process your address. Please review or contact Canine Care to complete your order.",fieldName:"address"},sB={title:"Your order didn't go through",message:"We are unable to set your password. Please update your password and try again.",fieldName:"password"},sL=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Your payment method is invalid.";return{title:"Your order didn't go through",message:e,fieldName:"cardNumber"}},sA={title:"Your order didn't go through",message:"Your payment method has insufficient funds. Please review your information or try a new payment method or contact Canine Care to complete your order.",fieldName:"cardNumber"},sN={title:"Your order didn't go through",message:"We are unable to process your order. Please try again or contact Canine Care to complete your order."};var sE=i(32675);let sK=e=>(0,sw.default)((0,sE.default)(e),"EEEE, MMMM d"),sF=e=>{let t=e.reduce((e,t)=>(e.totalTax+=parseFloat(t.total_tax),e.subtotal+=parseFloat(t.total_ex_tax),e.totalPrice+=parseFloat(t.total_price),e.discountAmount+=parseFloat(t.total_discount),e.orderTotal+=parseFloat(t.subtotal_ex_tax),e),{totalTax:0,subtotal:0,totalPrice:0,discountAmount:0,orderTotal:0});return t.totalTax=t.totalTax>0?(0,ig.CT)(t.totalTax):"",t.subtotal=(0,ig.CT)(t.subtotal),t.totalPrice=(0,ig.CT)(t.totalPrice),t.discountAmount=(0,ig.CT)(t.discountAmount),t.orderTotal=(0,ig.CT)(t.orderTotal),t},sO=e=>({street:[e.address1,e.address2].filter(Boolean).join(", "),city:e.city,state:e.state,zip:e.zip_code}),sD=e=>e.map(e=>({...e,breeds:e.breeds.map(e=>e.name)})),sM=(e,t,i,r,n,o)=>e.map(e=>{let a=i.find(t=>t.items[0].pet_id===e.id),s=sV(a),{weeks_of_food:l}=a.items.find(e=>null!==e.weeks_of_food),{next_delivery_target:d,frequency:c,sku:u,id:p}=t.find(t=>t.pet_id===e.id),m=(0,tE.wj)(o),{variants:[{recipes:h,[m]:g}],portion_size:f}=r.find(e=>e.variants[0].sku===u),y=n[p];return{petName:e.name,breeds:e.breeds.map(e=>e.name),price:(0,ig.CT)(s.foodTotalPrice),discountedPrice:(0,ig.CT)(s.foodDiscountedPrice),pricePerPeriod:(0,ig.CT)(g),frequencyInWeeks:c,weeksOfFood:l,deliveryNext:sK(d),recipes:h,addons:sW(a.items,y),portionSize:f}}),sW=(e,t)=>e.reduce((e,i)=>{let r=t.find(e=>e.sku===i.sku&&"0.00"!==i.price&&eC.includes(i.product_type));return r&&e.push({...r,price:(0,ig.CT)(i.price*i.quantity),discounted_price:(0,ig.CT)(i.discounted_price*i.quantity)}),e},[]),sV=e=>{var t;let i=null===(t=e.items)||void 0===t?void 0:t.filter(e=>e.product_type!==ew.treats&&e.product_type!==ew.supplements);return{foodTotalPrice:i.reduce((e,t)=>e+=parseFloat(t.price),0),foodDiscountedPrice:i.reduce((e,t)=>e+=parseFloat(t.discounted_price),0)}},sQ=(e,t,i,r,n)=>{let o;if(!i||!n||!e||Object.values(e).some(e=>void 0===e))return{};o={...e,discountText:"".concat(null==t?void 0:t.formattedAmount," off"),discountAmount:i.reduce((e,t)=>e+Number(t.total_discount),0)};let a=i.flatMap(e=>e.items);return{plans:null==r?void 0:r.map(e=>{let{id:t,name:i}=e,r=a.find(e=>e.pet_id===t&&e.product_type in aF.bv),o=null==r?void 0:r.pet_id,s=n.find(e=>e.variants[0].sku===r.sku);return{petId:o,petName:i,productType:(null==s?void 0:s.product_type)||(null==r?void 0:r.product_type)}}),formattedPricingList:o}},sz=(e,t,i,r)=>{let n;if(!t||!r)return{};n={discountLabel:"DISCOUNT",discountText:"".concat(null==e?void 0:e.formattedAmount," off"),discountAmount:t.reduce((e,t)=>e+Number(t.total_discount),0)};let o=t.flatMap(e=>e.items);return{plans:null==i?void 0:i.map(e=>{let{id:t,name:i}=e,n=o.find(e=>e.pet_id===t&&e.product_type in aF.bv),a=null==n?void 0:n.pet_id,s=r.find(e=>e.variants[0].sku===(null==n?void 0:n.sku));return{petId:a,petName:i,productType:(null==s?void 0:s.product_type)||(null==n?void 0:n.product_type)}}),formattedPricingList:n}},sU=e=>("1"+e).replace(/-/g,""),sX=e=>{let{orderTotal:t,totalPrice:i,discountAmount:r}=sF(e),n={first_name:e[0].customer.first_name,last_name:e[0].customer.last_name,id:e[0].customer.id,email:e[0].customer.email,phone_number:sU(e[0].customer.phone_number)},o=e[0].coupon_code,a=e.map(e=>{let t=e.items.find(e=>e.pet_id),i=0,r=e.items.filter(e=>eC.includes(e.product_type)).map(e=>(i+=parseFloat(e.price)*e.quantity,{sku:e.sku,quantity:e.quantity,price:e.price})),{address1:n,address2:o,city:a,state:s,zip_code:l}=e.address;return{id:e.id,order_price:e.subtotal_ex_tax,mealplan_price:t.price,addons_price:i.toFixed(2),discount_code:e.coupon_code,discount_amount:e.total_discount,total_price:e.total_price,street_address:n+" "+o,sku:t.sku,zip:l,state:s,city:a,addons:r}});return{order_details:{order_price:t,discount_amount:r,discount_code:o,total_price:Number(i.slice(1)),currency:"USD",customer_info:n,orders:a}}},sH=e=>{let{discountAmount:t,subtotal:i,totalTax:r}=sF(e),n=e[0].coupon_code,o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{dry:[],fresh:[]};return e.dry.length&&e.fresh.length?"mixed":e.dry.length?"dry":"fresh"},a=e.map(e=>{let t=e.items.find(e=>e.pet_id);return{order_id:e.id,product_id:e.subscription_id,id:t.pet_id,sku:t.sku,name:t.pet_name,price:t.price,quantity:t.quantity,category:o(t.recipes)}}),s=e.flatMap(e=>e.items.filter(e=>eC.includes(e.product_type)).map(t=>({order_id:e.id,product_id:e.subscription_id,id:t.pet_id,sku:t.sku,name:t.pet_name,price:t.price,quantity:t.quantity,category:t.product_type})));return{subtotal:(0,ig.EZ)(i),revenue:(0,ig.EZ)(i),tax:""===r?0:(0,ig.EZ)(r),discount:(0,ig.EZ)(t),coupon:n,currency:"USD",products:[...a,...s]}},sY=(e,t)=>({type:"Checkout purchased",data:{...sX(e),wallet_type:t}}),sG=e=>({type:"Order Completed",data:sH(e)}),s$=e=>({type:"Billing Information Completed",data:{wallet_type:e}}),sJ=e=>{var t,i,r,a;let{headerShippingAddress:s,labelFirstName:l,labelLastName:d,labelAddress:u,labelApt:p,labelZipCode:m,labelCity:h,labelState:g,stateOptions:f,labelPhoneNumber:y,labelSMSUpdates:b,labelSMSTerms:x,headerAccountInfo:v,labelEmail:w,labelPassword:C,labelConfirmation:j,headerIDMeForm:R,message:_,buttonImage:P,buttonAlt:k,headlineBillingInformation:q,orderSummary:S,recurringOrders:I,ctaText:T}=e,Z=(0,tN.ZV)(),{send:B,pricePeriod:L,isAppSession:A,isReturningCustomerWithMealPlan:N}=(0,o.useContext)(iL),{stripe:E,stripeError:K,clientSecret:F,updateIntent:O,confirmPaymentIntent:D,createIntent:M}=(0,sI.MD)(),W=(0,iF.useElements)(),V=(0,c.Av)(),{showToast:Q}=(0,tF.pm)(),{value:z}=(0,eY.aq)(eY.DB,!1),{listOrders:U}=(0,oz.rB)(),{campaignId:X,setCampaignId:H}=(0,oQ.yQ)(),Y=(0,tA.pT)(),G=(0,tL.Vq)(),$=(0,tL.SF)(null===(t=G.customer)||void 0===t?void 0:t.id),J=(0,sI.Ig)(null===(i=G.customer)||void 0===i?void 0:i.id),{productsListApi:ee}=(0,tL.ey)(),{cartApi:et,subscriptionProductsListApi:ei}=(0,tL.XB)(),[er,en]=(0,o.useState)(K?K.message:null),[eo,ea]=(0,o.useState)(!1),es=(0,o.useRef)(null),el=async e=>{let t=await O(et.cart.cart_id,W);t.success||(t=await M(et.cart.cart_id));let i=await tZ.fE.flatMapAsync(t,()=>W.submit()),r=(null==i?void 0:i.error)?(0,tZ.nZ)(null==i?void 0:i.error):tZ.fE.success(),n=await tZ.fE.flatMapAsync(r,()=>tZ.fE.callAsync(()=>G.updateCustomer({first_name:e.firstName,last_name:e.lastName,email:e.email,is_sms:e.smsUpdates}))),o=await tZ.fE.flatMapAsync(n,()=>G.createPassword({new_password:e.new_password,confirm_password:e.confirm_password})),a=Array.isArray(null==t?void 0:t.payload)?(0,sI.uJ)(null==t?void 0:t.payload):F,s=await tZ.fE.flatMapAsync(o,()=>D({stripe:E,elements:W,clientSecret:a,options:{confirmParams:{payment_method_data:{billing_details:{email:e.email,phone:e.phoneNumber,address:{country:"US"}}},return_url:sI.t_},redirect:"if_required"}})),l=await tZ.fE.flatMapAsync(s,()=>G.performCheckout([a],X));return tZ.fE.match(l,{success:async()=>{let e=await U();X&&H(null),B(tY.toConfirmation({orderId:e[0].id}));try{await V.withPrefix("").tag(sG(e))}catch(e){V.error(e)}try{await V.tag(sY(e,es.current))}catch(e){V.error(e)}},error:{server:()=>{en(sT)},paymentInvalid:e=>{en(sL(null==e?void 0:e.message));let t=W.getElement("payment");t&&t.focus()},paymentInsufficientFunds:e=>{en(sA)},unableToProcessOrder:()=>{en(sN)},checkoutAddress:()=>{en(sZ)},passwordNotSet:()=>{en(sB)},client:()=>{en(sT)}}}),l},ed=async e=>{let{newPromoCode:t}=e;ea(!0);let i=await Z.validateOfferCode(t),r=await tZ.fE.flatMapAsync(i,()=>Z.updateOfferCode(t));return ea(!1),r},ec=async()=>{ea(!0);let e=await Z.validateOfferCode(Z.defaultOfferCode),t=await tZ.fE.flatMapAsync(e,()=>Z.updateOfferCode(Z.defaultOfferCode));return ea(!1),t},eu=async e=>{ea(!0);let t=await et.refreshCart(e);return ea(!1),t},ep=async e=>await Y.deletePet(e),em=$.isLoading||et.isLoading||G.isLoading||J.isLoading||Y.isLoading||ee.isLoading||ei.isLoading;if((0,o.useEffect)(()=>{if(!em){let e=null==W?void 0:W.getElement("payment");if(e){let t=oM()(e=>{var t;let i=null==e?void 0:e.complete,r=null==e?void 0:null===(t=e.value)||void 0===t?void 0:t.type;i&&(es.current=r,V.tag(s$(r)))},250);e.on("change",t)}}},[W,V,em]),(0,o.useEffect)(()=>{N&&Y.pets.length>1&&Q({status:"success",message:"Welcome back! Your previously added pets have been included in the cart."})},[N,Q,Y.pets]),em)return(0,n.jsx)(oW.J,{});if(et.error)return(0,n.jsx)(oW.J,{variant:"error"});let eh=(0,n.jsx)(nL,{children:(0,n.jsx)(nA.B,{})});return(0,n.jsxs)(oV.W,{$bgColor:"background.base",children:[(0,n.jsx)(nz,{currentStep:nN[nN.length-1],rightSegment:eh,steps:nN}),(0,n.jsx)(sS,{headerShippingAddress:s,labelFirstName:l,labelLastName:d,labelAddress:u,labelApt:p,labelZipCode:m,labelCity:h,labelState:g,stateOptions:f,labelPhoneNumber:y,labelSMSUpdates:b,labelSMSTerms:x,headerAccountInfo:v,labelEmail:w,labelPassword:C,labelConfirmation:j,headerIDMeForm:R,message:_,buttonAlt:k,buttonImage:P,headlineBillingInformation:q,ctaText:T,onSubmit:el,address:$.address,updateAddress:$.update,cart:et.cart,isValidating:et.isValidating,isRevalidatingCart:eo,refreshCart:eu,customer:G.customer,pets:Y.pets,deletePet:ep,products:ee.products,subscriptionProducts:ei.products,recurringOrders:I,orderSummary:S,period:L,showPromoCode:z,showAddPupButton:!A,applyPromoCode:ed,removePromoCode:ec,isDefaultPromoCode:Z.code===Z.defaultOfferCode,currentOfferCode:Z.code,defaultOfferCode:Z.defaultOfferCode}),(0,n.jsx)(iD.G,{shown:null!==er,headerText:null!==(r=null==er?void 0:er.title)&&void 0!==r?r:"",errorMessage:null!==(a=null==er?void 0:er.message)&&void 0!==a?a:"",onCloseModal:()=>en(null),variant:"secondary",showCloseButton:!0})]})};sJ.displayName="CheckoutContainer",sJ.propTypes={headerShippingAddress:s().string.isRequired,labelFirstName:s().string.isRequired,labelLastName:s().string.isRequired,labelAddress:s().string.isRequired,labelApt:s().string.isRequired,labelZipCode:s().string.isRequired,labelCity:s().string,labelState:s().string.isRequired,stateOptions:s().arrayOf(s().shape({value:s().string.isRequired,label:s().string.isRequired}).isRequired),labelPhoneNumber:s().string.isRequired,labelSMSUpdates:s().string.isRequired,labelSMSTerms:s().string.isRequired,headerAccountInfo:s().string.isRequired,labelEmail:s().string.isRequired,labelPassword:s().string.isRequired,labelConfirmation:s().string.isRequired,headerIDMeForm:s().string.isRequired,message:s().node,buttonImage:s().string.isRequired,buttonAlt:s().string.isRequired,headlineBillingInformation:s().string.isRequired,orderSummary:s().object.isRequired,recurringOrders:s().shape({foodPacksText:s().string.isRequired}).isRequired,ctaText:s().string.isRequired};var s0=i(75652),s1=i.n(s0),s4=i(5902),s2=i(75475),s3=i(90726),s5=i(86225),s6=i(92789),s8=i(77202),s9=i(64423),s7=i(55005),le=i(37394);let lt=td.ZP.div.withConfig({componentId:"sc-91c84cc-0"})(["width:100%;background:",";border-radius:",";padding:",";"," margin-top:",";@media ","{margin-top:",";padding:",";}@media ","{padding:",";border-radius:",";max-width:375px;}"],e=>e.theme.colors.background.lightest,e=>e.theme.spacing(7),e=>e.theme.spacing(8,4),e=>e.theme.typography.body,e=>e.theme.spacing(6),e=>e.theme.tablet,e=>e.theme.spacing(2),e=>e.theme.spacing(8),e=>e.theme.laptop,e=>e.theme.spacing(8),e=>e.theme.spacing(8)),li=td.ZP.h1.withConfig({componentId:"sc-91c84cc-1"})(["",";text-align:center;margin-bottom:",";"],e=>e.theme.typography.heading3,e=>e.theme.spacing(2)),lr=td.ZP.div.withConfig({componentId:"sc-91c84cc-2"})(["margin-top:",";padding-bottom:",";border-bottom:1px solid ",";&:last-of-type{border:none;padding-bottom:0;}"," "," "," "," "," ",""],e=>e.theme.spacing(6),e=>e.theme.spacing(6),e=>{let{theme:t}=e;return t.colors.withAlpha("border.fur",.5)},e=>{let{hideBorderBottom:t,theme:i}=e;return t?(0,td.iv)(["border-bottom:none;"]):(0,td.iv)(["border-bottom:1px solid ",";"],i.colors.border.fur)},e=>{let{smallMarginPadding:t,theme:i}=e;return t&&(0,td.iv)(["margin-top:",";padding-bottom:",";"],i.spacing(1),i.spacing(1))},e=>{let{firstMarginTop:t,theme:i}=e;return t&&(0,td.iv)(["margin-top:",";"],i.spacing(6))},e=>{let{lastPaddingBottom:t,theme:i}=e;return t&&(0,td.iv)(["padding-bottom:",";"],i.spacing(8))},e=>{let{columns:t,mobileStacked:i}=e;return 2===t&&(0,td.iv)(["display:flex;justify-content:space-between;flex-direction:",";@media ","{flex-direction:row;}"],i?"column":"row",e=>{let{theme:t}=e;return t.tabletL})},e=>{let{columns:t}=e;return 3===t&&(0,td.iv)(["display:flex;flex-direction:column;@media ","{justify-content:space-between;flex-direction:row;}"],e=>{let{theme:t}=e;return t.tablet})}),ln=td.ZP.h4.withConfig({componentId:"sc-91c84cc-3"})(["position:relative;"," font-weight:bold;color:",";"],e=>{let{theme:t}=e;return t.typography.heading4},e=>e.theme.colors.text.secondary),lo=td.ZP.h4.withConfig({componentId:"sc-91c84cc-4"})(["color:",";",";",""],e=>e.color?e.theme.colors.get(e.color,e.theme.colors.text.primary):e.theme.colors.text.secondary,e=>e.value?e.theme.typography.bodyBold:e.theme.typography.body,e=>e.heading?e.theme.typography.subheading2:null),la=td.ZP.div.withConfig({componentId:"sc-91c84cc-5"})(["width:100%;text-align:center;margin-top:",";"],e=>e.theme.spacing(7)),ls=(0,td.ZP)(lr).withConfig({componentId:"sc-34f4cc3d-0"})(["align-items:center;@media ","{align-items:none;}> div:first-of-type{margin-bottom:",";@media ","{margin-right:",";}}"],e=>{let{theme:t}=e;return t.tablet},e=>{let{theme:t}=e;return t.spacing(3)},e=>{let{theme:t}=e;return t.tablet},e=>e.theme.spacing(6)),ll=td.ZP.div.withConfig({componentId:"sc-34f4cc3d-1"})(["display:flex;justify-content:space-between;flex-direction:row;width:100%;"]),ld=td.ZP.div.withConfig({componentId:"sc-34f4cc3d-2"})(["flex-grow:1;"]),lc=td.ZP.div.withConfig({componentId:"sc-34f4cc3d-3"})(["display:flex;gap:",";position:absolute;right:0;top:0;"],e=>e.theme.spacing(1)),lu=td.ZP.div.withConfig({componentId:"sc-34f4cc3d-4"})([""," font-weight:bold;margin:",";"],e=>e.theme.typography.heading6,e=>e.theme.spacing(5,0,1)),lp=td.ZP.div.withConfig({componentId:"sc-34f4cc3d-5"})(["",""],e=>{let{strikethrough:t}=e;return t?(0,td.iv)(["text-decoration:line-through;color:",";opacity:0.75;margin-right:0;@media ","{margin-right:",";}"],e=>{let{theme:t}=e;return t.colors.text.tertiary},e=>{let{theme:t}=e;return t.tablet},e=>{let{theme:t}=e;return t.spacing(3)}):(0,td.iv)(["font-weight:bold;color:",";"],e=>{let{theme:t}=e;return t.colors.text.secondary})}),lm=td.ZP.ul.withConfig({componentId:"sc-34f4cc3d-6"})(["list-style-type:none;padding:0;"]),lh=td.ZP.li.withConfig({componentId:"sc-34f4cc3d-7"})(["position:relative;",";color:",";"],e=>e.theme.typography.body,e=>e.theme.colors.text.secondary),lg=td.ZP.div.withConfig({componentId:"sc-34f4cc3d-8"})(["max-width:160px;"]),lf=td.ZP.div.withConfig({componentId:"sc-34f4cc3d-9"})([""," position:relative;max-width:174px;@media ","{max-width:162px;}"],e=>e.theme.typography.heading6,e=>{let{theme:t}=e;return t.tablet});td.ZP.div.withConfig({componentId:"sc-34f4cc3d-10"})(["max-width:14rem;"]);let ly=td.ZP.div.withConfig({componentId:"sc-34f4cc3d-11"})(["position:relative;"]),lb=td.ZP.span.withConfig({componentId:"sc-34f4cc3d-12"})(["text-decoration:line-through;color:",";font-weight:normal;"],e=>e.theme.colors.status.errorPrimary),lx=td.ZP.span.withConfig({componentId:"sc-34f4cc3d-13"})(["color:",";"],e=>e.theme.colors.get(e.color,e.theme.colors.text.tertiary)),lv=e=>{let{key:t,product_name:i,quantity:r,product_type:o,price:a,discounted_price:s,period:l,pricePerPeriod:d,sku:c}=e;return(0,n.jsx)(lm,{children:(0,n.jsxs)(lh,{children:[(0,n.jsxs)(lg,{children:[i+": ",(0,n.jsx)(lx,{children:(0,tK.ff)(r,o,c)})]}),(0,n.jsxs)(lc,{children:[(0,n.jsx)(lb,{small:!0,children:a}),(0,n.jsxs)(lp,{small:!0,children:[s,"/ea."]}),d&&(0,n.jsxs)(lp,{children:[d,"/",l]})]})]},t)})};lv.displayName="StyledLi",lv.propTypes={key:s().string,product_name:s().string,quantity:s().string,product_type:s().string,price:s().string,discounted_price:s().string,period:s().string,pricePerPeriod:s().string};let lw=e=>{let{price:t,discountedPrice:i,period:r,pricePerPeriod:o,title:a,addons:s,summaryList:l,starterBox:d}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(ls,{columns:3,children:(0,n.jsx)(ll,{children:(0,n.jsxs)(ld,{children:[(0,n.jsxs)(ly,{children:[(0,n.jsx)(lf,{children:a}),(0,n.jsxs)(lc,{children:[(0,n.jsx)(lb,{children:t}),(0,n.jsx)(lp,{children:i}),o&&(0,n.jsxs)(lp,{children:[o,"/",r]})]})]}),(0,n.jsxs)(lm,{children:[null==l?void 0:l.map((e,t)=>{let{label:i,content:r}=e;return d&&"Next Delivery"===i?null:(0,n.jsxs)(lh,{children:[(0,n.jsxs)("strong",{children:[i,": "]}),r]},t)}),d&&!!(null==s?void 0:s.length)&&(0,n.jsx)(lu,{children:"Subscription Extras"}),d&&(null==s?void 0:s.map((e,t)=>{let{product_name:i,price:a,discounted_price:s,quantity:l,product_type:d,sku:c}=e;return(0,n.jsx)(lv,{product_name:i,quantity:l,product_type:d,pricePerPeriod:o,period:r,price:a,discounted_price:s,sku:c},t)}))]})]})})})})};lw.displayName="SummaryItem",lw.propTypes={price:s().string,discountedPrice:s().string,pricePerPeriod:s().string,period:s().string,title:s().string.isRequired,summaryList:s().arrayOf(s().shape({label:s().string.isRequired,content:s().string.isRequired})).isRequired,addons:s().array,starterBox:s().bool};let lC=e=>{let{orders:t,orderTotalCost:i,orderSubtotal:r,orderTotalTax:o,orderSummaryTitle:a="Order Summary",plans:s,pricingList:l,freeItems:d,onClickAccount:c}=e,u=[];for(let[e,i]of t.entries()){let{petName:t,breeds:r,price:o,discountedPrice:a,recipes:s,addons:l,portionSize:d,weeksOfFood:c}=i,p="".concat(aF.kS[c],"-week Starter Box"),{fresh:m,dry:h}=s,g={fresh:{label:"Fresh Recipes",content:le.i},dry:{label:"Baked Recipes",content:le.i}},f=(e+1)%2?"hero.blueberry":"secondary.carrot",y=(0,le.q)(s,g).filter(e=>{let{content:t}=e;return""!==t});(null==m?void 0:m.length)>0&&(null==h?void 0:h.length)>0?y.unshift({label:"Meal Plan",content:"Mixed Bowl Plan"}):(null==m?void 0:m.length)>0&&d===aF.Y?y.unshift({label:"Meal Plan",content:"Half Fresh Plan"}):(null==m?void 0:m.length)>0?y.unshift({label:"Meal Plan",content:"Full Fresh Plan"}):(null==h?void 0:h.length)>0&&y.unshift({label:"Meal Plan",content:"Full Baked Plan"}),u.push((0,n.jsx)(lw,{title:"".concat(t,"'s ").concat(p),breeds:r,backgroundColor:f,summaryList:y,addons:l,price:o,discountedPrice:a,starterBox:!0},"starterBox-".concat(e)))}let p=an(s);return p.scooperCount>0&&(null==d?void 0:d.filter(e=>"Scoop"===e.label).length)===0&&d.push({label:"Scoop",quantity:p.scooperCount}),p.bowlCount>0&&(null==d?void 0:d.filter(e=>"Bowl"===e.label).length)===0&&d.push({label:"Bowl",quantity:p.bowlCount}),p.puptainerCount>0&&(null==d?void 0:d.filter(e=>"Puptainer"===e.label).length)===0&&d.push({label:"Puptainer",quantity:p.puptainerCount}),(0,n.jsxs)(lt,{children:[(0,n.jsx)(li,{children:a}),u,null==d?void 0:d.map((e,t)=>(0,n.jsxs)(lr,{columns:2,hideBorderBottom:t!==d.length-1,smallMarginPadding:!0,firstMarginTop:0===t,lastPaddingBottom:t===d.length-1,children:[(0,n.jsxs)(lo,{children:["".concat(e.label),e.quantity>1&&" X".concat(e.quantity)]}),(0,n.jsx)(lo,{value:!0,color:"status.successPrimary",children:"FREE"})]},t)),(0,n.jsxs)(lr,{columns:2,hideBorderBottom:!0,smallMarginPadding:!0,firstMarginTop:!0,children:[(0,n.jsx)(lo,{children:"Subtotal:"}),(0,n.jsx)(lo,{value:!0,children:r})]}),!!o&&(0,n.jsxs)(lr,{columns:2,hideBorderBottom:!0,smallMarginPadding:!0,children:[(0,n.jsx)(lo,{children:"Taxes:"}),(0,n.jsx)(lo,{value:!0,children:o})]}),l&&(0,n.jsxs)(lr,{columns:2,hideBorderBottom:!0,smallMarginPadding:!0,children:[(0,n.jsx)(lo,{heading:!0,color:"status.successPrimary",children:"".concat(l.discountLabel," (").concat(l.discountText,")")}),(0,n.jsx)(lo,{value:!0,color:"status.successPrimary",children:"-".concat((0,ig.CT)(l.discountAmount))})]}),(0,n.jsxs)(lr,{columns:2,smallMarginPadding:!0,hideBorderBottom:!0,children:[(0,n.jsx)(ln,{children:"Total"}),(0,n.jsx)(ln,{children:i})]}),(0,n.jsx)(la,{children:(0,n.jsx)(ts.Qj,{href:"/account/",variant:"secondary",horizontalPadding:10,verticalPadding:4,onClick:c,children:"View full order details"})})]})};lC.displayName="SlimConfirmationOrderSummary",lC.propTypes={orderSummaryTitle:s().string,orders:s().arrayOf(s().shape({petName:s().string.isRequired,breeds:s().arrayOf(s().string.isRequired),price:s().string.isRequired,discountedPrice:s().string,pricePerPeriod:s().string.isRequired,weeksOfFood:s().number.isRequired,deliveryNext:s().string.isRequired,recipes:s().shape({fresh:s().arrayOf(s().string),dry:s().arrayOf(s().string)}).isRequired,addons:s().array,portionSize:s().string})).isRequired,orderTotalCost:s().string,orderSubtotal:s().string,orderTotalTax:s().string,pricingList:s().shape({discountLabel:s().string,discountText:s().string,discountAmount:s().string}),plans:s().arrayOf(s().shape({petId:s().string,petName:s().string,productType:s().string})),freeItems:s().arrayOf(s().shape({label:s().string.isRequired,quantity:s().number})),onClickAccount:s().func};var lj=i(73508);let lR=()=>({type:"View checkout confirmation page"}),l_=()=>({type:"Clicks View Account button"});var lP=i(98150);let lk=td.ZP.main.withConfig({componentId:"sc-53442e13-0"})(["min-height:100vh;overflow:hidden;background:",";"],e=>e.theme.colors.background.base),lq=td.ZP.div.withConfig({componentId:"sc-53442e13-1"})(["max-width:1280px;display:grid;grid-template-columns:1fr;grid-template-rows:repeat(3,auto);gap:",";@media ","{margin:",";}@media ","{margin:"," auto 72px;display:flex;flex-direction:row;gap:",";}"],e=>e.theme.spacing(8),e=>e.theme.tabletS,e=>e.theme.spacing(10,20),e=>e.theme.laptop,e=>e.theme.spacing(8),e=>e.theme.spacing(13)),lS=td.ZP.div.withConfig({componentId:"sc-53442e13-2"})(["grid-area:2 / 1 / 3 / 2;max-width:100vw;display:flex;flex-direction:column;align-items:center;padding:",";@media ","{width:75%;padding:0;}"],e=>e.theme.spacing(0,4),e=>e.theme.laptop),lI=td.ZP.div.withConfig({componentId:"sc-53442e13-3"})(["grid-area:1 / 1 / 2 / 2;display:flex;flex-direction:column;align-items:center;max-width:100vw;padding:",";@media ","{width:45%;padding:0;}@media ","{width:30%;}"],e=>e.theme.spacing(0,4),e=>e.theme.laptop,e=>e.theme.laptopL),lT=td.ZP.div.withConfig({componentId:"sc-53442e13-4"})(["display:block;grid-area:3 / 1 / 4 / 2;width:100%;margin-bottom:",";@media ","{width:auto;display:none;}"],e=>e.theme.spacing(16),e=>e.theme.laptop),lZ=td.ZP.div.withConfig({componentId:"sc-53442e13-5"})(["display:none;@media ","{display:block;}"],e=>e.theme.laptop),lB=td.ZP.div.withConfig({componentId:"sc-53442e13-6"})(["","{max-height:490px;img{object-fit:cover;}}","{position:absolute;left:0;top:45%;align-items:center;text-align:center;p{max-width:100vw;}padding:",";}@media ","{overflow:hidden;","{top:auto;bottom:0;}}@media ","{","{max-height:100%;padding:0;height:100%;img{max-height:100%;min-width:100vw;min-height:10px;}}","{position:static;text-align:left;align-items:start;padding:0;margin:",";max-width:496px;p{margin-bottom:0;}}}"],lP.Xd,lP.VY,e=>e.theme.spacing(0,4,2),e=>e.theme.mobileM,lP.VY,e=>e.theme.tabletS,lP.Xd,lP.VY,e=>e.theme.spacing(23,20,13)),lL=e=>{var t,i;let{hero:r,leftSideComponents:a,rightSideComponents:s,orderSummaryTitle:l}=e,{offer:d}=(0,o.useContext)(iL),u="week",{customer:p,isLoading:m}=(0,tL.Vq)(),{subscriptions:h,isLoading:g}=(0,s7.Pd)(),{pets:f,isLoading:y}=(0,tA.pT)({hasSubscription:!0}),{products:b,isLoading:x}=(0,tE.Vg)(g?null:s1()(h.map(e=>e.sku))),{data:v,isLoading:w}=(0,tK.yX)(),{orders:C,isLoading:j}=(0,oz.yi)(),R=null==C?void 0:C.map(e=>e.id),{orders:_,isLoading:P}=(0,oz.rB)(R),k=g||y||x||w||j||P||m,q=(0,c.Av)();if((0,o.useEffect)(()=>{k||q.tag(lR())},[q,k]),k)return(0,n.jsx)(oW.J,{});if(!k&&(0,s4.Z)(new Date,(0,sE.default)(null!==(t=null==C?void 0:C.reduce((e,t)=>e<t.date_created?e:t.date_created,C[0].date_created))&&void 0!==t?t:null))>=1)return(0,n.jsx)(N,{pet:f[0],children:(0,n.jsx)(oW.J,{})});let S=sM(f,h,_,b,v,u),I=[];for(let e=0;e<f.length;e++)I.push(null===(i=f[e])||void 0===i?void 0:i.name);let{subtotal:T,totalTax:Z,totalPrice:B}=sF(_),L=sK(_[0].delivery_date),A={headline:r.headline,subheadline:"".concat((()=>{let e=I.pop();return(null==I?void 0:I.length)?"".concat(I.join(", "),", and ").concat(e,"'s"):"".concat(e,"'s")})()," starter box is set to arrive on ").concat(L),cta:r.cta,ctaColor:r.ctaColor,image:r.image,backgroundColor:r.backgroundColor,fontColor:r.fontColor},{formattedPricingList:E,plans:K}=sz(d,_,f,b),F={orders:S,orderTotalCost:B,orderTotalTax:Z,orderSubtotal:T,orderSummaryTitle:l,period:u,pricingList:E,plans:K},O=null==s?void 0:s.find(e=>"free_items"===e.component);return(0,n.jsxs)(lk,{children:[(0,n.jsx)(lj.u,{links:s2.r,logoUrl:"/",logoSrText:"Ollie Logo",name:p.first_name}),(0,n.jsx)(lB,{children:(0,n.jsx)(s9.V,{...A})}),(0,n.jsxs)(lq,{children:[(0,n.jsx)(lS,{children:null==a?void 0:a.map((e,t)=>"confirmation_banner"===e.component?(0,n.jsx)(s3.e,{...e},t):"confirmation_poll"===e.component&&(0,n.jsx)(s5.H,{...e},t))}),s?(0,n.jsxs)(lI,{children:[(0,n.jsx)(lC,{...F,freeItems:O.items,onClickAccount:()=>q.tag(l_())}),(0,n.jsx)(lZ,{children:s.map((e,t)=>"get_social_component"===e.component&&(0,n.jsx)(s8.K,{...e},t))})]}):(0,n.jsx)(lC,{...F,onClickAccount:()=>q.tag(l_())}),s&&(0,n.jsx)(lT,{children:s.map((e,t)=>"get_social_component"===e.component&&(0,n.jsx)(s8.K,{...e},t))})]}),(0,n.jsx)(s6.$,{...el.lo})]})};lL.displayName="CheckoutConfirmation",lL.propTypes={headline:s().string.isRequired,orderSummaryTitle:s().string.isRequired,leftSideComponents:s().array.isRequired,rightSideComponents:s().array.isRequired};var lA=i(32390),lN={src:"/_next/static/media/WelcomeApp.9a462ef3.png",height:564,width:288,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAICAYAAADeM14FAAAAgklEQVR42iXI3Q6CIBQA4POevlKP5M8DNDGEUOGMCNikpS2XG5s3p7UuvpsPELFs2zMppQjRlGDMKLftRceRKUbXg/c3MacHsYsgKXsOMTi+rCsZtDRNA4cQfPdc/qH12EGMdzanRIz3dFWCgXM45PyhfX+TtXqAqmoKIeTpp66b4gvLW24MXU00xgAAAABJRU5ErkJggg==",blurWidth:4,blurHeight:8};let lE=td.ZP.div.withConfig({componentId:"sc-165e0f6b-0"})(["background:",";border-radius:",";padding:",";width:100%;display:flex;gap:",";margin-bottom:",";"," @media ","{border-radius:",";padding:",";max-width:900px;}"],e=>e.theme.colors.background.lightest,e=>e.theme.spacing(7),e=>e.theme.spacing(5,4),e=>e.theme.spacing(4),e=>e.theme.spacing(6),e=>e.theme.typography.body,e=>e.theme.tablet,e=>e.theme.spacing(8),e=>e.theme.spacing(12,14)),lK=td.ZP.div.withConfig({componentId:"sc-165e0f6b-1"})(["width:96px;height:188px;"]),lF=td.ZP.div.withConfig({componentId:"sc-165e0f6b-2"})(["flex:7;gap:",";"],e=>e.theme.spacing(2)),lO=td.ZP.h3.withConfig({componentId:"sc-165e0f6b-3"})(["color:",";margin-bottom:",";",""],e=>e.theme.colors.secondary.yam,e=>e.theme.spacing(3),e=>e.theme.typography.subheading1),lD=td.ZP.h2.withConfig({componentId:"sc-165e0f6b-4"})([""," margin-bottom:",";"],e=>e.theme.typography.heading4,e=>e.theme.spacing(2)),lM=td.ZP.p.withConfig({componentId:"sc-165e0f6b-5"})(["margin-bottom:",";",""],e=>e.theme.spacing(4),e=>e.theme.typography.body),lW=e=>{let{accessToken:t}=e;return(0,n.jsxs)(lE,{children:[(0,n.jsx)(lK,{children:(0,n.jsx)(ad(),{src:lN,alt:"Welcome To The Pack Image",width:96,height:188})}),(0,n.jsxs)(lF,{children:[(0,n.jsx)(lO,{children:"WELCOME TO THE PACK"}),(0,n.jsx)(lD,{children:"Log into your new Ollie account"}),(0,n.jsx)(lM,{children:"You’re amongst furry friends! Find more screenings, explore extras, and more in our app."}),(0,n.jsx)(ts.zx,{onClick:()=>{var e,i;return null===(i=window)||void 0===i?void 0:null===(e=i.ReactNativeWebView)||void 0===e?void 0:e.postMessage(JSON.stringify({type:"navigate",payload:{screen:"Sign In",accessToken:t}}))},minWidth:150,fullWidth:!0,hoverIcon:"",variant:"yam",children:"See Your Box"})]})]})};lW.propTypes={accessToken:s().string};let lV=td.ZP.div.withConfig({componentId:"sc-82f154ff-0"})(["display:flex;flex-direction:column;align-items:center;padding:",";background-color:",";@media ","{padding:",";}"],e=>{let{theme:t}=e;return t.spacing(0,4)},e=>e.theme.colors.background.base,e=>{let{theme:t}=e;return t.tablet},e=>{let{theme:t}=e;return t.spacing(8,0)}),lQ=td.ZP.div.withConfig({componentId:"sc-82f154ff-1"})(["display:flex;flex-direction:row;align-items:center;margin-bottom:",";"],e=>{let{theme:t}=e;return t.spacing(6)}),lz=td.ZP.div.withConfig({componentId:"sc-82f154ff-2"})(["margin-right:",";&:last-of-type{margin-right:0;}"],e=>{let{theme:t}=e;return t.spacing(4)}),lU=td.ZP.h1.withConfig({componentId:"sc-82f154ff-3"})(["margin-bottom:",";",";",";color:",";text-align:center;"],e=>{let{theme:t}=e;return t.spacing(2)},e=>{let{theme:t}=e;return t.fontFamily.base},e=>{let{theme:t}=e;return t.typography.heading3},e=>{let{theme:t}=e;return t.colors.text.secondary}),lX=td.ZP.h2.withConfig({componentId:"sc-82f154ff-4"})(["margin-bottom:",";",";",";color:",";text-align:center;"],e=>{let{theme:t}=e;return t.spacing(6)},e=>{let{theme:t}=e;return t.fontFamily.base},e=>{let{theme:t}=e;return t.typography.body},e=>{let{theme:t}=e;return t.colors.text.secondary}),lH=td.ZP.p.withConfig({componentId:"sc-82f154ff-5"})(["display:inline-flex;font-weight:bold;"]),lY=e=>{let{pets:t,customerName:i,deliveryDate:r}=e,o=[],a=[];for(let e=0;e<t.length;e++){var s,l;o.push(null===(s=t[e])||void 0===s?void 0:s.name),a.push(null===(l=t[e])||void 0===l?void 0:l.breeds)}return(0,n.jsxs)(lV,{children:[(0,n.jsx)(lQ,{children:a.map((e,t)=>(0,n.jsx)(lz,{children:(0,n.jsx)(ay.g,{breeds:e})},t))}),(0,n.jsxs)(lU,{children:["Thanks for your purchase, ",i,"!"]}),(0,n.jsxs)(lX,{children:[(()=>{let e=o.pop();return(null==o?void 0:o.length)?"".concat(o.join(", "),", and ").concat(e,"'s"):"".concat(e,"'s")})()," starter box is set to arrive on"," ",(0,n.jsx)(lH,{children:r}),"."]})]})};lY.displayName="ConfirmationHero",lY.propTypes={pets:s().arrayOf(s().shape({name:s().string.isRequired,breeds:s().arrayOf(s().string.isRequired)})).isRequired,customerName:s().string.isRequired,deliveryDate:s().string.isRequired};let lG=td.ZP.div.withConfig({componentId:"sc-d5b0fbe6-0"})(["background:",";padding:",";width:100%;@media ","{padding:",";}"],e=>e.theme.colors.neutral.bone,e=>{let{theme:t}=e;return t.spacing(16,4)},e=>{let{theme:t}=e;return t.tablet},e=>{let{theme:t}=e;return t.spacing(16,0)}),l$=td.ZP.div.withConfig({componentId:"sc-d5b0fbe6-1"})(["display:flex;align-items:center;flex-direction:column;max-width:750px;margin:0 auto;text-align:center;"]),lJ=td.ZP.div.withConfig({componentId:"sc-d5b0fbe6-2"})(["display:flex;flex-direction:row;align-items:center;justify-content:center;flex-wrap:wrap;width:100%;margin:",";@media ","{margin-bottom:",";}"],e=>{let{theme:t}=e;return t.spacing(6,0,8,0)},e=>{let{theme:t}=e;return t.tablet},e=>{let{theme:t}=e;return t.spacing(4)}),l0=td.ZP.h2.withConfig({componentId:"sc-d5b0fbe6-3"})([""," margin-bottom:",";"],e=>{let{theme:t}=e;return t.typography.subheading1},e=>{let{theme:t}=e;return t.spacing(2)}),l1=td.ZP.p.withConfig({componentId:"sc-d5b0fbe6-4"})(["",""],e=>{let{theme:t}=e;return t.typography.heading2}),l4=td.ZP.div.withConfig({componentId:"sc-b4eecc55-0"})(["width:50%;display:flex;align-items:center;justify-content:center;flex-direction:column;padding:",";@media ","{width:33%;padding:",";}"],e=>e.theme.spacing(3,0),e=>{let{theme:t}=e;return t.tablet},e=>{let{theme:t}=e;return t.spacing(6)}),l2=td.ZP.p.withConfig({componentId:"sc-b4eecc55-1"})(["",""],e=>{let{theme:t}=e;return t.typography.body}),l3=td.ZP.div.withConfig({componentId:"sc-b4eecc55-2"})(["height:75px;object-fit:contain;object-position:center;width:100%;margin-bottom:",";text-align:center;"],e=>{let{theme:t}=e;return t.spacing(4)}),l5=e=>{let{text:t,icon:i,alt:r}=e;return(0,n.jsxs)(l4,{children:[(0,n.jsx)(l3,{children:(0,n.jsx)(iz.t,{src:i,alt:r,width:75,height:75})}),(0,n.jsx)(l2,{children:t})]})};l5.displayName="AccountFeatureIcon",l5.propTypes={text:s().string.isRequired,icon:s().string.isRequired,alt:s().string.isRequired};let l6=e=>{let{headline:t,description:i,features:r,buttonText:a,viewAccountURL:s,onButtonClick:l}=e;return(0,n.jsx)(lG,{children:(0,n.jsxs)(l$,{children:[(0,n.jsx)(l0,{children:t}),(0,n.jsx)(l1,{children:i}),(0,n.jsx)(lJ,{children:r.map((e,t)=>(0,o.createElement)(l5,{...e,key:t}))}),(0,n.jsx)(ts.Qj,{href:s,variant:"secondary",horizontalPadding:20,verticalPadding:4,onClick:l,children:a})]})})};l6.displayName="AccountFeatures",l6.propTypes={headline:s().string.isRequired,description:s().string.isRequired,features:s().arrayOf(s().shape({text:s().string.isRequired})).isRequired,buttonText:s().string.isRequired,viewAccountURL:s().string.isRequired,onButtonClick:s().func};var l8=i(20176);let l9=td.ZP.div.withConfig({componentId:"sc-35d499da-0"})(["background:",";border-radius:",";padding:",";"," @media ","{border-radius:",";padding:",";max-width:900px;}"],e=>e.theme.colors.background.lightest,e=>e.theme.spacing(7),e=>e.theme.spacing(5,4),e=>e.theme.typography.body,e=>e.theme.tablet,e=>e.theme.spacing(8),e=>e.theme.spacing(12,14)),l7=td.ZP.h1.withConfig({componentId:"sc-35d499da-1"})(["",";text-align:center;margin-bottom:",";"],e=>e.theme.typography.heading2,e=>e.theme.spacing(2)),de=td.ZP.h1.withConfig({componentId:"sc-35d499da-2"})(["",";margin-top:",";margin-bottom:",";text-align:center;@media ","{margin-top:",";margin-bottom:",";}"],e=>e.theme.typography.heading2,e=>{let{theme:t}=e;return t.spacing(8)},e=>{let{theme:t}=e;return t.spacing(2)},e=>{let{theme:t}=e;return t.tablet},e=>{let{theme:t}=e;return t.spacing(20)},e=>{let{theme:t}=e;return t.spacing(2)}),dt=td.ZP.div.withConfig({componentId:"sc-35d499da-3"})(["margin-top:",";padding-bottom:",";border-bottom:1px solid ",";&:last-of-type{border:none;padding-bottom:0;}"," "," "," "," "," ",""],e=>e.theme.spacing(8),e=>e.theme.spacing(8),e=>{let{theme:t}=e;return t.colors.withAlpha("border.fur",.5)},e=>{let{hideBorderBottom:t,theme:i}=e;return t?(0,td.iv)(["border-bottom:none;"]):(0,td.iv)(["border-bottom:1px solid ",";"],i.colors.border.fur)},e=>{let{smallMarginPadding:t,theme:i}=e;return t&&(0,td.iv)(["margin-top:",";padding-bottom:",";"],i.spacing(1),i.spacing(1))},e=>{let{firstMarginTop:t,theme:i}=e;return t&&(0,td.iv)(["margin-top:",";"],i.spacing(8))},e=>{let{lastPaddingBottom:t,theme:i}=e;return t&&(0,td.iv)(["padding-bottom:",";"],i.spacing(8))},e=>{let{columns:t,mobileStacked:i}=e;return 2===t&&(0,td.iv)(["display:flex;justify-content:space-between;flex-direction:",";@media ","{flex-direction:row;}"],i?"column":"row",e=>{let{theme:t}=e;return t.tabletL})},e=>{let{columns:t}=e;return 3===t&&(0,td.iv)(["display:flex;flex-direction:column;@media ","{justify-content:space-between;flex-direction:row;}"],e=>{let{theme:t}=e;return t.tabletL})}),di=td.ZP.div.withConfig({componentId:"sc-35d499da-4"})(["flex:1;&:first-of-type{border-bottom:1px solid ",";padding-bottom:",";@media ","{border-bottom:none;padding-bottom:0;border-right:",";}}&:last-of-type{padding-top:",";@media ","{padding-top:0;}}"],e=>{let{theme:t}=e;return t.colors.withAlpha("border.fur",.5)},e=>{let{theme:t}=e;return t.spacing(8)},e=>{let{theme:t}=e;return t.tabletL},e=>{let{left:t,theme:i}=e;return t&&"1px solid ".concat(i.colors.withAlpha("border.fur",.5))},e=>{let{theme:t}=e;return t.spacing(8)},e=>{let{theme:t}=e;return t.tabletL}),dr=td.ZP.div.withConfig({componentId:"sc-35d499da-5"})(["margin-left:",";@media ","{margin-left:",";}"],e=>e.theme.spacing(0),e=>{let{theme:t}=e;return t.tabletL},e=>e.theme.spacing(14)),dn=td.ZP.h4.withConfig({componentId:"sc-35d499da-6"})(["position:relative;"," font-weight:bold;color:",";"],e=>{let{theme:t}=e;return t.typography.heading4},e=>e.theme.colors.text.secondary),da=td.ZP.h4.withConfig({componentId:"sc-35d499da-7"})(["color:",";",";",""],e=>e.color?e.theme.colors.get(e.color,e.theme.colors.text.primary):e.theme.colors.text.secondary,e=>e.value?e.theme.typography.bodyBold:e.theme.typography.body,e=>e.heading?e.theme.typography.subheading2:null),ds=td.ZP.p.withConfig({componentId:"sc-35d499da-8"})(["",";color:",";"],e=>{let{theme:t}=e;return t.typography.body},e=>e.theme.colors.text.secondary),dl=td.ZP.span.withConfig({componentId:"sc-35d499da-9"})(["height:100%;display:flex;align-items:center;margin-top:",";gap:",";"],e=>e.theme.spacing(3),e=>e.theme.spacing(4)),dd=(0,td.ZP)(dt).withConfig({componentId:"sc-4fd4501d-0"})(["align-items:center;@media ","{align-items:none;}> div:first-of-type{margin-bottom:",";@media ","{margin-right:",";}}"],e=>{let{theme:t}=e;return t.tablet},e=>{let{theme:t}=e;return t.spacing(3)},e=>{let{theme:t}=e;return t.tablet},e=>e.theme.spacing(6)),dc=td.ZP.div.withConfig({componentId:"sc-4fd4501d-1"})(["display:flex;justify-content:space-between;flex-direction:row;width:100%;"]),du=td.ZP.div.withConfig({componentId:"sc-4fd4501d-2"})(["flex-grow:1;"]),dp=td.ZP.div.withConfig({componentId:"sc-4fd4501d-3"})(["display:flex;gap:",";position:absolute;right:0;top:",";"],e=>e.theme.spacing(1),e=>e.theme.spacing(1)),dm=td.ZP.div.withConfig({componentId:"sc-4fd4501d-4"})([""," font-weight:bold;margin:",";"],e=>e.theme.typography.heading5,e=>e.theme.spacing(5,0,1)),dh=td.ZP.div.withConfig({componentId:"sc-4fd4501d-5"})([""," "," @media ","{","}"],e=>e.theme.typography.heading6,e=>{let{strikethrough:t}=e;return t?(0,td.iv)(["text-decoration:line-through;color:",";opacity:0.75;margin-right:0;@media ","{margin-right:",";}"],e=>{let{theme:t}=e;return t.colors.text.tertiary},e=>{let{theme:t}=e;return t.tablet},e=>{let{theme:t}=e;return t.spacing(3)}):(0,td.iv)(["font-weight:bold;color:",";"],e=>{let{theme:t}=e;return t.colors.text.secondary})},e=>{let{theme:t}=e;return t.tablet},e=>{let{theme:t,small:i}=e;return i?t.typography.heading6:t.typography.heading4}),dg=td.ZP.ul.withConfig({componentId:"sc-4fd4501d-6"})(["list-style-type:none;padding:0;"]),df=td.ZP.li.withConfig({componentId:"sc-4fd4501d-7"})(["position:relative;",";color:",";"],e=>e.theme.typography.body,e=>e.theme.colors.text.secondary),dy=(0,td.ZP)(dn).withConfig({componentId:"sc-4fd4501d-8"})(["position:relative;max-width:14rem;@media ","{max-width:32rem;}"],e=>{let{theme:t}=e;return t.tablet});td.ZP.div.withConfig({componentId:"sc-4fd4501d-9"})(["max-width:14rem;"]);let db=td.ZP.div.withConfig({componentId:"sc-4fd4501d-10"})(["position:relative;"]),dx=td.ZP.span.withConfig({componentId:"sc-4fd4501d-11"})(["text-decoration:line-through;color:",";@media ","{","}font-weight:normal;"],e=>e.theme.colors.status.errorPrimary,e=>{let{theme:t}=e;return t.tablet},e=>{let{theme:t,small:i}=e;return i?t.typography.heading6:t.typography.heading4}),dv=td.ZP.span.withConfig({componentId:"sc-4fd4501d-12"})(["color:",";"],e=>e.theme.colors.get(e.color,e.theme.colors.text.tertiary)),dw=e=>{let{key:t,product_name:i,quantity:r,product_type:o,price:a,discounted_price:s,period:l,pricePerPeriod:d}=e;return(0,n.jsx)(dg,{children:(0,n.jsxs)(df,{children:[(0,n.jsxs)("strong",{children:[i,": "]}),(0,n.jsx)(dv,{children:(0,tK.ff)(r,o)}),(0,n.jsxs)(dp,{children:[(0,n.jsx)(dx,{small:!0,children:a}),(0,n.jsxs)(dh,{small:!0,children:[s,"/ea."]}),d&&(0,n.jsxs)(dh,{children:[d,"/",l]})]})]},t)})};dw.displayName="StyledLi",dw.propTypes={key:s().string,product_name:s().string,quantity:s().string,product_type:s().string,price:s().string,discounted_price:s().string,period:s().string,pricePerPeriod:s().string};let dC=e=>{let{breeds:t,price:i,discountedPrice:r,period:o,pricePerPeriod:a,backgroundColor:s,title:l,summaryList:d,addons:c,starterBox:u,subscription:p}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(dd,{columns:3,children:[(0,n.jsx)(ay.g,{breeds:t,color:s,variant:"circle",fullBleed:!0}),(0,n.jsx)(dc,{children:(0,n.jsxs)(du,{children:[(0,n.jsxs)(db,{children:[(0,n.jsx)(dy,{children:l}),(0,n.jsxs)(dp,{children:[(0,n.jsx)(dx,{children:i}),(0,n.jsx)(dh,{children:r}),a&&(0,n.jsxs)(dh,{children:[a,"/",o]})]})]}),(0,n.jsxs)(dg,{children:[null==d?void 0:d.map((e,t)=>{let{label:i,content:r}=e;return u&&"Next Delivery"===i?null:(0,n.jsxs)(df,{children:[(0,n.jsxs)("strong",{children:[i,": "]}),r]},t)}),u&&!!(null==c?void 0:c.length)&&(0,n.jsx)(dm,{children:"Subscription Extras"}),u&&(null==c?void 0:c.map((e,t)=>{let{product_name:i,price:r,discounted_price:s,quantity:l,product_type:d}=e;return(0,n.jsx)(dw,{product_name:i,quantity:l,product_type:d,pricePerPeriod:a,period:o,price:r,discounted_price:s},t)}))]})]})})]}),p&&!!(null==c?void 0:c.length)&&(0,n.jsx)(dt,{children:(0,n.jsxs)(dg,{children:[(0,n.jsx)(dn,{children:"Extras"}),null==c?void 0:c.map((e,t)=>{let{product_name:i,price:r,quantity:o,product_type:a}=e;return(0,n.jsx)(dw,{product_name:i,quantity:o,product_type:a,discounted_price:r},t)})]})})]})};dC.displayName="SummaryItem",dC.propTypes={breeds:s().arrayOf(s().string.isRequired),price:s().string,discountedPrice:s().string,pricePerPeriod:s().string,period:s().string,backgroundColor:s().string.isRequired,title:s().string.isRequired,summaryList:s().arrayOf(s().shape({label:s().string.isRequired,content:s().string.isRequired})).isRequired,addons:s().array,starterBox:s().bool,subscription:s().bool};let dj={frequencyInWeeks:{label:"Frequency",content:e=>e<2?"Once a week":"Every ".concat(e," weeks")},deliveryNext:{label:"Next Delivery",content:e=>e}},dR={fresh:{label:"Fresh Recipes",content:le.i},dry:{label:"Baked Recipes",content:le.i}},d_=e=>{let{orders:t,deliveryAddress:i,cardNumberLastFour:r,cardBrand:o,wallet:a,deliveryDate:s,orderTotalCost:l,orderSubtotal:d,orderTotalTax:c,orderSummaryTitle:u,period:p,plans:m,pricingList:h}=e,{street:g,city:f,state:y,zip:b}=i,x=[],v=[],w=l8.Du[a||o.toLowerCase()];for(let[e,i]of t.entries()){let{petName:r,breeds:o,price:a,discountedPrice:s,pricePerPeriod:l,recipes:d,addons:c,portionSize:m,weeksOfFood:h}=i,g="".concat(aF.kS[h],"-week Starter Box");u=t.length>1?"Your Starter Box Orders":"Your Starter Box Order";let{fresh:f,dry:y}=d,b=(e+1)%2?"hero.blueberry":"secondary.carrot",w=(0,le.q)(d,dR).filter(e=>{let{content:t}=e;return""!==t}),C=(0,le.q)(i,dj);(null==f?void 0:f.length)>0&&(null==y?void 0:y.length)>0?w.unshift({label:"Meal Plan",content:"Mixed Bowl Plan"}):(null==f?void 0:f.length)>0&&m===aF.Y?w.unshift({label:"Meal Plan",content:"Half Fresh Plan"}):(null==f?void 0:f.length)>0?w.unshift({label:"Meal Plan",content:"Full Fresh Plan"}):(null==y?void 0:y.length)>0&&w.unshift({label:"Meal Plan",content:"Full Baked Plan"}),x.push((0,n.jsx)(dC,{title:"".concat(r,"'s ").concat(g),breeds:o,backgroundColor:b,summaryList:w,addons:c,price:a,discountedPrice:s,starterBox:!0},"starterBox-".concat(e))),v.push((0,n.jsx)(dC,{title:"".concat(r,"'s Subscription"),breeds:o,backgroundColor:b,summaryList:C,pricePerPeriod:l,period:p,addons:c,subscription:!0},"subscriptions-".concat(e)))}return(0,n.jsxs)(l9,{children:[(0,n.jsx)(l7,{children:u}),x,h&&m&&(0,n.jsx)(e=>{var t,i;let{pricingList:r,plans:o}=e,a=an(o);return(0,n.jsxs)(n.Fragment,{children:[null==r?void 0:null===(t=r.freeItems)||void 0===t?void 0:t.map((e,t)=>(0,n.jsxs)(dt,{columns:2,hideBorderBottom:!0,smallMarginPadding:!0,firstMarginTop:0===t,children:[(0,n.jsxs)(da,{children:["".concat(e.label+" "),o.length>1?"X".concat(o.length):null]}),(0,n.jsx)(da,{value:!0,color:"status.successPrimary",children:"FREE"})]},t)),0===a.puptainerCount?null:(0,n.jsxs)(dt,{columns:2,hideBorderBottom:!0,smallMarginPadding:!0,firstMarginTop:!(null==r?void 0:null===(i=r.freeItems)||void 0===i?void 0:i.length),children:[(0,n.jsxs)(da,{children:[r.puptainerLabel," ",a.puptainerCount>1?"X".concat(a.puptainerCount):null]}),(0,n.jsx)(da,{value:!0,color:"status.successPrimary",children:"FREE"})]}),0===a.scooperCount?null:(0,n.jsxs)(dt,{columns:2,hideBorderBottom:!0,smallMarginPadding:!0,children:[(0,n.jsxs)(da,{children:[r.scooperLabel," ",a.scooperCount>1?"X".concat(a.scooperCount):null]}),(0,n.jsx)(da,{value:!0,color:"status.successPrimary",children:"FREE"})]}),0===a.bowlCount?null:(0,n.jsxs)(dt,{columns:2,hideBorderBottom:!0,smallMarginPadding:!0,children:[(0,n.jsxs)(da,{children:[r.bowlLabel," ",a.bowlCount>1?"X".concat(a.bowlCount):null]}),(0,n.jsx)(da,{value:!0,color:"status.successPrimary",children:"FREE"})]}),(0,n.jsxs)(dt,{columns:2,smallMarginPadding:!0,lastPaddingBottom:!0,children:[(0,n.jsx)(da,{children:r.shippingLabel}),(0,n.jsx)(da,{value:!0,color:"status.successPrimary",children:"FREE"})]})]})},{pricingList:h,plans:m}),h&&(0,n.jsxs)(dt,{columns:2,hideBorderBottom:!0,smallMarginPadding:!0,firstMarginTop:!0,children:[(0,n.jsx)(da,{heading:!0,color:"status.successPrimary",children:"".concat(h.discountLabel," (").concat(h.discountText,")")}),(0,n.jsx)(da,{value:!0,color:"status.successPrimary",children:"-".concat((0,ig.CT)(h.discountAmount))})]}),(0,n.jsxs)(dt,{columns:2,hideBorderBottom:!0,smallMarginPadding:!0,firstMarginTop:!h,children:[(0,n.jsx)(da,{children:"Subtotal:"}),(0,n.jsx)(da,{value:!0,children:d})]}),!!c&&(0,n.jsxs)(dt,{columns:2,hideBorderBottom:!0,smallMarginPadding:!0,children:[(0,n.jsx)(da,{children:"Taxes:"}),(0,n.jsx)(da,{value:!0,children:c})]}),(0,n.jsxs)(dt,{columns:2,smallMarginPadding:!0,lastPaddingBottom:!0,children:[(0,n.jsx)(dn,{children:"Total"}),(0,n.jsx)(dn,{children:l})]}),(0,n.jsxs)(dt,{children:[(0,n.jsx)(dn,{children:"Billing Information"}),(0,n.jsx)(ds,{children:(0,n.jsxs)(dl,{children:[w,af()(o)," ending in •••• ",r]})})]}),(0,n.jsxs)(dt,{columns:2,mobileStacked:!0,children:[(0,n.jsxs)(di,{left:!0,children:[(0,n.jsx)(dn,{children:"Delivery Address"}),(0,n.jsx)(ds,{children:g}),(0,n.jsxs)(ds,{children:[f," ",y," ",b]})]}),(0,n.jsx)(di,{children:(0,n.jsxs)(dr,{children:[(0,n.jsx)(dn,{children:"Expected Delivery"}),(0,n.jsx)(ds,{children:s})]})})]}),(0,n.jsx)(de,{children:"Ongoing Subscription"}),v]})};d_.displayName="ConfirmationOrderSummary",d_.propTypes={orderSummaryTitle:s().string,orders:s().arrayOf(s().shape({petName:s().string.isRequired,breeds:s().arrayOf(s().string.isRequired),price:s().string.isRequired,discountedPrice:s().string,pricePerPeriod:s().string.isRequired,weeksOfFood:s().number.isRequired,deliveryNext:s().string.isRequired,recipes:s().shape({fresh:s().arrayOf(s().string),dry:s().arrayOf(s().string)}).isRequired,addons:s().array,portionSize:s().string})).isRequired,deliveryAddress:s().shape({street:s().string.isRequired,city:s().string.isRequired,state:s().string.isRequired,zip:s().string.isRequired}).isRequired,cardNumberLastFour:s().string.isRequired,cardBrand:s().string.isRequired,wallet:s().oneOf(["apple_pay","google_pay"]),deliveryDate:s().string.isRequired,period:s().string.isRequired,orderTotalCost:s().string,orderSubtotal:s().string,orderTotalTax:s().string,pricingList:s().shape({puptainerLabel:s().string.isRequired,shippingLabel:s().string.isRequired,scooperLabel:s().string.isRequired,bowlLabel:s().string,freeItems:s().arrayOf(s().shape({label:s().string}))}),plans:s().arrayOf(s().shape({petId:s().string,petName:s().string,productType:s().string}))};let dP=e=>{var t;let{headline:i,description:r,viewAccountURL:a,buttonText:s,features:l,splitPanels:d,orderSummaryTitle:u,pricingList:p}=e,{offer:m}=(0,o.useContext)(iL),h="week",{user:g}=(0,tZ.kP)(),{customer:f,isLoading:y}=(0,tL.Vq)(),{subscriptions:b,isLoading:x}=(0,s7.Pd)(),{pets:v,isLoading:w}=(0,tA.pT)(),{products:C,isLoading:j}=(0,tE.Vg)(x?null:s1()(b.map(e=>e.sku))),{data:R,isLoading:_}=(0,tK.yX)(),{orders:P,isLoading:k}=(0,oz.yi)(),q=null==P?void 0:P.map(e=>e.id),{orders:S,isLoading:I}=(0,oz.rB)(q),{address:T,isLoading:Z}=(0,tL.SF)(null==f?void 0:f.id),{payment:B,isLoading:L}=(0,sI.V7)(null==f?void 0:f.id),A=x||w||j||_||k||I||Z||y||L,E=(0,c.Av)();if((0,o.useEffect)(()=>{A||E.tag(lR())},[E,A]),A)return(0,n.jsx)(oW.J,{});if(!A&&(0,s4.Z)(new Date,(0,sE.default)(null!==(t=null==P?void 0:P.reduce((e,t)=>e<t.date_created?e:t.date_created,P[0].date_created))&&void 0!==t?t:null))>=1)return(0,n.jsx)(N,{pet:v[0],children:(0,n.jsx)(oW.J,{})});let K=sM(v,b,S,C,R,h),{subtotal:F,totalTax:O,totalPrice:D}=sF(S),M=sK(S[0].delivery_date),W={customerName:f.first_name,deliveryDate:M,pets:sD(v)},{formattedPricingList:V,plans:Q}=sQ(p,m,S,v,C),z={orders:K,deliveryAddress:sO(T),cardNumberLastFour:B.last_four_digits,wallet:B.wallet,cardBrand:B.brand,deliveryDate:M,orderTotalCost:D,orderTotalTax:O,orderSubtotal:F,orderSummaryTitle:u,period:h,pricingList:V,plans:Q};return(0,n.jsxs)(tc,{children:[(0,n.jsx)(lj.u,{links:s2.r,logoUrl:"/",logoSrText:"Ollie Logo",name:f.first_name}),(0,n.jsxs)(tu,{children:[(0,n.jsx)(tp,{children:(0,n.jsx)(lY,{...W})}),(0,n.jsxs)(th,{children:[(0,n.jsx)(lW,{accessToken:g.access_token}),(0,n.jsx)(d_,{...z})]}),(0,n.jsx)(tm,{children:(0,n.jsx)(l6,{headline:i,description:r,viewAccountURL:a,buttonText:s,features:l,onButtonClick:()=>E.tag(l_())})}),(0,n.jsx)(tg,{children:d.map((e,t)=>(0,n.jsx)(lA.l,{...e},t))})]}),(0,n.jsx)(s6.$,{...el.lo})]})};dP.displayName="AppConfirmation",dP.propTypes={headline:s().string.isRequired,description:s().string.isRequired,features:s().arrayOf(s().shape({text:s().string.isRequired})).isRequired,buttonText:s().string.isRequired,viewAccountURL:s().string.isRequired,splitPanels:s().arrayOf(s().object.isRequired).isRequired,orderSummaryTitle:s().string.isRequired,pricingList:s().shape({puptainerLabel:s().string.isRequired,shippingLabel:s().string.isRequired,scooperLabel:s().string.isRequired,bowlLabel:s().string,freeItems:s().arrayOf(s().shape({label:s().string}))})};let dk=td.ZP.div.withConfig({componentId:"sc-9f4cbed3-0"})(["background:",";display:flex;justify-content:center;padding:",";@media ","{padding:",";}"],e=>e.theme.colors.background.base,e=>e.theme.spacing(2,0),e=>e.theme.tablet,e=>e.theme.spacing(4,0,2)),dq=td.ZP.h3.withConfig({componentId:"sc-9f4cbed3-1"})([""," color:",""],e=>e.theme.typography.bodyBold,e=>e.theme.colors.text.secondary),dS=td.ZP.div.withConfig({componentId:"sc-9f4cbed3-2"})(["position:fixed;top:",";right:",";@media ","{right:",";}"],e=>e.theme.spacing(6),e=>e.theme.spacing(10),e=>e.theme.laptop,e=>e.theme.spacing(20)),dI=e=>{let{currentStep:t,totalSteps:i}=e,r=(0,n.jsx)(nL,{children:(0,n.jsx)(dS,{children:(0,n.jsx)(nA.B,{})})}),o=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(nF,{currentStep:t,totalSteps:i,labelText:"Signup step ".concat(t," of ").concat(i)}),(0,n.jsx)(dk,{children:(0,n.jsxs)(dq,{children:["Pup Quiz (",t,"/",i,")"]})})]});return(0,n.jsx)(nO.UP,{topSegment:o,rightSegment:r})};dI.displayName="QuizHeader",dI.propTypes={currentStep:s().number.isRequired,totalSteps:s().number.isRequired};let dT=td.ZP.form.withConfig({componentId:"sc-7ca9a9bd-0"})(["background:",";flex:1;display:grid;grid-gap:",";justify-items:center;padding:",";overflow:auto;margin-bottom:74px;"],e=>e.theme.colors.background.base,e=>e.theme.spacing(4),e=>e.theme.spacing(0,5)),dZ=td.ZP.p.withConfig({componentId:"sc-7ca9a9bd-1"})(["",";color:",";"],e=>e.theme.typography.body,e=>e.theme.colors.text.secondary),dB=td.ZP.div.withConfig({componentId:"sc-7ca9a9bd-2"})(["flex:1;display:grid;text-align:center;grid-gap:",";justify-items:center;margin:",";"],e=>e.theme.spacing(6),e=>e.theme.spacing(6,4,8)),dL=td.ZP.h3.withConfig({componentId:"sc-7ca9a9bd-3"})(["",";padding:",";margin:",";"],e=>e.theme.typography.heading3,e=>e.theme.spacing(2),e=>e.theme.spacing(2,0)),dA=td.ZP.div.withConfig({componentId:"sc-7ca9a9bd-4"})(["width:75%;margin:auto;"]),dN=td.ZP.h5.withConfig({componentId:"sc-7ca9a9bd-5"})(["",";"],e=>e.theme.typography.subheading1),dE=td.ZP.p.withConfig({componentId:"sc-7ca9a9bd-6"})(["",";"],e=>e.theme.typography.body),dK=et.Ry().shape({stoolType:et.Z_().nullable()}),dF=e=>{let{poopQuestionPrompt:t,subheadline:i,ctaText:r,goBack:a,onSubmit:s,responses:l,index:d,defaultValues:u,modal:p}=e,[m,h]=(0,o.useState)(!1),{handleSubmit:g,control:f,formState:{isSubmitting:y,isSubmitted:b},reset:x,getValues:v,setValue:w}=(0,iW.cI)({mode:"onChange",defaultValues:u,resolver:(0,iV.X)(dK)}),C=(0,c.Av)(),{customer:j}=(0,tL.Vq)(),R=async e=>{C.tag(G(d,"poop_type",j));let t=await s(e);tZ.fE.ifError(t,()=>setTimeout(()=>x(v(),{keepIsSubmitted:!1})))};return(0,n.jsxs)(dT,{onSubmit:g(R),children:[(0,n.jsxs)(iU,{$maxWidth:350,children:[(0,n.jsx)(i6,{prompt:t,subheadline:i,children:(0,n.jsx)(iW.Qr,{control:f,name:"stoolType",render:e=>{let{field:{ref:t,...i}}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(rp.Y,{...i,choices:l,direction:"column",name:"stoolType",legendText:"stool type",onClick:()=>w("stoolType",null)})})}})}),(0,n.jsx)(na.ZP,{onClick:()=>h(!0),children:(0,n.jsx)(dZ,{children:r})})]}),(0,n.jsx)(i1,{isBackButtonDisabled:y||b,isForwardButtonDisabled:y||b,onBackButtonClick:a,isForwardButtonLoading:y||b}),(0,n.jsx)(no.u,{ariaLabel:"About Poop Modal",shown:m,onCloseModal:()=>h(!1),children:(0,n.jsxs)(dB,{children:[(0,n.jsx)(dL,{children:p.heading}),p.options.map((e,t)=>(0,n.jsxs)(dA,{children:[(0,n.jsx)(dN,{children:e.title.toUpperCase()}),(0,n.jsx)(dE,{children:e.text})]},t))]})})]})};dF.displayName="PoopForm",dF.propTypes={poopQuestionPrompt:s().string.isRequired,subheadline:s().string,ctaText:s().string.isRequired,defaultValues:s().shape({stoolType:s().string}).isRequired,goBack:s().func.isRequired,onSubmit:s().func.isRequired,index:s().number.isRequired,modal:s().shape({heading:s().string.isRequired,options:s().arrayOf(s().shape({title:s().string.isRequired,text:s().string.isRequired}))}).isRequired,responses:s().arrayOf(s().shape({name:s().string.isRequired,value:s().string.isRequired})).isRequired};let dO=td.ZP.div.withConfig({componentId:"sc-9484987a-0"})(["height:100vh;display:flex;flex-direction:column;background:",";"],e=>e.theme.colors.background.base);td.ZP.div.withConfig({componentId:"sc-9484987a-1"})(["background:",";"],e=>e.theme.colors.background.base);let dD=td.ZP.main.withConfig({componentId:"sc-9484987a-2"})(["display:flex;flex-direction:column;flex:1;"]),dM=td.ZP.div.withConfig({componentId:"sc-9484987a-3"})(["height:100vh;display:flex;flex-direction:column;justify-content:center;background-color:",";background-image:url(",");background-attachment:local;background-size:cover;background-repeat:no-repeat;background-position-x:center;background-position-y:-75px;nav{background:transparent;}"],e=>e.theme.colors.background.base,n7),dW=td.ZP.div.withConfig({componentId:"sc-9484987a-4"})(["flex-grow:1;padding:",";display:flex;flex-direction:column;align-items:center;justify-content:center;"],e=>e.theme.spacing(0,4)),dV=e=>({pupName:null==e?void 0:e.name,pupGender:null==e?void 0:e.gender,pupPronounLowercase:(null==e?void 0:e.gender)==="Female"?"she":"he",pupPronounUppercase:(null==e?void 0:e.gender)==="Female"?"She":"He",pupStatusTermLowercase:(null==e?void 0:e.gender)==="Female"?"spayed":"neutered",pupStatusTermUppercase:(null==e?void 0:e.gender)==="Female"?"Spayed":"Neutered",pupStatusTermVerb:(null==e?void 0:e.gender)==="Female"?"spay":"neuter"}),dQ=e=>{let{stepNumber:t,children:i,steps:r=8}=e,{showModal:a,setShowModal:s}=(0,o.useContext)(iL);return(0,n.jsxs)(dO,{children:[(0,n.jsx)(dI,{currentStep:t,totalSteps:r}),(0,n.jsx)(dD,{children:i}),(0,n.jsx)(iD.G,{shown:a,headerText:"Hmm, something's not right.",errorMessage:"We weren't able to complete your request, please refresh the page and try again.",onCloseModal:()=>s(!1)})]})};dQ.propTypes={steps:s().number,stepNumber:s().number.isRequired,children:s().object.isRequired};let dz=e=>{let{planSelectionInfo:t,body:i,noRecipesInfo:r}=e,{productTypes:a,selectedPlanType:s,cartProduct:l,pet:d,returnToQuiz:c,goBack:u,send:m,service:h,pets:g,onClickDeletePet:f,pricePeriod:y,isAppSession:b,flags:{shortenedOnboardingQuizFlow:x}}=(0,o.useContext)(iL),v=(null==g?void 0:g.length)>1,w=x?L:S;if(iy(a))return(0,n.jsxs)(dO,{children:[(0,n.jsx)(Q.E,{}),(0,n.jsx)(iO.w,{...(0,D.s)(r,{pupName:null==d?void 0:d.name}),allergies:null==d?void 0:d.allergies.map(e=>{let{name:t}=e;return{label:t}}),onClick:()=>c(w),onClickDeletePet:v?()=>{f(d.id)}:null}),null==i?void 0:i.map(e=>(0,n.jsx)(p.n$,{content:e},e._uid))]});let{defaultProductType:C,unavailableProductTypes:j,subscriptionProducts:R}=(0,tE.C7)(a,l,s),_=a.mixed.starterBoxes.length?ib(a.mixed.starterBoxes[0].variants):null,P=a.fresh.starterBoxes.length?ib(a.fresh.starterBoxes[0].variants):null,k=a.half_fresh.starterBoxes.length?ib(a.half_fresh.starterBoxes[0].variants):null,q=a.dry.starterBoxes.length?ib(a.dry.starterBoxes[0].variants):null,I=(0,tE.wj)(y),T=(0,tE.wj)(y,{discounted:!0}),Z={pupName:d.name,mixedPricePerWeek:null==_?void 0:_[I],freshPricePerWeek:null==P?void 0:P[I],halfFreshPricePerWeek:null==k?void 0:k[I],bakedPricePerWeek:null==q?void 0:q[I],mixedDiscountPricePerWeek:null==_?void 0:_[T],freshDiscountPricePerWeek:null==P?void 0:P[T],halfFreshDiscountPricePerWeek:null==k?void 0:k[T],bakedDiscountPricePerWeek:null==q?void 0:q[T]},B=async e=>(m(tY.selectedPlanType({planType:e})),iR(h));return(0,n.jsx)(ot,{body:i,children:(0,n.jsx)(om,{...(0,D.s)(t,{pupName:d.name,pupCalories:parseInt(ij(R),10)}),planTypes:(0,D.s)(t.items,Z),collapsedPlanTypes:(0,D.s)(t.collapsedItems,Z),defaultPlanType:C,unavailablePlanTypes:j,returnToQuiz:c,goBack:b?null:u,onSubmit:B,period:y})})};dz.propTypes={planSelectionInfo:s().object.isRequired,body:s().array.isRequired,noRecipesInfo:s().object};let dU=e=>{var t;let{body:i,noRecipesInfo:r}=e,{customer:a,cart:s,setShowModal:l,treatProducts:d,supplementProducts:c,selectedExtras:u,reporter:m,productTypes:h,cartProduct:g,setLocalSelection:f,offer:y,pet:b,pet_id:x,cartApi:v,send:w,service:C,pets:j,onClickDeletePet:R,returnToQuiz:_,pricePeriod:P,goBack:k,isAppSession:q,isScreeningSession:I,mixedCaloriesPerDay:T,flags:{shortenedOnboardingQuizFlow:Z}}=(0,o.useContext)(iL),B=Z?L:S,A=(null==j?void 0:j.length)>1,N=d.filter(e=>e.product_recommended),E=iS(ej,d,c),K=[...E.filter(e=>!e.isAvailable).map(e=>e.sku)];if(iy(h))return(0,n.jsxs)(dO,{children:[(0,n.jsx)(Q.E,{}),(0,n.jsx)(iO.w,{...(0,D.s)(r,{pupName:null==b?void 0:b.name}),allergies:null==b?void 0:b.allergies.map(e=>{let{name:t}=e;return{label:t}}),onClick:()=>_(B),onClickDeletePet:A?()=>{R(b.id)}:null}),null==i?void 0:i.map(e=>(0,n.jsx)(p.n$,{content:e},e._uid))]});let F=async(e,t)=>(w(tY.selectedPlanType({planType:"mixed"})),w(tY.selectedRecipesWithExtras({recipes:e},{productTypes:h,cartProduct:g,cartApi:v,reporter:m,petId:x,setShowModal:l,setLocalSelection:f,addons:t})),[iR(C)]),O=(0,tE.Wj)(h.mixed),M={planTitle:"Mixed Plan",img:{src:"/_next/static/media/freshbeef-drybeef.5d4b1a8f.jpg",alt:"mixed bowl"},headline:"Starter Box",recipes:{fresh:["beef","chicken","pork"],dry:["beef","chicken"]},calories:T};return(0,n.jsx)(n9,{children:(0,n.jsx)(n8,{pupName:b.name,body:"Based on your answers, we have designed a plan that will work great for",onSubmit:F,ctaText:"Continue",checkoutBarHeadline:b.name+"'s Recommended Plan",defaultRecipes:M.recipes,period:P,savePercentText:"Save "+y.formattedAmount,getConfigFromRecipes:e=>{let t=(0,tE.Su)(O.variants),{price:i,discountedPrice:r}=iv(y,(0,tE.X3)(t,{fresh:e.fresh,dry:e.dry}),P);return{price:i,discountedPrice:r}},onPersonalizePlanClick:()=>{w(tY.toPlanSelection({customer:a,pet:b,pets:j,cart:s,productTypes:h}))},personalizePlanText:"or personalize your plan",extrasInfo:E,unavailableExtras:K,recommendedDentalSku:(null===(t=N[0])||void 0===t?void 0:t.sku)||" ",defaultExtras:u,onBackButtonClick:q||I?null:k,foodSectionProps:M,productHeadline:(null==O?void 0:O.weeks_of_food)+"-week starter box"})})};dU.propTypes={body:s().array,noRecipesInfo:s().object};let dX=e=>{let{planSelectionInfo:t,body:i,noRecipesInfo:r}=e,{reporter:a,productTypes:s,selectedPlanType:l,cartProduct:d,setShowModal:c,setLocalSelection:u,offer:m,pet:h,pet_id:g,cartApi:f,send:y,service:b,pets:x,onClickDeletePet:v,returnToQuiz:w,pricePeriod:C,goBack:j}=(0,o.useContext)(iL),R=(null==x?void 0:x.length)>1;if(iy(s))return(0,n.jsxs)(dO,{children:[(0,n.jsx)(Q.E,{}),(0,n.jsx)(iO.w,{...(0,D.s)(r,{pupName:null==h?void 0:h.name}),allergies:null==h?void 0:h.allergies.map(e=>{let{name:t}=e;return{label:t}}),onClick:w,onClickDeletePet:R?()=>{v(h.id)}:null}),null==i?void 0:i.map(e=>(0,n.jsx)(p.n$,{content:e},e._uid))]});let{defaultRecipes:_,product:P,unavailableRecipes:k}=(0,tE.Ii)(s[l],d,null),q=async e=>(y(tY.selectedFreshRecipes({recipes:e},{productTypes:s,cartProduct:d,cartApi:f,reporter:a,petId:g,setShowModal:c,setLocalSelection:u})),iR(b)),S=h.name.toUpperCase()+"'S "+P.weeks_of_food+"-WEEK STARTER BOX";return(0,n.jsx)(ot,{body:i,children:(0,n.jsx)(oj,{...(0,D.s)(t,{pupName:h.name,pupWeight:h.weight,pupAge:(0,tA.Ay)(h.birth_date),pupActivity:tW[h.activity_level],pupBreed:(0,tA.gp)(h.breeds),pupAllergies:h.allergies,numStarterBoxWeeks:(0,tE.E7)(s[l])}),checkoutBarHeadline:S,defaultRecipes:_,onSubmit:q,onBackButtonClick:j,unavailableRecipes:k,getConfigFromRecipes:e=>{if(!e.length)return{message:"Choose one or more recipes."};let t=(0,tE.Su)(P.variants),{price:i,discountedPrice:r}=iv(m,(0,tE.X3)(t,{fresh:e,dry:P.variants[0].recipes.dry}),C);return{price:i,discountedPrice:r}},period:C})})};dX.propTypes={planSelectionInfo:s().object.isRequired,body:s().array.isRequired,noRecipesInfo:s().object};let dH=e=>{let{planSelectionInfo:t,body:i}=e,{reporter:r,productTypes:a,selectedPlanType:s,selectedFreshRecipes:l,cartProduct:d,setShowModal:c,setLocalSelection:u,offer:p,pet:m,pet_id:h,cartApi:g,send:f,service:y,pricePeriod:b,goBack:x}=(0,o.useContext)(iL),{defaultRecipes:v,product:w,unavailableRecipes:C}=(0,tE.dU)(a[s],d),j=async e=>(f(tY.selectedBakedRecipes({recipes:e},{productTypes:a,cartProduct:d,cartApi:g,reporter:r,petId:h,setShowModal:c,setLocalSelection:u})),iR(y)),R=m.name.toUpperCase()+"'S "+w.weeks_of_food+"-WEEK STARTER BOX";return(0,n.jsx)(ot,{body:i,children:(0,n.jsx)(oI,{...(0,D.s)(t,{pupName:m.name,pupWeight:m.weight,pupAge:(0,tA.Ay)(m.birth_date),pupActivity:tW[m.activity_level],pupBreed:(0,tA.gp)(m.breeds),pupAllergies:m.allergies,numStarterBoxWeeks:(0,tE.E7)(a[s])}),checkoutBarHeadline:R,defaultRecipes:v,onSubmit:j,onBackButtonClick:x,unavailableRecipes:C,getConfigFromRecipes:e=>{if(!e.length)return{message:"Choose one or more recipes."};let t=(0,tE.Su)(w.variants),{price:i,discountedPrice:r}=iv(p,(0,tE.X3)(t,{dry:e,fresh:l}),b);return{price:i,discountedPrice:r}},period:b})})};dH.propTypes={planSelectionInfo:s().object.isRequired,body:s().array.isRequired};let dY=e=>{let{headline:t,subheadline:i,body:r,addonSections:a,modals:s,desktopCtaText:l}=e,{reporter:d,goBack:c,setShowModal:u,pet:p,pet_id:m,cartApi:h,send:g,selectedAddons:f,treatProducts:y,supplementProducts:b}=(0,o.useContext)(iL),x=(0,tN.ZV)(),v=y.filter(e=>!tz.includes(e.sku)||e.product_recommended),w=(e,t)=>e.find(e=>e.sku===t),C=a.map(e=>{let t=e.addons.map(e=>{let t=w("TR"===e.productType?v:b,e.sku);return t?(0,D.s)(e,{addonPrice:(0,tE.I1)(t.price),addonDiscount:(0,tE.I1)(t.discounted_price),petName:p.name,addonSavePercentage:x.formattedAmount}):null}).filter(Boolean);return{...e,addons:t}}),j=s.map(e=>{let t=w([...b,...v],e.sku);return t?(0,D.s)(e,{addonPrice:(0,tE.I1)(t.price),addonDiscount:(0,tE.I1)(t.discounted_price),addonSavePercentage:x.formattedAmount}):null}).filter(Boolean),R=[...v.filter(e=>!e.product_available).map(e=>e.sku),...b.filter(e=>!e.product_available).map(e=>e.sku)],_=async()=>{let e=f.filter(e=>R.find(t=>t===e.sku)),t=tZ.fE.success();e.length>0&&(t=await tZ.fE.flatMapAsync(t,()=>h.removeFromCart({addons:e}))),tZ.fE.match(t,{success:()=>{g(tY.toCheckout())},error:{client:e=>{d.error(e.original),u(!0)},server:()=>u(!0)}})},P=async e=>{let t=f.filter(t=>!e.find(e=>e.sku===t.sku)||R.find(e=>e===t.sku)),i=tZ.fE.success();return t.length>0&&(i=await tZ.fE.flatMapAsync(i,()=>h.removeFromCart({addons:t}))),e.length>0&&(i=await tZ.fE.flatMapAsync(i,()=>h.addAddonsToCart({pet_id:m,addons:e.map(e=>({sku:e.sku,frequency:e.frequency,quantity:e.quantity,recurrence:e.recurrence}))}))),tZ.fE.match(i,{success:()=>{g(tY.toCheckout())},error:{client:e=>{d.error(e.original),u(!0)},server:()=>u(!0)}}),i};return(0,n.jsx)(ot,{body:r,children:(0,n.jsx)(oO,{headline:(0,D.s)(t,{pupName:p.name}),subheadline:i,addonSections:C,defaultAddons:f,unavailableAddons:R,onSubmit:P,onSkipButtonClick:_,onBackButtonClick:c,submitButtonText:l,modals:j})})};dY.propTypes={headline:s().string,subheadline:s().string,body:s().array,addonSections:s().array,desktopCtaText:s().string,modals:s().array};let dG={[tX.userInfo]:e=>{let{customer:t,pet:i,send:r,getCustomer:a,updateCustomer:s,goToLogin:l,reporter:d,setShowModal:c,petsApi:u,cartApi:p,quizStepNumbers:m,savePet:h,goBack:g,deleteLocalPet:f,setReturningCustomerWithMealPlan:y}=(0,o.useContext)(iL),{service:b}=(0,tZ.kP)(),x={firstName:t.first_name||"",email:t.email||""},v=async e=>{var i;let{firstName:r,email:n}=e;if(t.id)try{let e=await s({first_name:r,email:n});return{action:201===e.status?"create":"update",customer:e.data}}catch(e){if("emailConflict"!==(0,tZ.nZ)(e).error.type)throw e}await b.register(r,n);let o=await a(null==b?void 0:null===(i=b.user)||void 0===i?void 0:i.id);return{action:b.user.is_new?"create":"update",customer:o.data}},w=async e=>{let t;try{let r=await v(e);if("update"===r.action){var n;let e;let t=await h(i),o=await u.listPets(),a=await p.refreshCart(),s=a.payload.line_items;o.data.results.length&&(e=o.data.results.filter(e=>{if(e.id===t.data.id)return!0;let i=s.find(t=>t.pet_id===e.id);return e.id===(null==i?void 0:i.pet_id)}));let l=null===(n=a.payload)||void 0===n?void 0:n.line_items.filter(e=>{let{subscription:t}=e;return(null==t?void 0:t.sku)!==""});(null==l?void 0:l.length)&&y(!0),r={...r,inProcessPet:t.data,pets:e,cart:a.payload}}else{let e=await h(i),t=await p.refreshCart();r={...r,pet:e.data,cart:t.payload}}t=tZ.fE.success(r)}catch(e){t=(0,tZ.nZ)(e)}return tZ.fE.match(t,{success:async e=>{var t,i,n,o;null==f||f();let a=e.pet?[e.pet]:[];r(tY.customerInfoSaved({customer:e.customer,pet:null!==(i=null!==(t=e.inProcessPet)&&void 0!==t?t:e.pet)&&void 0!==i?i:{},pets:null!==(n=e.pets)&&void 0!==n?n:a,cart:null!==(o=e.cart)&&void 0!==o?o:null}))},error:{client:e=>d.error(e.original),existingCustomer:()=>l(),server:()=>c(!0)}}),t},C={...(0,D.s)(e,dV(i)),index:0};return(0,n.jsx)(dQ,{stepNumber:m.userInfo,children:(0,n.jsx)(rc,{defaultValues:x,onSubmit:w,goBack:g,petName:null==i?void 0:i.name,...C})})},[tX.pupInfo]:e=>{let{pet:t,savePet:i,send:r,goToLogin:a,reporter:s,setShowModal:l,quizStepNumbers:d}=(0,o.useContext)(iL),c={gender:t.gender,name:t.name},u=async e=>{let t,n,{gender:o,name:d}=e;try{let e=await i({gender:o,name:d});n={action:201===e.status?"create":"update",pet:e.data},t=tZ.fE.success(n)}catch(e){t=(0,tZ.nZ)(e)}return tZ.fE.match(t,{success:async e=>{r(tY.toBirthday({pet:e.pet}))},error:{client:e=>s.error(e.original),existingCustomer:()=>a(),server:()=>l(!0)}}),t},p={...(0,D.s)(e,dV(t)),index:1};return(0,n.jsx)(dQ,{stepNumber:d.pupInfo,children:(0,n.jsx)(rg,{...p,defaultValues:c,onSubmit:u,goBack:()=>F().push("/")})})},[tX.birthday]:e=>{var t,i;let{pet:r,savePet:a,send:s,goBack:l,goToLogin:d,reporter:c,setShowModal:u,quizStepNumbers:p}=(0,o.useContext)(iL),[m,h,g]=null!==(i=null===(t=r.birth_date)||void 0===t?void 0:t.split("-"))&&void 0!==i?i:["","",""],f=async e=>{let t,i,{year:r,month:n,day:o}=e,l="".concat(r,"-").concat(n,"-").concat(+o||1);try{let e=await a({birth_date:l});i={action:"update",pet:e.data},t=tZ.fE.success(i)}catch(e){t=(0,tZ.nZ)(e)}return tZ.fE.match(t,{success:async e=>{s(tY.toBreed({pet:e.pet}))},error:{client:e=>c.error(e.original),existingCustomer:()=>d(),server:()=>u(!0)}}),t},y={...(0,D.s)(e,dV(r)),index:2};return(0,n.jsx)(dQ,{stepNumber:p.birthday,children:(0,n.jsx)(rw,{defaultValues:{year:m,month:h,day:g},onSubmit:f,goBack:l,...y})})},[tX.breed]:e=>{var t,i;let{pet:r,savePet:a,send:s,goBack:l,goToLogin:d,reporter:c,setShowModal:u,quizStepNumbers:p,isLocalPet:m}=(0,o.useContext)(iL),h={breeds:null!==(i=null===(t=r.breeds)||void 0===t?void 0:t.map(e=>({value:e.id,label:e.name})))&&void 0!==i?i:[]},g=async e=>{let t,i,{breeds:r}=e,n=r.map(e=>m?{id:e.value,name:e.label}:e.value);try{let e=await a({breeds:n});i={action:"update",pet:e.data},t=tZ.fE.success(i)}catch(e){t=(0,tZ.nZ)(e)}return tZ.fE.match(t,{success:async e=>{s(tY.toCalories({pet:e.pet}))},error:{client:e=>c.error(e.original),existingCustomer:()=>d(),server:()=>u(!0)}}),t},f={...(0,D.s)(e,dV(r)),index:3};return(0,n.jsx)(dQ,{stepNumber:p.breeds,children:(0,n.jsx)(r_,{defaultValues:h,onSubmit:g,goBack:l,...f})})},[tX.calories]:e=>{let{pet:t,savePet:i,send:r,goBack:a,goToLogin:s,reporter:l,setShowModal:d,quizStepNumbers:c}=(0,o.useContext)(iL),u={weight:t.weight,idealWeight:t.ideal_weight,spayedStatus:t.is_neutered},p=async e=>{let t,n,{weight:o,idealWeight:a,spayedStatus:c}=e;try{let e=await i({ideal_weight:a,weight:o,is_neutered:c});n={action:"update",pet:e.data},t=tZ.fE.success(n)}catch(e){t=(0,tZ.nZ)(e)}return tZ.fE.match(t,{success:async e=>{r(tY.toActivity({pet:e.pet}))},error:{client:e=>l.error(e.original),existingCustomer:()=>s(),server:()=>d(!0)}}),t},m={...(0,D.s)(e,dV(t)),index:4},h=(0,iN.default)((0,iE.default)(t.birth_date,"yyyy-MM-dd",new Date),(0,iK.default)(Date.now(),12));return(0,n.jsx)(dQ,{stepNumber:c.calories,children:(0,n.jsx)(rI,{defaultValues:u,onSubmit:p,goBack:a,...m,isPuppy:h})})},[tX.activity]:e=>{let{pet:t,savePet:i,send:r,goBack:a,goToLogin:s,reporter:l,setShowModal:d,quizStepNumbers:c}=(0,o.useContext)(iL),u={activity:t.activity_level},p=async e=>{let t,n,{activity:o}=e;try{let e=await i({activity_level:o});n={action:"update",pet:e.data},t=tZ.fE.success(n)}catch(e){t=(0,tZ.nZ)(e)}return tZ.fE.match(t,{success:async e=>{r(tY.toAllergies({pet:e.pet}))},error:{client:e=>l.error(e.original),existingCustomer:()=>s(),server:()=>d(!0)}}),t},m={...(0,D.s)(e,dV(t)),index:5};return(0,n.jsx)(dQ,{stepNumber:c.activity,children:(0,n.jsx)(rQ,{defaultValues:u,onSubmit:p,goBack:a,...m})})},[tX.allergies]:e=>{var t,i;let{customer:r,pet:a,savePet:s,cart:l,goBack:d,goToLogin:c,reporter:u,setShowModal:p,send:m,petsApi:h,isLocalPet:g,quizStepNumbers:f}=(0,o.useContext)(iL),y={allergies:null!==(i=null===(t=a.allergies)||void 0===t?void 0:t.map(e=>{let{id:t,name:i}=e;return{label:i,value:t}}))&&void 0!==i?i:[]},b=async e=>{let t,i,{allergies:n}=e,o=n.map(e=>{let{value:t,label:i}=e;return g?{id:t,name:i}:t});try{let e;let r=await s({allergies:o});e=g?{data:[r.data]}:await h.listPets(),i={action:"update",pet:r.data,pets:null==e?void 0:e.data.results},t=tZ.fE.success(i)}catch(e){t=(0,tZ.nZ)(e)}return tZ.fE.match(t,{success:async e=>{m(tY.toPoop({customer:r,pet:e.pet,cart:l,...e.pets&&{pets:e.pets}}))},error:{client:e=>u.error(e.original),existingCustomer:()=>c(),server:()=>p(!0)}}),t},x={...(0,D.s)(e,dV(a)),index:6};return(0,n.jsx)(dQ,{stepNumber:f.allergies,children:(0,n.jsx)(r3,{defaultValues:y,onSubmit:b,goBack:d,...x})})},[tX.poop]:e=>{var t;let{pet:i,savePet:r,send:a,cart:s,customer:l,goBack:d,goToLogin:c,pets:u,reporter:p,setShowModal:m,quizStepNumbers:h}=(0,o.useContext)(iL),g={stoolType:null!==(t=i.stool_type)&&void 0!==t?t:null},f=async e=>{let t,i,{stoolType:n}=e;try{let e=await r({stool_type:n});i={action:"update",pet:e.data},t=tZ.fE.success(i)}catch(e){t=(0,tZ.nZ)(e)}return tZ.fE.match(t,{success:async e=>{a(tY.toPlanSelection({customer:l,pets:u,pet:e.pet,cart:s}))},error:{client:e=>p.error(e.original),existingCustomer:()=>c(),server:()=>m(!0)}}),t},y={...(0,D.s)(e,dV(i)),index:7};return(0,n.jsx)(dQ,{stepNumber:h.poop,children:(0,n.jsx)(dF,{defaultValues:g,onSubmit:f,goBack:d,...y})})},[tX.recommendedPlan]:dU,[tX.planSelection]:dz,[tX.fresh]:dX,[tX.baked]:dH,[tX.addons]:dY,[tX.checkout]:e=>{let{clientSecret:t,stripePromise:i}=(0,o.useContext)(iM.Hz);return(0,n.jsx)(c.YO,{prefix:"Checkout",children:t&&(0,n.jsx)(iF.Elements,{stripe:i,options:{clientSecret:t,appearance:{theme:"stripe",variables:{colorBackground:"#F4F4EC"},rules:{".Input":{backgroundColor:"#FFF"},".AccordionItem":{border:"none",boxShadow:"none"}}},fonts:[{family:"Founders Grotesk",src:"url(/fonts/founders-grotesk-web-regular.woff2) format('woff')"}]},children:(0,n.jsx)(sJ,{...e})})})},[tX.confirmation]:e=>(0,n.jsx)(c.YO,{prefix:"Confirmation",children:(0,n.jsx)(lL,{...e})}),[tX.appConfirmation]:e=>(0,n.jsx)(c.YO,{prefix:"AppConfirmation",children:(0,n.jsx)(dP,{...e})}),[tX.about]:()=>{var e,t,i,r;let{pet:a,savePet:s,send:l,goToLogin:d,reporter:c,setShowModal:u,quizStepNumbers:p,isLocalPet:m}=(0,o.useContext)(iL),[h,g,f]=null!==(i=null===(e=a.birth_date)||void 0===e?void 0:e.split("-"))&&void 0!==i?i:["","",""],y={defaultValuesGender:{gender:a.gender,name:a.name},defaultValuesBirthday:{year:h,month:g,day:f},defaultValuesBreeds:{breeds:null!==(r=null===(t=a.breeds)||void 0===t?void 0:t.map(e=>({value:e.id,label:e.name})))&&void 0!==r?r:[]},defaultValuesCalories:{weight:a.weight,idealWeight:a.ideal_weight,spayedStatus:a.is_neutered}},b=async e=>{let t,i,{gender:r,name:n,year:o,month:a,day:p,breeds:h,weight:g,idealWeight:f,spayedStatus:y}=e,b="".concat(o,"-").concat(a,"-").concat(+p||1),x=(null==h?void 0:h.map(e=>m?{id:e.value,name:e.label}:e.value))||[];try{let e=await s({gender:r,name:n,birth_date:b,breeds:x,ideal_weight:f,weight:g,is_neutered:y});i={action:201===e.status?"create":"update",pet:e.data},t=tZ.fE.success(i)}catch(e){t=(0,tZ.nZ)(e)}return tZ.fE.match(t,{success:async e=>{l(tY.toNutrition({pet:e.pet}))},error:{client:e=>c.error(e.original),existingCustomer:()=>d(),server:()=>u(!0)}}),t};return(0,n.jsx)(dQ,{stepNumber:p.about,steps:2,children:(0,n.jsx)(nn,{...eR,...y,onSubmit:b,goBack:()=>F().push("/")})})},[tX.nutrition]:()=>{var e,t,i,r;let{pet:a,savePet:s,send:l,goBack:d,goToLogin:c,reporter:u,setShowModal:p,quizStepNumbers:m,customer:h,getCustomer:g,updateCustomer:f,isLocalPet:y,cartApi:b,petsApi:x,deleteLocalPet:v}=(0,o.useContext)(iL),{service:w}=(0,tZ.kP)(),C={activity:null!==(t=a.activity_level)&&void 0!==t?t:null,allergies:null!==(i=null===(e=a.allergies)||void 0===e?void 0:e.map(e=>{let{id:t,name:i}=e;return{label:i,value:t}}))&&void 0!==i?i:[],stoolType:null!==(r=a.stool_type)&&void 0!==r?r:null,firstName:h.first_name||"",email:h.email||""},j="What is ".concat(a.name,"'s typical stool situation?"),R=async e=>{var t;let{firstName:i,email:r}=e;if(h.id)try{let e=await f({first_name:i,email:r});return{action:201===e.status?"create":"update",customer:e.data}}catch(e){if("emailConflict"!==(0,tZ.nZ)(e).error.type)throw e}await w.register(i,r);let n=await g(null==w?void 0:null===(t=w.user)||void 0===t?void 0:t.id);return{action:w.user.is_new?"create":"update",customer:n.data}},_=async e=>{let t,{activity:i,stoolType:r,allergies:n,firstName:o,email:d}=e,m=n.map(e=>{let{value:t,label:i}=e;return y?{id:t,name:i}:t});try{let e=await R({firstName:o,email:d});if("update"===e.action){let t,i;let r=await x.listPets();if(r.data.results.length){var h;i=r.data.results,t=null!==(h=r.data.results.find(e=>!t5(e)))&&void 0!==h?h:r.data.results[0]}let n=await b.refreshCart();e={...e,inProcessPet:t,pets:i,cart:n.payload}}else{let t=await s({...a,activity_level:i,stool_type:r,allergies:m}),n=await b.refreshCart();e={...e,pet:t.data,cart:n.payload}}t=tZ.fE.success(e)}catch(e){t=(0,tZ.nZ)(e)}return tZ.fE.match(t,{success:async e=>{var t,i,r,n;null==v||v();let o=e.pet?[e.pet]:[];l(tY.customerInfoSaved({customer:e.customer,pet:null!==(i=null!==(t=e.inProcessPet)&&void 0!==t?t:e.pet)&&void 0!==i?i:{},pets:null!==(r=e.pets)&&void 0!==r?r:o,cart:null!==(n=e.cart)&&void 0!==n?n:null}))},error:{client:e=>u.error(e.original),existingCustomer:()=>c(),server:()=>p(!0)}}),t};return(0,n.jsx)(dQ,{stepNumber:m.nutrition,steps:2,children:(0,n.jsx)(nb,{defaultValues:C,onSubmit:_,goBack:d,poopQuestionPrompt:j,...e_})})}},d$=e=>{var t;return W().isAxiosError(e)&&(null===(t=e.response)||void 0===t?void 0:t.status)>=500},dJ=e=>{var t;let{content:i}=e,r=tv(i),{pet_id:a,pet:s,pets:l,customer:d,cart:u,send:p,stateKey:m,service:h,planApiError:y,offer:v,isValidating:w,productIsLoading:C,petIsLoading:j,personalizedPlan:R,isAppSession:_}=(0,o.useContext)(iL),[P,k]=(0,o.useState)(!1),q=(0,c.Av)(),S=(0,K.useRouter)(),I=(0,O.useSearchParams)(),[T,Z]=null!==(t=S.query.path)&&void 0!==t?t:[],B=Z?"".concat(T,"/").concat(Z):T,L=(0,o.useRef)({component:V.J,props:{}}),A=(0,o.useRef)(!1),N=(0,o.useRef)(!1);if((0,o.useEffect)(()=>{q.tag(H())},[]),(0,o.useEffect)(()=>{N.current&&!P&&setTimeout(()=>{k(!0)},100)},[P]),z(A,_,m,t0,a,k),(0,o.useEffect)(()=>{let e=(e,t)=>{let{browserInitiated:i}=t;A.current=!0;let r=(0,E.parse)(e),n=iP(r.pathname,tM);if(m!==n){let e=tG[n];if(i&&(e=ik(n,h)),n===tX.pupInfo||n===tX.about){let t=S.asPath.includes(x);e&&p(e({pets:l,pet_id:t?"new_pet":"",pet:{},cart:u,customer:d}))}else{var o;let t=null!==(o=new URLSearchParams(r.query).get("pet_id"))&&void 0!==o?o:a;e&&p(e({pets:l,pet:s,pet_id:t,cart:u,customer:d}))}}},t=e=>{let t=S.asPath;N.current=(t.includes(x)||t.includes(f)||t.includes(b))&&(e.includes(g)||e.includes(f))};return S.events.on("routeChangeStart",e),S.events.on("beforeHistoryChange",t),S.beforePopState(t=>{let{as:i}=t;return e(i,{browserInitiated:!0}),q.tag($(m)),!0}),()=>{S.events.off("routeChangeStart",e),S.events.off("beforeHistoryChange",t),S.beforePopState(()=>!0)}},[u,d,s,a,l,q,S,I,p,h,m]),"redirect_route"===r.component||m===tX.initial)return(0,n.jsx)(V.J,{});if(d$(y))return(0,n.jsx)(V.J,{variant:"failed"});let F=dG[m];if(B===m&&F||m===tX.initial?L.current={component:F,props:r}:(F=L.current.component,r=L.current.props),(m===tX.planSelection||m===tX.recommendedPlan)&&B===m&&!R){if((w||j)&&N.current)return(0,n.jsx)(V.J,{});if(!P&&!N.current)return(0,n.jsx)(c.YO,{prefix:"Onboarding",children:(0,n.jsxs)(dM,{children:[(0,n.jsx)(Q.E,{}),(0,n.jsx)(dW,{children:(0,n.jsx)(tT,{messages:(0,D.s)(r.planLoaderMessages,{discount:v.formattedAmount,pupName:(null==s?void 0:s.name)||"your pup"}),onClick:()=>{k(!0)},buttonText:r.planLoaderButtonText,isLoading:C||w})})]})})}return(0,n.jsx)(F,{...r})};dJ.displayName="OnboardingFlow",dJ.propTypes={content:s().object.isRequired,component:s().string,noRecipesInfo:s().object,planLoaderMessages:s().arrayOf(s().object),planLoaderButtonText:s().string,body:s().arrayOf(s().shape({_uid:s().string}))};let d0=e=>{let{content:t}=e;return(0,n.jsx)(iA,{children:(0,n.jsx)(dJ,{content:t})})};d0.displayName="OnboardingFlowContainer",d0.propTypes={content:s().object.isRequired};let d1=e=>{let{...t}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d(),{children:(0,n.jsx)("script",{type:"text/javascript",src:"".concat(u.c.AWS_WAF_CHALLENGE_INTEGRATION_URL),defer:!0})}),(0,n.jsxs)(c.YO,{prefix:"Onboarding",children:[(0,n.jsx)(p.sB,{content:t.content}),(0,n.jsx)(d0,{...t})]})]})};d1.displayName="OnboardingPage",d1.propTypes={content:s().object.isRequired};var d4=!0,d2=d1},40986:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return a}});var r=i(49621),n=i(47732),o=i(88070);function a(e,t){(0,o.Z)(2,arguments);var i=(0,r.Z)(t);return(0,n.default)(e,-i)}},95631:function(e,t,i){"use strict";i.d(t,{II:function(){return o.I},bL:function(){return r.b},rj:function(){return n.r}});var r=i(72400),n=i(75989),o=i(92689)},82465:function(e,t,i){"use strict";i.d(t,{E:function(){return r.EX}});var r=i(23687)},75475:function(e,t,i){"use strict";i.d(t,{r:function(){return r.r_}});var r=i(74193)},22503:function(e,t,i){"use strict";i.d(t,{u:function(){return r.u}});var r=i(21972)},92117:function(e,t){"use strict";var i=/ *(?:p\.?\s*o\.?|(post|postal)\s+(office|))(\s+)?(?:box|[0-9]*)? *(number|num|no)? *\d+/igm;t.cd=function(e){return new RegExp(i).test(e)}},29056:function(e,t,i){var r;r=function(e){return function(e){function t(r){if(i[r])return i[r].exports;var n=i[r]={exports:{},id:r,loaded:!1};return e[r].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),o=i(6),a=r(o),s=r(i(4)),l={className:s.default.string,onloadCallbackName:s.default.string,elementID:s.default.string,onloadCallback:s.default.func,verifyCallback:s.default.func,expiredCallback:s.default.func,render:s.default.oneOf(["onload","explicit"]),sitekey:s.default.string,theme:s.default.oneOf(["light","dark"]),type:s.default.string,verifyCallbackName:s.default.string,expiredCallbackName:s.default.string,size:s.default.oneOf(["invisible","compact","normal"]),tabindex:s.default.string,hl:s.default.string,badge:s.default.oneOf(["bottomright","bottomleft","inline"])},d=function(){return"undefined"!=typeof window&&void 0!==window.grecaptcha&&"function"==typeof window.grecaptcha.render},c=void 0,u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i._renderGrecaptcha=i._renderGrecaptcha.bind(i),i.reset=i.reset.bind(i),i.state={ready:d(),widget:null},i.state.ready||"undefined"==typeof window||(c=setInterval(i._updateReadyState.bind(i),1e3)),i}return function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentDidMount",value:function(){this.state.ready&&this._renderGrecaptcha()}},{key:"componentDidUpdate",value:function(e,t){var i=this.props,r=i.render,n=i.onloadCallback;"explicit"===r&&n&&this.state.ready&&!t.ready&&this._renderGrecaptcha()}},{key:"componentWillUnmount",value:function(){clearInterval(c)}},{key:"reset",value:function(){var e=this.state,t=e.ready,i=e.widget;t&&null!==i&&grecaptcha.reset(i)}},{key:"execute",value:function(){var e=this.state,t=e.ready,i=e.widget;t&&null!==i&&grecaptcha.execute(i)}},{key:"_updateReadyState",value:function(){d()&&(this.setState({ready:!0}),clearInterval(c))}},{key:"_renderGrecaptcha",value:function(){this.state.widget=grecaptcha.render(this.props.elementID,{sitekey:this.props.sitekey,callback:this.props.verifyCallback?this.props.verifyCallback:void 0,theme:this.props.theme,type:this.props.type,size:this.props.size,tabindex:this.props.tabindex,hl:this.props.hl,badge:this.props.badge,"expired-callback":this.props.expiredCallback?this.props.expiredCallback:void 0}),this.props.onloadCallback&&this.props.onloadCallback()}},{key:"render",value:function(){return"explicit"===this.props.render&&this.props.onloadCallback?a.default.createElement("div",{id:this.props.elementID,"data-onloadcallbackname":this.props.onloadCallbackName,"data-verifycallbackname":this.props.verifyCallbackName}):a.default.createElement("div",{id:this.props.elementID,className:this.props.className,"data-sitekey":this.props.sitekey,"data-theme":this.props.theme,"data-type":this.props.type,"data-size":this.props.size,"data-badge":this.props.badge,"data-tabindex":this.props.tabindex})}}]),t}(o.Component);t.default=u,u.propTypes=l,u.defaultProps={elementID:"g-recaptcha",className:"g-recaptcha",onloadCallback:void 0,onloadCallbackName:"onloadCallback",verifyCallback:void 0,verifyCallbackName:"verifyCallback",expiredCallback:void 0,expiredCallbackName:"expiredCallback",render:"onload",theme:"light",type:"image",size:"normal",tabindex:"0",hl:"en",badge:"bottomright"},e.exports=t.default},function(e,t){"use strict";function i(e){return function(){return e}}var r=function(){};r.thatReturns=i,r.thatReturnsFalse=i(!1),r.thatReturnsTrue=i(!0),r.thatReturnsNull=i(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t,i){"use strict";var r=function(e){};e.exports=function(e,t,i,n,o,a,s,l){if(r(t),!e){var d;if(void 0===t)d=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[i,n,o,a,s,l],u=0;(d=Error(t.replace(/%s/g,function(){return c[u++]}))).name="Invariant Violation"}throw d.framesToPop=1,d}}},function(e,t,i){"use strict";var r=i(1),n=i(2),o=i(5);e.exports=function(){function e(e,t,i,r,a,s){s!==o&&n(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var i={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return i.checkPropTypes=r,i.PropTypes=i,i}},function(e,t,i){e.exports=i(3)()},function(e,t){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,i){t.exports=e}])},e.exports=r(i(2784))}},function(e){e.O(0,[5338,1565,6812,8204,6826,4233,3164,5988,631,8896,2019,7279,3502,2888,9774,179],function(){return e(e.s=88207)}),_N_E=e.O()}]);
//# sourceMappingURL=[[...path]]-15d52a9b79d22776.js.map